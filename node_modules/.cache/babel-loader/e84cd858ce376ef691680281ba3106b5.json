{"remainingRequest":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\thread-loader\\dist\\cjs.js!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\capstone\\HostelFrontEnd-BV2\\src\\components\\vendor\\hostel_management\\group_management\\AvatarManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\capstone\\HostelFrontEnd-BV2\\src\\components\\vendor\\hostel_management\\group_management\\AvatarManagement.vue","mtime":1610926189552},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L2NhcHN0b25lL0hvc3RlbEZyb250RW5kLUJWMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHNuYWNrQmFyTWl4aW4gZnJvbSAnQC9jb21wb25lbnRzL21peGlucy9zbmFja0Jhcic7CmltcG9ydCBmaWxlTWl4aW5zIGZyb20gJ0AvY29tcG9uZW50cy8vbWl4aW5zL2ZpbGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1JlZ3VsYXRpb25NYW5hZ2VtZW50JywKICBwcm9wczogewogICAgaW1hZ2VVcmw6IFN0cmluZwogIH0sCiAgbWl4aW5zOiBbZmlsZU1peGlucywgc25hY2tCYXJNaXhpbl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZzogewogICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgIGZpbGVzOiBudWxsCiAgICAgIH0sCiAgICAgIHVwbG9hZDogewogICAgICAgIGltYWdlVXJsczogW10KICAgICAgfSwKICAgICAgaW1hZ2VzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBhbGxSdWxlczogZnVuY3Rpb24gYWxsUnVsZXMoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLnJlbnRlci5jb21tb24ucnVsZXMuZGF0YSk7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5yZW50ZXIuY29tbW9uLnJ1bGVzLmRhdGE7CiAgICB9LAogICAgbmV3R3JvdXA6IGZ1bmN0aW9uIG5ld0dyb3VwKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudmVuZG9yLmdyb3VwLm5ld0dyb3VwOwogICAgfQogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKHsKICAgIGdldEFsbFJ1bGVzOiAncmVudGVyL2NvbW1vbi9nZXRBbGxSdWxlcycsCiAgICBzZXROZXdHcm91cFZhbHVlOiAndmVuZG9yL2dyb3VwL3NldE5ld0dyb3VwVmFsdWUnCiAgfSkpLCB7fSwgewogICAgb3BlbkltYWdlVXBsb2FkRGlhbG9nOiBmdW5jdGlvbiBvcGVuSW1hZ2VVcGxvYWREaWFsb2coKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmRpYWxvZy5zaG93ID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpcy4kcmVmcy5maWxlU2VsZWN0LmNsaWNrKCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uRmlsZUNoYW5nZTogZnVuY3Rpb24gb25GaWxlQ2hhbmdlKGUpIHsKICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXM7CiAgICAgIHRoaXMuZmlsZXMgPSBmaWxlczsKICAgICAgdGhpcy51cGxvYWQuaW1hZ2VVcmxzID0gQXJyYXkuZnJvbShmaWxlcykubWFwKGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgICAgcmV0dXJuIFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHVwbG9hZEltYWdlczogZnVuY3Rpb24gdXBsb2FkSW1hZ2VzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBBcnJheS5mcm9tKHRoaXMuZmlsZXMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICBmZC5hcHBlbmQoJ2ZpbGVzJywgZmlsZSwgZmlsZS5kYXRhKTsKICAgICAgfSk7CiAgICAgIHRoaXMudXBsb2FkRmlsZShmZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzMi5pbWFnZVVybCA9PT0gbnVsbCkgewogICAgICAgICAgX3RoaXMyLnVwbG9hZC5pbWFnZVVybHMgPSBfdGhpczIubGlzdFVwbG9hZGVkRmlsZXM7CiAgICAgICAgICBfdGhpczIuZGlhbG9nLnNob3cgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpczIuc2hvd1NuYWNrQmFyKCdU4bqjaSDhuqNuaCBsw6puIHRow6BuaCBjw7RuZycsIHsKICAgICAgICAgICAgY29sb3I6ICdncmVlbicKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMi5pbWFnZXMgPSBfdGhpczIudXBsb2FkLmltYWdlVXJscy5tYXAoZnVuY3Rpb24gKGltYWdlKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgcmVzb3VyY2VVcmw6IGltYWdlCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMi5uZXdHcm91cC5hdmF0YXIgPSBfdGhpczIuaW1hZ2VzWzBdLnJlc291cmNlVXJsOwoKICAgICAgICAgIF90aGlzMi5zZXROZXdHcm91cFZhbHVlKF90aGlzMi5uZXdHcm91cCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5kaWFsb2cuc2hvdyA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzMi5zaG93U25hY2tCYXIoJ1ThuqNpIOG6o25oIGzDqm4gdGjDoG5oIGPDtG5nJywgewogICAgICAgICAgICBjb2xvcjogJ2dyZWVuJwogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMyLmltYWdlcyA9IF90aGlzMi51cGxvYWQuaW1hZ2VVcmxzLm1hcChmdW5jdGlvbiAoaW1hZ2UpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICByZXNvdXJjZVVybDogaW1hZ2UKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXMyLmltYWdlVXJsID0gX3RoaXMyLmltYWdlc1swXS5yZXNvdXJjZVVybDsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKCiAgICAgICAgX3RoaXMyLnNob3dTbmFja0JhcignVOG6o2kg4bqjbmggbMOqbiB0aOG6pXQgYuG6oWknLCB7CiAgICAgICAgICBjb2xvcjogJ3JlZCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9Cn07"},{"version":3,"sources":["AvatarManagement.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-row class=\"mx-0\">\n    <div v-if=\"imageUrl === null\">\n    <v-col\n      cols=\"12\"\n      class=\"cursor ma-0 mt-2 px-5 d-flex justify-center align-center py-7\"\n      style=\"border: 2px dashed #dee2e6; border-radius: 6px; background-size: cover\"\n      @click=\"openImageUploadDialog\"\n      v-bind:style=\"{ 'background-image': 'url(' + images[0].resourceUrl + ')' }\"\n      v-if=\"images[0]\"\n    >\n      <v-icon color=\"#98a6ad\" size=\"25\">mdi-file-image-outline</v-icon>\n    </v-col>\n    <v-col\n      cols=\"12\"\n      class=\"cursor ma-0 mt-2 px-5 d-flex justify-center align-center\"\n      style=\"border: 2px dashed #dee2e6; border-radius: 6px\"\n      @click=\"openImageUploadDialog\"\n      v-else\n    >\n      <v-icon color=\"#98a6ad\" size=\"25\">mdi-file-image-outline</v-icon>\n    </v-col>\n    </div>\n    <div v-if=\"imageUrl !== null\">\n    <v-col\n      cols=\"12\"\n      class=\"cursor ma-0 mt-2 px-5 d-flex justify-center align-center py-7\"\n      style=\"border: 2px dashed #dee2e6; border-radius: 6px; background-size: cover\"\n      @click=\"openImageUploadDialog\"\n      v-bind:style=\"{ 'background-image': 'url(' + imageUrl + ')' }\"\n      v-if=\"imageUrl !== null\"\n    >\n      <v-icon color=\"#98a6ad\" size=\"25\">mdi-file-image-outline</v-icon>\n    </v-col>\n    <v-col\n      cols=\"12\"\n      class=\"cursor ma-0 mt-2 px-5 d-flex justify-center align-center\"\n      style=\"border: 2px dashed #dee2e6; border-radius: 6px\"\n      @click=\"openImageUploadDialog\"\n      v-else\n    >\n      <v-icon color=\"#98a6ad\" size=\"25\">mdi-file-image-outline</v-icon>\n    </v-col>\n    </div>\n    <!-- <v-col cols=\"12\" class=\"ma-0 pa-0 d-flex justify-center\">\n      <v-img\n        :src=\"images[0].resourceUrl\"\n        :lazy-src=\"images[0].resourceUrl\"\n        aspect-ratio=\"1\"\n        v-if=\"images[0]\"\n        max-width=\"200\"\n        min-width=\"200\"\n        contain\n      ></v-img>\n    </v-col> -->\n    <v-dialog v-model=\"dialog.show\" width=\"350\">\n      <v-card height=\"350\" :loading=\"isFileUploading\">\n        <div class=\"d-flex flex-column align-center justify-center\">\n          <input\n            type=\"file\"\n            @change=\"onFileChange\"\n            ref=\"fileSelect\"\n            lang=\"vi\"\n            accept=\"image/*\"\n            class=\"ma-2\"\n          />\n          <div class=\"d-flex flex-wrap\" style=\"height: 250px; overflow-y: auto\">\n            <v-img\n              v-for=\"url in upload.imageUrls\"\n              :key=\"url\"\n              :src=\"url\"\n              height=\"100\"\n              width=\"100\"\n              class=\"ma-1 elevation-2\"\n            ></v-img>\n          </div>\n        </div>\n        <v-card-actions>\n          <v-spacer />\n          <v-btn color=\"primary\" v-if=\"this.upload.imageUrls.length > 0\" @click=\"uploadImages\">\n            <v-icon>cloud_upload</v-icon> Tải lên\n          </v-btn>\n          <v-spacer />\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport snackBarMixin from '@/components/mixins/snackBar';\nimport fileMixins from '@/components//mixins/file';\n\nexport default {\n  name: 'RegulationManagement',\n  props: { imageUrl: String },\n  mixins: [fileMixins, snackBarMixin],\n  data: () => ({\n    dialog: {\n      show: false,\n      files: null,\n    },\n    upload: {\n      imageUrls: [],\n    },\n    images: [],\n  }),\n  computed: {\n    allRules() {\n      console.log(this.$store.state.renter.common.rules.data);\n      return this.$store.state.renter.common.rules.data;\n    },\n    newGroup() {\n      return this.$store.state.vendor.group.newGroup;\n    },\n  },\n  methods: {\n    ...mapActions({\n      getAllRules: 'renter/common/getAllRules',\n      setNewGroupValue: 'vendor/group/setNewGroupValue',\n    }),\n    openImageUploadDialog() {\n      this.dialog.show = true;\n      this.$nextTick(() => this.$refs.fileSelect.click());\n    },\n    onFileChange(e) {\n      const { files } = e.target;\n      this.files = files;\n      this.upload.imageUrls = Array.from(files).map((file) => URL.createObjectURL(file));\n    },\n    uploadImages() {\n      const fd = new FormData();\n      Array.from(this.files).forEach((file) => {\n        fd.append('files', file, file.data);\n      });\n      this.uploadFile(fd)\n        .then(() => {\n          if (this.imageUrl === null) {\n            this.upload.imageUrls = this.listUploadedFiles;\n            this.dialog.show = false;\n            this.showSnackBar('Tải ảnh lên thành công', { color: 'green' });\n            this.images = this.upload.imageUrls.map((image) => ({ resourceUrl: image }));\n            this.newGroup.avatar = this.images[0].resourceUrl;\n            this.setNewGroupValue(this.newGroup);\n          } else {\n            this.dialog.show = false;\n            this.showSnackBar('Tải ảnh lên thành công', { color: 'green' });\n            this.images = this.upload.imageUrls.map((image) => ({ resourceUrl: image }));\n            this.imageUrl = this.images[0].resourceUrl;\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          this.showSnackBar('Tải ảnh lên thất bại', { color: 'red' });\n        });\n    },\n  },\n  created() {},\n};\n</script>\n\n<style>\n.dropzone {\n  border: 2px dashed #dee2e6;\n  background: #fff;\n  border-radius: 6px;\n  cursor: pointer;\n}\n</style>\n"],"sourceRoot":"src/components/vendor/hostel_management/group_management"}]}