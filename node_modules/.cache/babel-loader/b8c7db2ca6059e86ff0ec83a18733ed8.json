{"remainingRequest":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\capstone\\HostelFrontEnd-BV2\\src\\components\\vendor\\overview\\Chatbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\capstone\\HostelFrontEnd-BV2\\src\\components\\vendor\\overview\\Chatbox.vue","mtime":1610216666060},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5sYXN0LWluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovY2Fwc3RvbmUvSG9zdGVsRnJvbnRFbmQtQlYyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovY2Fwc3RvbmUvSG9zdGVsRnJvbnRFbmQtQlYyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOyAvLyBpbXBvcnQgZmlyZWJhc2UgZnJvbSAnLi4vLi4vY29uZmlnL2ZpcmViYXNlJzsKLy8gY29uc3QgeyBzdG9yZSB9ID0gZmlyZWJhc2U7Ci8vIGNvbnN0IGNoYXRDb2xsZWN0aW9uUmVmID0gc3RvcmUuY29sbGVjdGlvbignY2hhdCcpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaGF0Qm94JywKICBwcm9wczogewogICAgaW5kZXg6IE51bWJlciwKICAgIGRvYzogT2JqZWN0LAogICAgaGVpZ2h0OiB7CiAgICAgIGRlZmF1bHQ6ICczNTBweCcKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpdGVtczogW10sCiAgICAgIGlucHV0Q2hhdDogewogICAgICAgIG1vZGVsOiAnJwogICAgICB9LAogICAgICBjaGF0U2hvdzogdHJ1ZSwKICAgICAgZGlhbG9nQWNjZXB0OiBmYWxzZSwKICAgICAgZGlhbG9nRGVueTogZmFsc2UsCiAgICAgIGJhcmdhaW5Eb2NJZDogbnVsbCwKICAgICAgc2hvd1R5cGU6IGZhbHNlLAogICAgICBpc0xvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKHsKICAgIGdldFVzZXI6ICd1c2VyL2dldFVzZXInLAogICAgY3JlYXRlRGVhbDogJ3VzZXIvY3JlYXRlRGVhbCcKICB9KSksIHt9LCB7CiAgICBzaG93QmFyZ2FpblJlcGx5T3ZlcmxheTogZnVuY3Rpb24gc2hvd0JhcmdhaW5SZXBseU92ZXJsYXkoZG9jSWQsIHR5cGUpIHsKICAgICAgdGhpcy5iYXJnYWluRG9jSWQgPSBkb2NJZDsKCiAgICAgIGlmICh0eXBlID09PSAnYWNjZXB0JykgewogICAgICAgIHRoaXMuZGlhbG9nQWNjZXB0ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKHR5cGUgPT09ICdkZW55JykgewogICAgICAgIHRoaXMuZGlhbG9nRGVueSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBteU9uU2Nyb2xsOiBmdW5jdGlvbiBteU9uU2Nyb2xsKCkge30sCiAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pbnB1dENoYXQubW9kZWwubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBjb250ZW50ID0gewogICAgICAgICAgc2VuZGVyOiAndmVuZG9yJywKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuaW5wdXRDaGF0Lm1vZGVsLAogICAgICAgICAgYmFyZ2FpbjogbnVsbCwKICAgICAgICAgIGJvb2tpbmc6IG51bGwsCiAgICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCkKICAgICAgICB9OwogICAgICAgIHRoaXMuZG9jLnJlZi5jb2xsZWN0aW9uKCdtZXNzYWdlcycpLmFkZChjb250ZW50KTsKICAgICAgICB0aGlzLmRvYy5yZWYudXBkYXRlKHsKICAgICAgICAgIGxhc3RlZE1lc3NhZ2U6IGNvbnRlbnQKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXMuc2Nyb2xsVG9Cb3R0b20oKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmlucHV0Q2hhdC5tb2RlbCA9ICcnOwogICAgICB9CiAgICB9LAogICAgYWNjZXB0TWVzc2FnZTogZnVuY3Rpb24gYWNjZXB0TWVzc2FnZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpczIkZG9jJGRhdGEsIHJlbnRlcklkLCB2ZW5kb3JJZCwgdHlwZUlkLCBsYXN0ZWRCYXJnYWluLCBkZWFsOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIkZG9jJGRhdGEgPSBfdGhpczIuZG9jLmRhdGEoKSwgcmVudGVySWQgPSBfdGhpczIkZG9jJGRhdGEucmVudGVySWQsIHZlbmRvcklkID0gX3RoaXMyJGRvYyRkYXRhLnZlbmRvcklkLCB0eXBlSWQgPSBfdGhpczIkZG9jJGRhdGEudHlwZUlkOwogICAgICAgICAgICAgICAgbGFzdGVkQmFyZ2FpbiA9IF90aGlzMi5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uc2VuZGVyID09PSAncmVudGVyJyAmJiBpdGVtLmJhcmdhaW4gJiYgaXRlbS5iYXJnYWluLnN0YXR1cyA9PT0gJ3dhaXQnOwogICAgICAgICAgICAgICAgfSlbMF07CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbGFzdGVkIGJhcmdhaW4nLCBsYXN0ZWRCYXJnYWluKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsYXN0ZWQgYmFyZ2FpbiBwcmljZScsIGxhc3RlZEJhcmdhaW4uYmFyZ2Fpbi5uZXdQcmljZSk7CiAgICAgICAgICAgICAgICBkZWFsID0gewogICAgICAgICAgICAgICAgICBvZmZlcmVkUHJpY2U6IGxhc3RlZEJhcmdhaW4uYmFyZ2Fpbi5uZXdQcmljZSwKICAgICAgICAgICAgICAgICAgcmVudGVySWQ6IHJlbnRlcklkLAogICAgICAgICAgICAgICAgICB0eXBlSWQ6IHR5cGVJZCwKICAgICAgICAgICAgICAgICAgdmVuZG9ySWQ6IHZlbmRvcklkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX3RoaXMyLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY3JlYXRlRGVhbChkZWFsKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMyLm5ld2x5Q3JlYXRlZERlYWwpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5kb2MucmVmLmNvbGxlY3Rpb24oJ21lc3NhZ2VzJykuZG9jKF90aGlzMi5iYXJnYWluRG9jSWQpLnVwZGF0ZSh7CiAgICAgICAgICAgICAgICAgICdiYXJnYWluLnN0YXR1cyc6ICdhY2NlcHQnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIuZG9jLnJlZi5jb2xsZWN0aW9uKCdtZXNzYWdlcycpLmFkZCh7CiAgICAgICAgICAgICAgICAgIHNlbmRlcjogJ3ZlbmRvcicsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDaOG6pXAgbmjhuq1uIHRy4bqjIGdpw6EgY+G7p2EgYuG6oW4nLAogICAgICAgICAgICAgICAgICBiYXJnYWluOiB7CiAgICAgICAgICAgICAgICAgICAgcmVwbHk6ICdhY2NlcHQnLAogICAgICAgICAgICAgICAgICAgIGRlYWxJZDogX3RoaXMyLm5ld2x5Q3JlYXRlZERlYWwuZGVhbElkCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGJvb2tpbmc6IGZhbHNlLAogICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzMi5kaWFsb2dBY2NlcHQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zY3JvbGxUb0JvdHRvbSgpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVueU1lc3NhZ2U6IGZ1bmN0aW9uIGRlbnlNZXNzYWdlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYmFyZ2FpbkRvY0lkKTsKICAgICAgdGhpcy5kb2MucmVmLmNvbGxlY3Rpb24oJ21lc3NhZ2VzJykuZG9jKHRoaXMuYmFyZ2FpbkRvY0lkKS51cGRhdGUoewogICAgICAgICdiYXJnYWluLnN0YXR1cyc6ICdkZW55JwogICAgICB9KTsKICAgICAgdGhpcy5kb2MucmVmLmNvbGxlY3Rpb24oJ21lc3NhZ2VzJykuYWRkKHsKICAgICAgICBzZW5kZXI6ICd2ZW5kb3InLAogICAgICAgIG1lc3NhZ2U6ICdU4burIGNo4buRaSB0cuG6oyBnacOhIGPhu6dhIGLhuqFuJywKICAgICAgICBiYXJnYWluOiB7CiAgICAgICAgICByZXBseTogJ2RlbnknCiAgICAgICAgfSwKICAgICAgICBib29raW5nOiBmYWxzZSwKICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCkKICAgICAgfSk7CiAgICAgIHRoaXMuZGlhbG9nRGVueSA9IGZhbHNlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMy5zY3JvbGxUb0JvdHRvbSgpOwogICAgICB9KTsgLy8gdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgZmV0Y2hNZXNzYWdlczogZnVuY3Rpb24gZmV0Y2hNZXNzYWdlcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLmRvYy5yZWYuY29sbGVjdGlvbignbWVzc2FnZXMnKS5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnYXNjJykub25TbmFwc2hvdChmdW5jdGlvbiAocXVlcnlTbmFwc2hvdCkgewogICAgICAgIHZhciBhbGxNZXNzYWdlcyA9IFtdOwogICAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICBhbGxNZXNzYWdlcy5wdXNoKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZG9jLmRhdGEoKSksIHt9LCB7CiAgICAgICAgICAgIGlkOiBkb2MuaWQKICAgICAgICAgIH0pKTsKICAgICAgICB9KTsKICAgICAgICBfdGhpczQuaXRlbXMgPSBhbGxNZXNzYWdlczsKCiAgICAgICAgX3RoaXM0LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM0LnNjcm9sbFRvQm90dG9tKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNjcm9sbFRvQm90dG9tOiBmdW5jdGlvbiBzY3JvbGxUb0JvdHRvbSgpIHsKICAgICAgdmFyIGNoYXRib3hlcyA9IHRoaXMuJGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGF0Ym94Jyk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXRib3hlcy5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgIGNoYXRib3hlc1tpXS5zY3JvbGxUb3AgPSBjaGF0Ym94ZXNbaV0uc2Nyb2xsSGVpZ2h0OwogICAgICAgIGNvbnNvbGUubG9nKGNoYXRib3hlc1tpXSk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZUNoYXQ6IGZ1bmN0aW9uIGNsb3NlQ2hhdCgpIHsKICAgICAgLy8gdGhpcy5jaGF0U2hvdyA9IGZhbHNlOwogICAgICB0aGlzLiRlbWl0KCdjbG9zZUNoYXQnLCB0aGlzLmluZGV4KTsKICAgIH0sCiAgICBnZXRBdmF0YXJUaXRsZTogZnVuY3Rpb24gZ2V0QXZhdGFyVGl0bGUobmFtZSkgewogICAgICByZXR1cm4gbmFtZS5zdWJzdHJpbmcobmFtZS5sYXN0SW5kZXhPZignICcpICsgMSkuc3Vic3RyaW5nKDAsIDEpOwogICAgfSwKICAgIHZpZXdMaXN0Qm9va2luZ3M6IGZ1bmN0aW9uIHZpZXdMaXN0Qm9va2luZ3MoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvdmVuZG9yL2Jvb2tpbmcnKTsKICAgIH0sCiAgICBnZXRUaW1lU2VuZE1zZzogZnVuY3Rpb24gZ2V0VGltZVNlbmRNc2coY3JlYXRlZFRpbWUpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShjcmVhdGVkVGltZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCd2aS12bicpOwogICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKGNyZWF0ZWRUaW1lKS50b0xvY2FsZVRpbWVTdHJpbmcoJ3ZpLXZuJykuc3Vic3RyKDAsIDUpOwogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygndmktdm4nKTsKCiAgICAgIGlmICh0b2RheSA9PT0gZGF0ZSkgewogICAgICAgIHJldHVybiB0aW1lOwogICAgICB9CgogICAgICByZXR1cm4gIiIuY29uY2F0KHRpbWUsICIsICIpLmNvbmNhdChkYXRlKTsKICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgaWYgKCF0aGlzLnVzZXJTdGF0ZSkgewogICAgICBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VyXSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNS5mZXRjaE1lc3NhZ2VzKCk7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5mZXRjaE1lc3NhZ2VzKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZG9jOiBmdW5jdGlvbiBkb2MoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjYWxsIGZldGNoIG1lc3NhZ2UgYWdhaW4nKTsKICAgICAgdGhpcy5mZXRjaE1lc3NhZ2VzKCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKHsKICAgIGdldFVzZXJCeUlkOiAndmVuZG9yL292ZXJ2aWV3L2dldFVzZXJCeUlkJywKICAgIGZpbmRUeXBlc0J5SWQ6ICd2ZW5kb3IvZ3JvdXAvZmluZFR5cGVzQnlJZCcsCiAgICBmaW5kR3JvdXBCeUlkOiAndmVuZG9yL2dyb3VwL2ZpbmRHcm91cEJ5SWQnCiAgfSkpLCB7fSwgewogICAgaGFzQVBlbmRpbmdCYXJnYWluOiBmdW5jdGlvbiBoYXNBUGVuZGluZ0JhcmdhaW4oKSB7CiAgICAgIHZhciBtZXNzID0gdGhpcy5pdGVtc1t0aGlzLml0ZW1zLmxlbmd0aCAtIDFdOwoKICAgICAgaWYgKG1lc3MgJiYgbWVzcy5iYXJnYWluICYmIG1lc3MuYmFyZ2Fpbi5zdGF0dXMgPT09ICd3YWl0JykgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgdHlwZTogZnVuY3Rpb24gdHlwZSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5maW5kVHlwZXNCeUlkKHRoaXMuZG9jLmRhdGEoKS50eXBlSWQpKTsKICAgICAgcmV0dXJuIHRoaXMuZmluZFR5cGVzQnlJZCh0aGlzLmRvYy5kYXRhKCkudHlwZUlkKTsKICAgIH0sCiAgICBncm91cDogZnVuY3Rpb24gZ3JvdXAoKSB7CiAgICAgIHZhciBncm91cElkID0gdGhpcy50eXBlLmdyb3VwSWQ7CiAgICAgIHJldHVybiB0aGlzLmZpbmRHcm91cEJ5SWQoZ3JvdXBJZCk7CiAgICB9LAogICAgdXNlclN0YXRlOiBmdW5jdGlvbiB1c2VyU3RhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXI7CiAgICB9LAogICAgcmVudGVySWQ6IGZ1bmN0aW9uIHJlbnRlcklkKCkgewogICAgICByZXR1cm4gdGhpcy5kb2MuZGF0YSgpLnJlbnRlcklkOwogICAgfSwKICAgIHJlbnRlcjogZnVuY3Rpb24gcmVudGVyKCkgewogICAgICByZXR1cm4gdGhpcy5nZXRVc2VyQnlJZCh0aGlzLnJlbnRlcklkKTsKICAgIH0sCiAgICBuZXdseUNyZWF0ZWREZWFsOiBmdW5jdGlvbiBuZXdseUNyZWF0ZWREZWFsKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlci5kZWFscy5uZXdseUNyZWF0ZWQ7CiAgICB9LAogICAgZmlsdGVyZWRNZXNzYWdlOiBmdW5jdGlvbiBmaWx0ZXJlZE1lc3NhZ2UoKSB7CiAgICAgIHJldHVybiB0aGlzLml0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLnNlbmRlciA9PT0gJ3ZlbmRvcicgJiYgaXRlbS5iYXJnYWluKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9Cn07"},{"version":3,"sources":["Chatbox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <!-- eslint-disable max-len -->\n  <div v-if=\"chatShow\" style=\"height: 100%; overflow-y: hidden\" class=\"d-flex flex-column\">\n    <!-- dialog xác nhận đồng ý trả giá -->\n    <v-overlay v-model=\"dialogAccept\" width=\"350\" absolute>\n      <v-card class=\"white\">\n        <v-card-title style=\"backgroundcolor: #98b7d7; color: #727cf5\">Xác nhận</v-card-title>\n        <v-card-text class=\"text-center mt-3\" style=\"fontsize: 20px; color: black\"\n          >Bạn sẽ chấp nhận trả giá này ?</v-card-text\n        >\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"#4F60C9\" text @click=\"acceptMessage\">Đồng ý</v-btn>\n          <v-btn color=\"grey\" text @click=\"dialogAccept = false\">Hủy</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-overlay>\n    <!-- dialog xác nhận từ chối trả giá -->\n    <v-overlay v-model=\"dialogDeny\" width=\"350\" absolute>\n      <v-card class=\"white\">\n        <v-card-title style=\"backgroundcolor: #98b7d7; color: #727cf5\">Xác nhận</v-card-title>\n        <v-card-text class=\"text-center mt-3\" style=\"fontsize: 20px; color: black\"\n          >Bạn sẽ từ chối trả giá này ?</v-card-text\n        >\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"#4F60C9\" text @click=\"denyMessage\">Đồng ý</v-btn>\n          <v-btn color=\"grey\" text @click=\"dialogDeny = false\">Hủy</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-overlay>\n    <!-- sub header thông tin phòng trọ -->\n    <v-overlay :value=\"isLoading\" absolute>\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\n    </v-overlay>\n    <v-card\n      v-if=\"!userState.isLoading && userState.success\"\n      width=\"100%\"\n      class=\"d-flex flex-column pa-2\"\n      style=\"z-index: 9999\"\n    >\n      <div class=\"d-flex align-center\">\n        <v-avatar color=\"#727cf5\" height=\"30\" width=\"30\" min-width=\"30\">\n          <v-img max-height=\"30\" max-width=\"30\" v-if=\"renter.avatar\" :src=\"renter.avatar\" />\n          <span class=\"text-overline white--text\" v-else>{{\n            getAvatarTitle(renter.username)\n          }}</span>\n        </v-avatar>\n        <span class=\"text-subtitle-2 ml-3 text-primary\">{{ renter.username }}</span>\n        <v-btn class=\"ml-auto\" small icon color=\"#727cf5\" @click=\"closeChat()\">\n          <v-icon small>clear</v-icon>\n        </v-btn>\n      </div>\n      <div class=\"d-flex align-center\">\n        <span class=\"size-sub-3 font-nunito mt-1 text-gray font-weight-bold\">{{ type.title }}</span>\n        <v-btn class=\"ml-auto\" small icon color=\"#6c757d\" @click=\"showType = !showType\">\n          <v-icon small>\n            {{ showType ? 'mdi-chevron-up' : 'mdi-chevron-down' }}\n          </v-icon>\n        </v-btn>\n      </div>\n      <div v-show=\"showType\">\n        <div class=\"d-flex flex-column justify-center\">\n          <span class=\"size-sub-3 d-flex align-center font-nunito\" style=\"color: #4250f2\"\n            ><v-icon small color=\"#727cf5\" class=\"mr-1\" left>mdi-home-currency-usd</v-icon\n            >{{ type.price }} {{ type.priceUnit }}</span\n          >\n          <span class=\"size-sub-3 d-flex align-center font-nunito\" style=\"color: #4250f2\"\n            ><v-icon small color=\"#727cf5\" class=\"mr-1\" left>mdi-home-group</v-icon\n            >{{ group.groupName }}</span\n          >\n        </div>\n      </div>\n    </v-card>\n    <v-divider />\n    <div class=\"chatbox rounded-l overflow-y-auto chatbox\" :style=\"{ height: height }\" id=\"chatbox\">\n      <v-list\n        v-scroll.self=\"myOnScroll\"\n        align=\"center\"\n        justify=\"center\"\n        max-height=\"auto\"\n        min-height=\"300px\"\n        class=\"pa-1\"\n      >\n        <!-- <v-list-item color=\"success\" two-line>\n          <v-list-item-content>\n            <v-list-item-title>{{ type.title }}</v-list-item-title>\n            <v-list-item-content>\n              <p>\n                <v-icon>attach_money</v-icon>\n                {{ type.price }}\n                {{ type.priceUnit }}\n              </p>\n              <p>\n                <v-icon>room</v-icon>\n                {{ group.address.streetName }}\n              </p>\n            </v-list-item-content>\n          </v-list-item-content>\n        </v-list-item>\n        <v-divider /> -->\n        <v-list-item v-for=\"(item, i) in filteredMessage\" v-bind:key=\"i\">\n          <v-list-item-content>\n            <div v-if=\"item.sender === 'renter'\" class=\"d-flex flex-column align-start\">\n              <!-- bảng thông tin trả giá và button đồng ý từ chối và dialog -->\n              <div\n                v-if=\"item.bargain\"\n                class=\"event d-flex flex-column justify-center align-center pa-2 renterEvent\"\n                _class=\"blue lighten-5 border-deal pa-1\"\n                style=\"width: 100%\"\n              >\n                <span class=\"font-weight-bold text-primary font-nunito\" style=\"font-size: 0.9375rem\"\n                  >TRẢ GIÁ MỚI</span\n                >\n                <div class=\"d-flex justify-space-between align-center my-4\" style=\"width: 100%\">\n                  <span\n                    class=\"font-nunito font-weight-regular text-gray text-subtitle-2 d-flex align-center\"\n                    ><v-icon class=\"mr-1\">mdi-home-currency-usd</v-icon>\n                    {{ item.bargain.originalPrice }} {{ type.priceUnit }}</span\n                  >\n                  <span class=\"font-nunito font-weight-regular text-warning text-subtitle-2\">\n                    <v-icon color=\"#ffbc00\">\n                      {{\n                        Number(item.bargain.originalPrice) >= Number(item.bargain.newPrice)\n                          ? 'mdi mdi-arrow-down-bold'\n                          : 'mdi mdi-arrow-up-bold'\n                      }}\n                    </v-icon>\n                    {{ item.bargain.newPrice }} {{ type.priceUnit }}\n                  </span>\n                </div>\n                <v-row class=\"d-flex justify-center\">\n                  <v-col cols=\"12\" class=\"d-flex justify-center\">\n                    <div v-if=\"item.bargain.status === 'wait'\" class=\"d-flex justify-space-around\">\n                      <v-btn\n                        small\n                        outlined\n                        color=\"#9e9fa7\"\n                        class=\"mx-1\"\n                        @click=\"showBargainReplyOverlay(item.id, 'deny')\"\n                        >Từ chối</v-btn\n                      >\n                      <v-btn\n                        small\n                        color=\"#4F60C9\"\n                        dark\n                        class=\"mx-1\"\n                        @click=\"showBargainReplyOverlay(item.id, 'accept')\"\n                        >Chấp nhận</v-btn\n                      >\n                    </div>\n                    <span v-if=\"item.bargain.status === 'accept'\" class=\"text-caption font-nunito\">\n                      <v-icon color=\"#727cf5\" left>thumb_up</v-icon>Bạn đã đồng ý\n                    </span>\n                    <span v-if=\"item.bargain.status === 'deny'\" class=\"text-caption font-nunito\">\n                      <v-icon color=\"grey\" left>thumb_down</v-icon>Bạn đã không đồng ý\n                    </span>\n                    <span v-if=\"item.bargain.status === 'cancel'\" class=\"text-subtitle-2\">\n                      <v-card color=\"#e4e6eb\" class=\"py-2 mb-3 ma-1\">\n                        {{ renter.username }} <span style=\"opacity: 0.8\">đã hủy trả giá này</span>\n                      </v-card>\n                    </span>\n                  </v-col>\n                </v-row>\n              </div>\n              <p\n                v-if=\"item.book\"\n                v-ripple\n                style=\"width: 100%\"\n                class=\"renterEvent lighten-5 pa-2 rounded cursor\"\n                @click=\"viewListBookings()\"\n              >\n                <span class=\"font-weight-bold\" style=\"color: #727cf5\">LỊCH HẸN</span>\n                <!-- <v-divider class=\"my-1\"></v-divider>Ngày: -->\n                <br />\n                <v-row no-gutters class=\"font-nunito mt-3 mb-3\" style=\"font-size: 14px\">\n                  <v-col cols=\"3\"><v-icon left>event</v-icon></v-col>\n                  <v-col cols=\"8\" class=\"ml-1 d-flex justify-start\"\n                    ><span>{{ item.book.date }}</span></v-col\n                  >\n                  <v-col cols=\"3\"><v-icon left>access_time</v-icon></v-col>\n                  <v-col cols=\"8\" class=\"ml-1 d-flex justify-start\"\n                    ><span>{{ item.book.time }}</span></v-col\n                  >\n                  <v-col cols=\"3\"><v-icon left>mdi-home-group</v-icon></v-col>\n                  <v-col cols=\"8\" class=\"ml-1 d-flex justify-start\"\n                    ><span>{{ group.address.streetName }}</span></v-col\n                  >\n                </v-row>\n                <span v-if=\"item.book.cancel\">\n                  <v-card color=\"#e4e6eb\" class=\"py-2 mb-3 ma-1\"> Lịch hẹn đã hủy </v-card>\n                </span>\n              </p>\n              <span\n                v-if=\"!item.book && !item.bargain\"\n                v-ripple\n                class=\"lighten-5 py-2 px-5 max-w-3/4 vendorChatMessage font-nunito\"\n                >{{ item.message }}</span\n              >\n              <span class=\"font-nunito text-gray text-caption\">{{\n                getTimeSendMsg(item.createdAt)\n              }}</span>\n            </div>\n            <div v-if=\"item.sender === 'vendor'\" class=\"d-flex flex-column align-end\">\n              <span\n                _style=\"width: 75%\"\n                v-ripple\n                class=\"lighten-5 py-2 px-5 max-w-3/4 renterChatMessage font-nunito\"\n                v-if=\"!item.book && !item.bargain\"\n                >{{ item.message }}</span\n              >\n              <span class=\"font-nunito text-gray text-caption\">{{\n                getTimeSendMsg(item.createdAt)\n              }}</span>\n              <span\n                style=\"width: auto; max-width: 75%\"\n                v-ripple\n                class=\"red lighten-5 pa-2 rounded\"\n                v-if=\"item.bargain && !item.bargain.dealId\"\n                >Bạn đã không đồng ý với mức giá trên</span\n              >\n            </div>\n          </v-list-item-content>\n        </v-list-item>\n      </v-list>\n    </div>\n    <!-- chat text -->\n    <div class=\"d-flex flex-no-wrap mt-1 mx-2\">\n      <v-text-field\n        autofocus\n        clearable\n        dense\n        flat\n        outlined\n        placeholder=\"Aa\"\n        v-model=\"inputChat.model\"\n        class=\"ma-1 text-body-2\"\n        hide-details\n        :disabled=\"hasAPendingBargain\"\n        v-on:keyup.enter=\"sendMessage\"\n      ></v-text-field>\n      <v-btn icon class=\"ma-1\" depressed @click=\"sendMessage\" :disabled=\"hasAPendingBargain\">\n        <v-icon color=\"#727cf5\">send</v-icon>\n      </v-btn>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex';\n// import firebase from '../../config/firebase';\n\n// const { store } = firebase;\n// const chatCollectionRef = store.collection('chat');\n\nexport default {\n  name: 'ChatBox',\n  props: {\n    index: Number,\n    doc: Object,\n    height: {\n      default: '350px',\n    },\n  },\n  data: () => ({\n    items: [],\n    inputChat: {\n      model: '',\n    },\n    chatShow: true,\n    dialogAccept: false,\n    dialogDeny: false,\n    bargainDocId: null,\n    showType: false,\n    isLoading: false,\n  }),\n  methods: {\n    ...mapActions({\n      getUser: 'user/getUser',\n      createDeal: 'user/createDeal',\n    }),\n    showBargainReplyOverlay(docId, type) {\n      this.bargainDocId = docId;\n      if (type === 'accept') {\n        this.dialogAccept = true;\n      }\n      if (type === 'deny') {\n        this.dialogDeny = true;\n      }\n    },\n    myOnScroll() {},\n    sendMessage() {\n      if (this.inputChat.model.length > 0) {\n        const content = {\n          sender: 'vendor',\n          message: this.inputChat.model,\n          bargain: null,\n          booking: null,\n          createdAt: Date.now(),\n        };\n        this.doc.ref.collection('messages').add(content);\n        this.doc.ref.update({\n          lastedMessage: content,\n        });\n        this.$nextTick(() => this.scrollToBottom());\n        this.inputChat.model = '';\n      }\n    },\n\n    async acceptMessage() {\n      const { renterId, vendorId, typeId } = this.doc.data();\n      const lastedBargain = this.items.filter(\n        (item) => item.sender === 'renter' && item.bargain && item.bargain.status === 'wait',\n      )[0];\n      console.log('lasted bargain', lastedBargain);\n      console.log('lasted bargain price', lastedBargain.bargain.newPrice);\n      const deal = {\n        offeredPrice: lastedBargain.bargain.newPrice,\n        renterId,\n        typeId,\n        vendorId,\n      };\n      this.isLoading = true;\n      await this.createDeal(deal);\n      console.log(this.newlyCreatedDeal);\n      this.doc.ref.collection('messages').doc(this.bargainDocId).update({\n        'bargain.status': 'accept',\n      });\n      this.doc.ref.collection('messages').add({\n        sender: 'vendor',\n        message: 'Chấp nhận trả giá của bạn',\n        bargain: {\n          reply: 'accept',\n          dealId: this.newlyCreatedDeal.dealId,\n        },\n        booking: false,\n        createdAt: Date.now(),\n      });\n      this.dialogAccept = false;\n      this.isLoading = false;\n      this.$nextTick(() => this.scrollToBottom());\n    },\n\n    denyMessage() {\n      console.log(this.bargainDocId);\n      this.doc.ref.collection('messages').doc(this.bargainDocId).update({\n        'bargain.status': 'deny',\n      });\n      this.doc.ref.collection('messages').add({\n        sender: 'vendor',\n        message: 'Từ chối trả giá của bạn',\n        bargain: {\n          reply: 'deny',\n        },\n        booking: false,\n        createdAt: Date.now(),\n      });\n      this.dialogDeny = false;\n      this.$nextTick(() => this.scrollToBottom());\n      // this.visible = false;\n    },\n\n    fetchMessages() {\n      this.doc.ref\n        .collection('messages')\n        .orderBy('createdAt', 'asc')\n        .onSnapshot((querySnapshot) => {\n          const allMessages = [];\n          querySnapshot.forEach((doc) => {\n            allMessages.push({ ...doc.data(), id: doc.id });\n          });\n          this.items = allMessages;\n          this.$nextTick(() => this.scrollToBottom());\n        });\n    },\n    scrollToBottom() {\n      const chatboxes = this.$el.querySelectorAll('.chatbox');\n      for (let i = 0; i < chatboxes.length; i += 1) {\n        chatboxes[i].scrollTop = chatboxes[i].scrollHeight;\n        console.log(chatboxes[i]);\n      }\n    },\n    closeChat() {\n      // this.chatShow = false;\n      this.$emit('closeChat', this.index);\n    },\n    getAvatarTitle(name) {\n      return name.substring(name.lastIndexOf(' ') + 1).substring(0, 1);\n    },\n    viewListBookings() {\n      this.$router.push('/vendor/booking');\n    },\n    getTimeSendMsg(createdTime) {\n      const date = new Date(createdTime).toLocaleDateString('vi-vn');\n      const time = new Date(createdTime).toLocaleTimeString('vi-vn').substr(0, 5);\n      const today = new Date().toLocaleDateString('vi-vn');\n      if (today === date) {\n        return time;\n      }\n      return `${time}, ${date}`;\n    },\n  },\n  created() {\n    if (!this.userState) {\n      Promise.all([this.getUser]).then(() => this.fetchMessages());\n    } else {\n      this.fetchMessages();\n    }\n  },\n  watch: {\n    doc() {\n      console.log('call fetch message again');\n      this.fetchMessages();\n    },\n  },\n  computed: {\n    ...mapGetters({\n      getUserById: 'vendor/overview/getUserById',\n      findTypesById: 'vendor/group/findTypesById',\n      findGroupById: 'vendor/group/findGroupById',\n    }),\n    hasAPendingBargain() {\n      const mess = this.items[this.items.length - 1];\n      if (mess && mess.bargain && mess.bargain.status === 'wait') {\n        return true;\n      }\n      return false;\n    },\n    type() {\n      console.log(this.findTypesById(this.doc.data().typeId));\n      return this.findTypesById(this.doc.data().typeId);\n    },\n    group() {\n      const { groupId } = this.type;\n      return this.findGroupById(groupId);\n    },\n    userState() {\n      return this.$store.state.user.user;\n    },\n    renterId() {\n      return this.doc.data().renterId;\n    },\n    renter() {\n      return this.getUserById(this.renterId);\n    },\n    newlyCreatedDeal() {\n      return this.$store.state.user.deals.newlyCreated;\n    },\n    filteredMessage() {\n      return this.items.filter((item) => {\n        if (item.sender === 'vendor' && item.bargain) {\n          return false;\n        }\n        return true;\n      });\n    },\n  },\n  mounted() {},\n};\n</script>\n<style>\n.text-color-deal {\n  color: #9c0621;\n}\n.border-deal {\n  border: 1px solid black;\n  border-radius: 5px;\n}\n.event {\n  background-color: #fef5e4;\n}\n.font-nunito {\n  font-family: 'Nunito', sans-serif !important;\n}\n.renterChatMessage {\n  background-color: #f0f2f5;\n  border-radius: 20px;\n  font-size: 14px;\n  font-family: 'Nunito', sans-serif !important;\n}\n.renterEvent {\n  border-radius: 0.25rem !important;\n  background-color: #f9f9fd !important;\n}\n.vendorChatMessage {\n  background-color: #fef5e4;\n  border-radius: 20px;\n  font-size: 14px;\n  font-family: 'Nunito', sans-serif !important;\n}\n.v-text-field--outlined >>> fieldset {\n  border-color: #727cf5;\n}\n</style>\n"],"sourceRoot":"src/components/vendor/overview"}]}