{"remainingRequest":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\capstone\\HostelFrontEnd-BV2\\src\\store\\modules\\user.js","dependencies":[{"path":"D:\\capstone\\HostelFrontEnd-BV2\\src\\store\\modules\\user.js","mtime":1611653116768},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2NhcHN0b25lL0hvc3RlbEZyb250RW5kLUJWMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L2NhcHN0b25lL0hvc3RlbEZyb250RW5kLUJWMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Cgp2YXIgbXlTdGF0ZSA9IGZ1bmN0aW9uIG15U3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIHVzZXI6IHsKICAgICAgZGF0YTogbnVsbCwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgaXNVcGRhdGluZzogZmFsc2UsCiAgICAgIHN1Y2Nlc3M6IG51bGwsCiAgICAgIGVycm9yOiBudWxsCiAgICB9LAogICAgY29udHJhY3RzOiB7CiAgICAgIGRhdGE6IFtdLAogICAgICBwYWdlOiBbMV0sCiAgICAgIHNpemU6IDUwLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBpc0NyZWF0aW5nOiBmYWxzZSwKICAgICAgaXNVcGRhdGluZzogZmFsc2UsCiAgICAgIG5ld2x5Q3JlYXRlZDogbnVsbCwKICAgICAgc3VjY2VzczogbnVsbCwKICAgICAgZXJyb3I6IG51bGwKICAgIH0sCiAgICBib29raW5nczogewogICAgICBkYXRhOiBbXSwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgaXNDcmVhdGluZzogZmFsc2UsCiAgICAgIGlzVXBkYXRpbmc6IGZhbHNlLAogICAgICBzdWNjZXNzOiBudWxsLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgbmV3bHlDcmVhdGVkOiBudWxsCiAgICB9LAogICAgZGVhbHM6IHsKICAgICAgZGF0YTogW10sCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIHN1Y2Nlc3M6IG51bGwsCiAgICAgIGVycm9yOiBudWxsLAogICAgICBuZXdseUNyZWF0ZWQ6IG51bGwKICAgIH0sCiAgICBub3RpZmljYXRpb25zOiB7CiAgICAgIGRhdGE6IFtdLAogICAgICBpc0NyZWF0aW5nOiBmYWxzZSwKICAgICAgc3VjY2VzczogbnVsbCwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIG5ldzogbnVsbAogICAgfSwKICAgIGZlZWRiYWNrOiB7CiAgICAgIGRhdGE6IFtdLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBzdWNjZXNzOiBudWxsLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgZmVlZGJhY2tVcGRhdGU6IG51bGwKICAgIH0sCiAgICByZXF1ZXN0czogewogICAgICBkYXRhOiBbXSwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgaXNDcmVhdGluZzogZmFsc2UsCiAgICAgIGVycm9yOiBudWxsLAogICAgICBzdWNjZXNzOiBudWxsCiAgICB9LAogICAgcmVudGVyczogewogICAgICBkYXRhOiBbXSwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIHN1Y2Nlc3M6IG51bGwKICAgIH0sCiAgICB2ZW5kb3JzOiB7CiAgICAgIGRhdGE6IFtdLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgc3VjY2VzczogbnVsbAogICAgfSwKICAgIHR5cGVzOiB7CiAgICAgIGRhdGE6IFtdLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBpc1VwZGF0aW5nOiBmYWxzZSwKICAgICAgZXJyb3I6IG51bGwsCiAgICAgIHN1Y2Nlc3M6IG51bGwKICAgIH0KICB9Owp9OwoKdmFyIG15R2V0dGVycyA9IHsKICAvLyBnZXQgbGFzdGVkIGRlYWwKICBmaW5kTGFzdGVkRGVhbDogZnVuY3Rpb24gZmluZExhc3RlZERlYWwoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAocmVudGVySWQsIHZlbmRvcklkLCB0eXBlSWQpIHsKICAgICAgdmFyIHJlc3VsdCA9IHN0YXRlLmRlYWxzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChkZWFsKSB7CiAgICAgICAgY29uc29sZS5sb2coc3RhdGUuZGVhbHMuZGF0YSk7CgogICAgICAgIGlmIChkZWFsLnJlbnRlci51c2VySWQgPT09IHJlbnRlcklkICYmIGRlYWwudmVuZG9yLnVzZXJJZCA9PT0gdmVuZG9ySWQgJiYgZGVhbC50eXBlLnR5cGVJZCA9PT0gdHlwZUlkICYmIGRlYWwuc3RhdHVzID09PSAnQ1JFQVRFRCcpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9KTsKICAgICAgcmVzdWx0ID0gcmVzdWx0LnNvcnQoZnVuY3Rpb24gKGRlYWwxLCBkZWFsMikgewogICAgICAgIHJldHVybiBkZWFsMS5jcmVhdGlvblRpbWUgLSBkZWFsMi5jcmVhdGlvblRpbWU7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygibGFzdGVkIGRlYWw6ICIuY29uY2F0KHJlc3VsdFswXSkpOwogICAgICByZXR1cm4gcmVzdWx0WzBdOwogICAgfTsKICB9LAogIGZpbmRQZW5kaW5nQm9va2luZzogZnVuY3Rpb24gZmluZFBlbmRpbmdCb29raW5nKHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHJlbnRlcklkLCB2ZW5kb3JJZCwgdHlwZUlkKSB7CiAgICAgIHZhciByZXN1bHQgPSBzdGF0ZS5ib29raW5ncy5kYXRhLmZpbHRlcihmdW5jdGlvbiAoYm9va2luZykgewogICAgICAgIGlmIChib29raW5nLnJlbnRlci5yZW50ZXJJZCA9PT0gcmVudGVySWQgJiYgYm9va2luZy52ZW5kb3IudmVuZG9ySWQgPT09IHZlbmRvcklkICYmIGJvb2tpbmcudHlwZS50eXBlSWQgPT09IHR5cGVJZCAmJiBib29raW5nLnN0YXR1cyA9PT0gJ0lOQ09NSU5HJykgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygicGVuZGluZyBib29raW5nICIuY29uY2F0KHJlc3VsdFswXSkpOwogICAgICByZXR1cm4gcmVzdWx0WzBdOwogICAgfTsKICB9LAogIGZpbmREZWFsQnlJZDogZnVuY3Rpb24gZmluZERlYWxCeUlkKHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGlkKSB7CiAgICAgIHZhciByZXN1bHQgPSBzdGF0ZS5kZWFscy5kYXRhLmZpbHRlcihmdW5jdGlvbiAoZGVhbCkgewogICAgICAgIHJldHVybiBkZWFsLmRlYWxJZCA9PT0gaWQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0WzBdOwogICAgfTsKICB9LAogIGZpbmRCb29raW5nQnlJZDogZnVuY3Rpb24gZmluZEJvb2tpbmdCeUlkKHN0YXRlKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGlkKSB7CiAgICAgIHZhciByZXN1bHQgPSBzdGF0ZS5ib29raW5ncy5kYXRhLmZpbmQoZnVuY3Rpb24gKGJvb2tpbmcpIHsKICAgICAgICByZXR1cm4gYm9va2luZy5ib29raW5nSWQgPT09IE51bWJlcihpZCk7CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfTsKICB9LAogIGZpbmRDb250cmFjdEJ5SWQ6IGZ1bmN0aW9uIGZpbmRDb250cmFjdEJ5SWQoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHsKICAgICAgY29uc29sZS5sb2coJ2ZpbmQgY29udHJhY3QgaWQnLCBpZCk7CiAgICAgIHZhciBjb250cmFjdCA9IHN0YXRlLmNvbnRyYWN0cy5kYXRhLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5jb250cmFjdElkID09PSBOdW1iZXIoaWQpOwogICAgICB9KTsKICAgICAgcmV0dXJuIGNvbnRyYWN0OwogICAgfTsKICB9Cn07CnZhciBtdXRhdGlvblR5cGVzID0gewogIENSRUFURV9ST09NX1JFUVVFU1RfUkVRVUVTVDogJ0NSRUFURV9ST09NX1JFUVVFU1RfUkVRVUVTVCcsCiAgQ1JFQVRFX1JPT01fUkVRVUVTVF9TVUNDRVNTOiAnQ1JFQVRFX1JPT01fUkVRVUVTVF9TVUNDRVNTJywKICBDUkVBVEVfUk9PTV9SRVFVRVNUX0ZBSUxVUkU6ICdDUkVBVEVfUk9PTV9SRVFVRVNUX0ZBSUxVUkUnLAogIEdFVF9VU0VSX1JFUVVFU1Q6ICdHRVRfVVNFUl9SRVFVRVNUJywKICBHRVRfVVNFUl9TVUNDRVNTOiAnR0VUX1VTRVJfU1VDQ0VTUycsCiAgR0VUX1VTRVJfRkFJTFVSRTogJ0dFVF9VU0VSX0ZBSUxVUkUnLAogIFVQREFURV9VU0VSX1JFUVVFU1Q6ICdVUERBVEVfVVNFUl9SRVFVRVNUJywKICBVUERBVEVfVVNFUl9TVUNDRVNTOiAnVVBEQVRFX1VTRVJfU1VDQ0VTUycsCiAgVVBEQVRFX1VTRVJfRkFJTFVSRTogJ1VQREFURV9VU0VSX0ZBSUxVUkUnLAogIENMRUFSX1VTRVJfREFUQTogJ0NMRUFSX1VTRVJfREFUQScsCiAgR0VUX0NPTlRSQUNUU19SRVFVRVNUOiAnR0VUX0NPTlRSQUNUU19SRVFVRVNUJywKICBHRVRfQ09OVFJBQ1RTX1NVQ0NFU1M6ICdHRVRfQ09OVFJBQ1RTX1NVQ0NFU1MnLAogIEdFVF9DT05UUkFDVFNfRkFJTFVSRTogJ0dFVF9DT05UUkFDVFNfRkFJTFVSRScsCiAgR0VUX0JPT0tJTkdTX1JFUVVFU1Q6ICdHRVRfQk9PS0lOR1NfUkVRVUVTVCcsCiAgR0VUX0JPT0tJTkdTX1NVQ0NFU1M6ICdHRVRfQk9PS0lOR1NfU1VDQ0VTUycsCiAgR0VUX0JPT0tJTkdTX0ZBSUxVUkU6ICdHRVRfQk9PS0lOR1NfRkFJTFVSRScsCiAgR0VUX0JPT0tJTkdfUkVRVUVTVDogJ0dFVF9CT09LSU5HX1JFUVVFU1QnLAogIEdFVF9CT09LSU5HX1NVQ0NFU1M6ICdHRVRfQk9PS0lOR19TVUNDRVNTJywKICBHRVRfQk9PS0lOR19GQUlMVVJFOiAnR0VUX0JPT0tJTkdfRkFJTFVSRScsCiAgQ1JFQVRFX0JPT0tJTkdfUkVRVUVTVDogJ0NSRUFURV9CT09LSU5HX1JFUVVFU1QnLAogIENSRUFURV9CT09LSU5HX1NVQ0NFU1M6ICdDUkVBVEVfQk9PS0lOR19TVUNDRVNTJywKICBDUkVBVEVfQk9PS0lOR19GQUlMVVJFOiAnQ1JFQVRFX0JPT0tJTkdfRkFJTFVSRScsCiAgR0VUX0RFQUxTX1JFUVVFU1Q6ICdHRVRfREVBTFNfUkVRVUVTVCcsCiAgR0VUX0RFQUxTX1NVQ0NFU1M6ICdHRVRfREVBTFNfU1VDQ0VTUycsCiAgR0VUX0RFQUxTX0ZBSUxVUkU6ICdHRVRfREVBTFNfRkFJTFVSRScsCiAgQ1JFQVRFX0RFQUxfUkVRVUVTVDogJ0NSRUFURV9ERUFMX1JFUVVFU1QnLAogIENSRUFURV9ERUFMX1NVQ0NFU1M6ICdDUkVBVEVfREVBTF9TVUNDRVNTJywKICBDUkVBVEVfREVBTF9GQUlMVVJFOiAnQ1JFQVRFX0RFQUxfRkFJTFVSRScsCiAgR0VUX0RFQUxfUkVRVUVTVDogJ0dFVF9ERUFMX1JFUVVFU1QnLAogIEdFVF9ERUFMX1NVQ0NFU1M6ICdHRVRfREVBTF9TVUNDRVNTJywKICBHRVRfREVBTF9GQUlMVVJFOiAnR0VUX0RFQUxfRkFJTFVSRScsCiAgQ0FOQ0VMX0RFQUxfUkVRVUVTVDogJ0NBTkNFTF9ERUFMX1JFUVVFU1QnLAogIENBTkNFTF9ERUFMX1NVQ0NFU1M6ICdDQU5DRUxfREVBTF9TVUNDRVNTJywKICBDQU5DRUxfREVBTF9GQUlMVVJFOiAnQ0FOQ0VMX0RFQUxfRkFJTFVSRScsCiAgQ0FOQ0VMX0JPT0tJTkdfUkVRVUVTVDogJ0NBTkNFTF9CT09LSU5HX1JFUVVFU1QnLAogIENBTkNFTF9CT09LSU5HX1NVQ0NFU1M6ICdDQU5DRUxfQk9PS0lOR19TVUNDRVNTJywKICBDQU5DRUxfQk9PS0lOR19GQUlMVVJFOiAnQ0FOQ0VMX0JPT0tJTkdfRkFJTFVSRScsCiAgRE9ORV9CT09LSU5HX1JFUVVFU1Q6ICdET05FX0JPT0tJTkdfUkVRVUVTVCcsCiAgRE9ORV9CT09LSU5HX1NVQ0NFU1M6ICdET05FX0JPT0tJTkdfU1VDQ0VTUycsCiAgRE9ORV9CT09LSU5HX0ZBSUxVUkU6ICdET05FX0JPT0tJTkdfRkFJTFVSRScsCiAgQ0xFQVJfTkVXTFlfQ1JFQVRFRF9CT09LSU5HOiAnQ0xFQVJfTkVXTFlfQ1JFQVRFRF9CT09LSU5HJywKICBSRUdJU1RFUl9VU0VSX1JFUVVFU1Q6ICdSRUdJU1RFUl9VU0VSX1JFUVVFU1QnLAogIFJFR0lTVEVSX1VTRVJfU1VDQ0VTUzogJ1JFR0lTVEVSX1VTRVJfU1VDQ0VTUycsCiAgUkVHSVNURVJfVVNFUl9GQUlMVVJFOiAnUkVHSVNURVJfVVNFUl9GQUlMVVJFJywKICBDUkVBVEVfQ09OVFJBQ1RfUkVRVUVTVDogJ0NSRUFURV9DT05UUkFDVF9SRVFVRVNUJywKICBDUkVBVEVfQ09OVFJBQ1RfU1VDQ0VTUzogJ0NSRUFURV9DT05UUkFDVF9TVUNDRVNTJywKICBDUkVBVEVfQ09OVFJBQ1RfRkFJTFVSRTogJ0NSRUFURV9DT05UUkFDVF9GQUlMVVJFJywKICBVUERBVEVfQ09OVFJBQ1RfUkVRVUVTVDogJ1VQREFURV9DT05UUkFDVF9SRVFVRVNUJywKICBVUERBVEVfQ09OVFJBQ1RfU1VDQ0VTUzogJ1VQREFURV9DT05UUkFDVF9TVUNDRVNTJywKICBVUERBVEVfQ09OVFJBQ1RfRkFJTFVSRTogJ1VQREFURV9DT05UUkFDVF9GQUlMVVJFJywKICBBQ1RJVkFURV9DT05UUkFDVF9SRVFVRVNUOiAnQUNUSVZBVEVfQ09OVFJBQ1RfUkVRVUVTVCcsCiAgQUNUSVZBVEVfQ09OVFJBQ1RfU1VDQ0VTUzogJ0FDVElWQVRFX0NPTlRSQUNUX1NVQ0NFU1MnLAogIEFDVElWQVRFX0NPTlRSQUNUX0ZBSUxVUkU6ICdBQ1RJVkFURV9DT05UUkFDVF9GQUlMVVJFJywKICBHRVRfT05FX0NPTlRSQUNUX1JFUVVFU1Q6ICdHRVRfT05FX0NPTlRSQUNUX1JFUVVFU1QnLAogIEdFVF9PTkVfQ09OVFJBQ1RfU1VDQ0VTUzogJ0dFVF9PTkVfQ09OVFJBQ1RfU1VDQ0VTUycsCiAgR0VUX09ORV9DT05UUkFDVF9GQUlMVVJFOiAnR0VUX09ORV9DT05UUkFDVF9GQUlMVVJFJywKICBTRU5EX05PVElGSUNBVElPTl9SRVFVRVNUOiAnU0VORF9OT1RJRklDQVRJT05fUkVRVUVTVCcsCiAgU0VORF9OT1RJRklDQVRJT05fU1VDQ0VTUzogJ1NFTkRfTk9USUZJQ0FUSU9OX1NVQ0NFU1MnLAogIFNFTkRfTk9USUZJQ0FUSU9OX0ZBSUxVUkU6ICdTRU5EX05PVElGSUNBVElPTl9GQUlMVVJFJywKICBBRERfTk9USUZJQ0FUSU9OX0xPQ0FMX1JFUVVFU1Q6ICdBRERfTk9USUZJQ0FUSU9OX0xPQ0FMX1JFUVVFU1QnLAogIEFERF9OT1RJRklDQVRJT05fTE9DQUxfU1VDQ0VTUzogJ0FERF9OT1RJRklDQVRJT05fTE9DQUxfU1VDQ0VTUycsCiAgQUREX05PVElGSUNBVElPTl9MT0NBTF9GQUlMVVJFOiAnQUREX05PVElGSUNBVElPTl9MT0NBTF9GQUlMVVJFJywKICBDUkVBVEVfRkVFREJBQ0tfUkVRVUVTVDogJ0NSRUFURV9GRUVEQkFDS19SRVFVRVNUJywKICBDUkVBVEVfRkVFREJBQ0tfU1VDQ0VTUzogJ0NSRUFURV9GRUVEQkFDS19TVUNDRVNTJywKICBDUkVBVEVfRkVFREJBQ0tfRkFJTFVSRTogJ0NSRUFURV9GRUVEQkFDS19GQUlMVVJFJywKICBERUxFVEVfRkVFREJBQ0tfUkVRVUVTVDogJ0RFTEVURV9GRUVEQkFDS19SRVFVRVNUJywKICBERUxFVEVfRkVFREJBQ0tfU1VDQ0VTUzogJ0RFTEVURV9GRUVEQkFDS19TVUNDRVNTJywKICBERUxFVEVfRkVFREJBQ0tfRkFJTFVSRTogJ0RFTEVURV9GRUVEQkFDS19GQUlMVVJFJywKICBVUERBVEVfRkVFREJBQ0tfUkVRVUVTVDogJ1VQREFURV9GRUVEQkFDS19SRVFVRVNUJywKICBVUERBVEVfRkVFREJBQ0tfU1VDQ0VTUzogJ1VQREFURV9GRUVEQkFDS19TVUNDRVNTJywKICBVUERBVEVfRkVFREJBQ0tfRkFJTFVSRTogJ1VQREFURV9GRUVEQkFDS19GQUlMVVJFJywKICBHRVRfUk9PTV9SRVFVRVNUU19SRVFVRVNUOiAnR0VUX1JPT01fUkVRVUVTVFNfUkVRVUVTVCcsCiAgR0VUX1JPT01fUkVRVUVTVFNfU1VDQ0VTUzogJ0dFVF9ST09NX1JFUVVFU1RTX1NVQ0NFU1MnLAogIEdFVF9ST09NX1JFUVVFU1RTX0ZBSUxVUkU6ICdHRVRfUk9PTV9SRVFVRVNUU19GQUlMVVJFJywKICBHRVRfQUxMUkVOVEVSU19SRVFVRVNUOiAnR0VUX0FMTFJFTlRFUlNfUkVRVUVTVCcsCiAgR0VUX0FMTFJFTlRFUlNfU1VDQ0VTUzogJ0dFVF9BTExSRU5URVJTX1NVQ0NFU1MnLAogIEdFVF9BTExSRU5URVJTX0ZBSUxVUkU6ICdHRVRfQUxMUkVOVEVSU19GQUlMVVJFJywKICBHRVRfQUxMVkVORE9SU19SRVFVRVNUOiAnR0VUX0FMTFZFTkRPUlNfUkVRVUVTVCcsCiAgR0VUX0FMTFZFTkRPUlNfU1VDQ0VTUzogJ0dFVF9BTExWRU5ET1JTX1NVQ0NFU1MnLAogIEdFVF9BTExWRU5ET1JTX0ZBSUxVUkU6ICdHRVRfQUxMVkVORE9SU19GQUlMVVJFJywKICBHRVRfQUxMVFlQRVNfUkVRVUVTVDogJ0dFVF9BTExUWVBFU19SRVFVRVNUJywKICBHRVRfQUxMVFlQRVNfU1VDQ0VTUzogJ0dFVF9BTExUWVBFU19TVUNDRVNTJywKICBHRVRfQUxMVFlQRVNfRkFJTFVSRTogJ0dFVF9BTExUWVBFU19GQUlMVVJFJywKICBVUERBVEVfSE9TVEVMX1RZUEVfUkVRVUVTVDogJ1VQREFURV9IT1NURUxfVFlQRV9SRVFVRVNUJywKICBVUERBVEVfSE9TVEVMX1RZUEVfU1VDQ0VTUzogJ1VQREFURV9IT1NURUxfVFlQRV9TVUNDRVNTJywKICBVUERBVEVfSE9TVEVMX1RZUEVfRkFJTFVSRTogJ1VQREFURV9IT1NURUxfVFlQRV9GQUlMVVJFJywKICBVUERBVEVfVkVORE9SX1JFUVVFU1Q6ICdVUERBVEVfVkVORE9SX1JFUVVFU1QnLAogIFVQREFURV9WRU5ET1JfU1VDQ0VTUzogJ1VQREFURV9WRU5ET1JfU1VDQ0VTUycsCiAgVVBEQVRFX1ZFTkRPUl9GQUlMVVJFOiAnVVBEQVRFX1ZFTkRPUl9GQUlMVVJFJywKICBVUERBVEVfUkVOVEVSX1JFUVVFU1Q6ICdVUERBVEVfUkVOVEVSX1JFUVVFU1QnLAogIFVQREFURV9SRU5URVJfU1VDQ0VTUzogJ1VQREFURV9SRU5URVJfU1VDQ0VTUycsCiAgVVBEQVRFX1JFTlRFUl9GQUlMVVJFOiAnVVBEQVRFX1JFTlRFUl9GQUlMVVJFJwp9Owp2YXIgbXV0YXRpb25zID0gewogIENSRUFURV9ST09NX1JFUVVFU1RfUkVRVUVTVDogZnVuY3Rpb24gQ1JFQVRFX1JPT01fUkVRVUVTVF9SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS5yZXF1ZXN0cy5pc0NyZWF0aW5nID0gdHJ1ZTsKICB9LAogIENSRUFURV9ST09NX1JFUVVFU1RfU1VDQ0VTUzogZnVuY3Rpb24gQ1JFQVRFX1JPT01fUkVRVUVTVF9TVUNDRVNTKHN0YXRlLCByZXF1ZXN0KSB7CiAgICBzdGF0ZS5yZXF1ZXN0cy5pc0NyZWF0aW5nID0gZmFsc2U7CiAgICBzdGF0ZS5yZXF1ZXN0cy5kYXRhLnVuc2hpZnQocmVxdWVzdCk7CiAgICBzdGF0ZS5yZXF1ZXN0cy5zdWNjZXNzID0gdHJ1ZTsKICB9LAogIENSRUFURV9ST09NX1JFUVVFU1RfRkFJTFVSRTogZnVuY3Rpb24gQ1JFQVRFX1JPT01fUkVRVUVTVF9GQUlMVVJFKHN0YXRlLCBlcnJvcikgewogICAgc3RhdGUucmVxdWVzdHMuaXNDcmVhdGluZyA9IGZhbHNlOwogICAgc3RhdGUucmVxdWVzdHMuZXJyb3IgPSBlcnJvcjsKICAgIHN0YXRlLnJlcXVlc3RzLnN1Y2Nlc3MgPSB0cnVlOwogIH0sCiAgQ0xFQVJfVVNFUl9EQVRBOiBmdW5jdGlvbiBDTEVBUl9VU0VSX0RBVEEoc3RhdGUpIHsKICAgIHN0YXRlLnVzZXIuZGF0YSA9IG51bGw7CiAgICBzdGF0ZS51c2VyLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUudXNlci5zdWNjZXNzID0gZmFsc2U7CiAgICBzdGF0ZS5ub3RpZmljYXRpb25zLmRhdGEgPSBbXTsKICB9LAogIEdFVF9VU0VSX1JFUVVFU1Q6IGZ1bmN0aW9uIEdFVF9VU0VSX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLnVzZXIuaXNMb2FkaW5nID0gdHJ1ZTsKICAgIHN0YXRlLnVzZXIuc3VjY2VzcyA9IG51bGw7CiAgICBzdGF0ZS51c2VyLmVycm9yID0gbnVsbDsKICB9LAogIEdFVF9VU0VSX1NVQ0NFU1M6IGZ1bmN0aW9uIEdFVF9VU0VSX1NVQ0NFU1Moc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnVzZXIuZGF0YSA9IHVzZXI7CiAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgIHN0YXRlLnVzZXIuaXNMb2FkaW5nID0gZmFsc2U7CiAgICBzdGF0ZS51c2VyLnN1Y2Nlc3MgPSB0cnVlOwogIH0sCiAgR0VUX1VTRVJfRkFJTFVSRTogZnVuY3Rpb24gR0VUX1VTRVJfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLnVzZXIuaXNMb2FkaW5nID0gZmFsc2U7CiAgICBzdGF0ZS51c2VyLnN1Y2Nlc3MgPSBmYWxzZTsKICAgIHN0YXRlLnVzZXIuZXJyb3IgPSBlcnJvcjsKICB9LAogIEdFVF9DT05UUkFDVFNfUkVRVUVTVDogZnVuY3Rpb24gR0VUX0NPTlRSQUNUU19SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS5jb250cmFjdHMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgIHN0YXRlLmNvbnRyYWN0cy5lcnJvciA9IG51bGw7CiAgICBzdGF0ZS5jb250cmFjdHMuc3VjY2VzcyA9IG51bGw7CiAgfSwKICBHRVRfQ09OVFJBQ1RTX1NVQ0NFU1M6IGZ1bmN0aW9uIEdFVF9DT05UUkFDVFNfU1VDQ0VTUyhzdGF0ZSwgY29udHJhY3RzKSB7CiAgICBzdGF0ZS5jb250cmFjdHMuZGF0YSA9IGNvbnRyYWN0czsKICAgIHN0YXRlLmNvbnRyYWN0cy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmNvbnRyYWN0cy5zdWNjZXNzID0gdHJ1ZTsKICB9LAogIEdFVF9DT05UUkFDVFNfRkFJTFVSRTogZnVuY3Rpb24gR0VUX0NPTlRSQUNUU19GQUlMVVJFKHN0YXRlLCBlcnJvcikgewogICAgc3RhdGUuY29udHJhY3RzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUuY29udHJhY3RzLnN1Y2Nlc3MgPSBmYWxzZTsKICAgIHN0YXRlLmNvbnRyYWN0cy5lcnJvciA9IGVycm9yOwogIH0sCiAgR0VUX09ORV9DT05UUkFDVF9SRVFVRVNUOiBmdW5jdGlvbiBHRVRfT05FX0NPTlRSQUNUX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLmNvbnRyYWN0cy5pc0xvYWRpbmcgPSB0cnVlOwogICAgc3RhdGUuY29udHJhY3RzLmVycm9yID0gbnVsbDsKICAgIHN0YXRlLmNvbnRyYWN0cy5zdWNjZXNzID0gbnVsbDsKICB9LAogIEdFVF9PTkVfQ09OVFJBQ1RfU1VDQ0VTUzogZnVuY3Rpb24gR0VUX09ORV9DT05UUkFDVF9TVUNDRVNTKHN0YXRlLCBjb250cmFjdCkgewogICAgdmFyIG9sZENvbnRyYWN0SW5kZXggPSBzdGF0ZS5jb250cmFjdHMuZGF0YS5maW5kSW5kZXgoZnVuY3Rpb24gKGMpIHsKICAgICAgcmV0dXJuIE51bWJlcihjLmNvbnRyYWN0SWQpID09PSBOdW1iZXIoY29udHJhY3QuY29udHJhY3RJZCk7CiAgICB9KTsKCiAgICBpZiAob2xkQ29udHJhY3RJbmRleCA+IC0xKSB7CiAgICAgIHN0YXRlLmNvbnRyYWN0cy5kYXRhLnNwbGljZShvbGRDb250cmFjdEluZGV4LCAxLCBjb250cmFjdCk7CiAgICB9IGVsc2UgewogICAgICBzdGF0ZS5jb250cmFjdHMuZGF0YS51bnNoaWZ0KGNvbnRyYWN0KTsKICAgIH0KCiAgICBzdGF0ZS5jb250cmFjdHMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICBzdGF0ZS5jb250cmFjdHMuc3VjY2VzcyA9IHRydWU7CiAgfSwKICBHRVRfT05FX0NPTlRSQUNUX0ZBSUxVUkU6IGZ1bmN0aW9uIEdFVF9PTkVfQ09OVFJBQ1RfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLmNvbnRyYWN0cy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmNvbnRyYWN0cy5zdWNjZXNzID0gZmFsc2U7CiAgICBzdGF0ZS5jb250cmFjdHMuZXJyb3IgPSBlcnJvcjsKICB9LAogIEdFVF9CT09LSU5HU19SRVFVRVNUOiBmdW5jdGlvbiBHRVRfQk9PS0lOR1NfUkVRVUVTVChzdGF0ZSkgewogICAgc3RhdGUuYm9va2luZ3MuaXNMb2FkaW5nID0gdHJ1ZTsKICAgIHN0YXRlLmJvb2tpbmdzLnN1Y2Nlc3MgPSBudWxsOwogICAgc3RhdGUuYm9va2luZ3MuZXJyb3IgPSBudWxsOwogIH0sCiAgR0VUX0JPT0tJTkdTX1NVQ0NFU1M6IGZ1bmN0aW9uIEdFVF9CT09LSU5HU19TVUNDRVNTKHN0YXRlLCBib29raW5nKSB7CiAgICBzdGF0ZS5ib29raW5ncy5kYXRhID0gYm9va2luZzsKICAgIHN0YXRlLmJvb2tpbmdzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUuYm9va2luZ3Muc3VjY2VzcyA9IHRydWU7CiAgfSwKICBHRVRfQk9PS0lOR1NfRkFJTFVSRTogZnVuY3Rpb24gR0VUX0JPT0tJTkdTX0ZBSUxVUkUoc3RhdGUsIGVycm9yKSB7CiAgICBzdGF0ZS5ib29raW5ncy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmJvb2tpbmdzLnN1Y2Nlc3MgPSBmYWxzZTsKICAgIHN0YXRlLmJvb2tpbmdzLmVycm9yID0gZXJyb3I7CiAgfSwKICBHRVRfQk9PS0lOR19SRVFVRVNUOiBmdW5jdGlvbiBHRVRfQk9PS0lOR19SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS5ib29raW5ncy5pc0xvYWRpbmcgPSB0cnVlOwogICAgc3RhdGUuYm9va2luZ3Muc3VjY2VzcyA9IG51bGw7CiAgICBzdGF0ZS5ib29raW5ncy5lcnJvciA9IG51bGw7CiAgfSwKICBHRVRfQk9PS0lOR19TVUNDRVNTOiBmdW5jdGlvbiBHRVRfQk9PS0lOR19TVUNDRVNTKHN0YXRlLCBib29raW5nKSB7CiAgICBzdGF0ZS5ib29raW5ncy5kYXRhLnVuc2hpZnQoYm9va2luZyk7CiAgICBzdGF0ZS5ib29raW5ncy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmJvb2tpbmdzLnN1Y2Nlc3MgPSB0cnVlOwogIH0sCiAgR0VUX0JPT0tJTkdfRkFJTFVSRTogZnVuY3Rpb24gR0VUX0JPT0tJTkdfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLmJvb2tpbmdzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUuYm9va2luZ3Muc3VjY2VzcyA9IGZhbHNlOwogICAgc3RhdGUuYm9va2luZ3MuZXJyb3IgPSBlcnJvcjsKICB9LAogIENSRUFURV9CT09LSU5HX1JFUVVFU1Q6IGZ1bmN0aW9uIENSRUFURV9CT09LSU5HX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLmJvb2tpbmdzLmlzTG9hZGluZyA9IHRydWU7CiAgICBzdGF0ZS5ib29raW5ncy5zdWNjZXNzID0gbnVsbDsKICAgIHN0YXRlLmJvb2tpbmdzLmVycm9yID0gbnVsbDsKICB9LAogIENSRUFURV9CT09LSU5HX1NVQ0NFU1M6IGZ1bmN0aW9uIENSRUFURV9CT09LSU5HX1NVQ0NFU1Moc3RhdGUsIGJvb2tpbmcpIHsKICAgIHN0YXRlLmJvb2tpbmdzLmRhdGEucHVzaChib29raW5nKTsKICAgIHN0YXRlLmJvb2tpbmdzLm5ld2x5Q3JlYXRlZCA9IGJvb2tpbmc7CiAgICBzdGF0ZS5ib29raW5ncy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmJvb2tpbmdzLnN1Y2Nlc3MgPSB0cnVlOwogIH0sCiAgQ1JFQVRFX0JPT0tJTkdfRkFJTFVSRTogZnVuY3Rpb24gQ1JFQVRFX0JPT0tJTkdfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLmJvb2tpbmdzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUuYm9va2luZ3Muc3VjY2VzcyA9IGZhbHNlOwogICAgc3RhdGUuYm9va2luZ3MuZXJyb3IgPSBlcnJvcjsKICB9LAogIFJFR0lTVEVSX1VTRVJfUkVRVUVTVDogZnVuY3Rpb24gUkVHSVNURVJfVVNFUl9SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS51c2VyLmlzTG9hZGluZyA9IHRydWU7CiAgfSwKICBSRUdJU1RFUl9VU0VSX1NVQ0NFU1M6IGZ1bmN0aW9uIFJFR0lTVEVSX1VTRVJfU1VDQ0VTUyhzdGF0ZSwgcmVudGVyKSB7CiAgICBzdGF0ZS51c2VyLmRhdGEgPSByZW50ZXI7CiAgICBzdGF0ZS51c2VyLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUudXNlci5zdWNjZXNzID0gdHJ1ZTsKICB9LAogIFJFR0lTVEVSX1VTRVJfRkFJTFVSRTogZnVuY3Rpb24gUkVHSVNURVJfVVNFUl9GQUlMVVJFKHN0YXRlLCBlcnJvcikgewogICAgc3RhdGUudXNlci5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLnVzZXIuc3VjY2VzcyA9IGZhbHNlOwogICAgc3RhdGUudXNlci5lcnJvciA9IGVycm9yOwogIH0sCiAgR0VUX0RFQUxTX1JFUVVFU1Q6IGZ1bmN0aW9uIEdFVF9ERUFMU19SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS5kZWFscy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmRlYWxzLnN1Y2Nlc3MgPSBudWxsOwogICAgc3RhdGUuZGVhbHMuZXJyb3IgPSBudWxsOwogIH0sCiAgR0VUX0RFQUxTX1NVQ0NFU1M6IGZ1bmN0aW9uIEdFVF9ERUFMU19TVUNDRVNTKHN0YXRlLCBkZWFscykgewogICAgc3RhdGUuZGVhbHMuZGF0YSA9IGRlYWxzOwogICAgc3RhdGUuZGVhbHMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICBzdGF0ZS5kZWFscy5zdWNjZXNzID0gdHJ1ZTsKICB9LAogIEdFVF9ERUFMU19GQUlMVVJFOiBmdW5jdGlvbiBHRVRfREVBTFNfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLmRlYWxzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUuZGVhbHMuc3VjY2VzcyA9IGZhbHNlOwogICAgc3RhdGUuZGVhbHMuZXJyb3IgPSBlcnJvcjsKICB9LAogIENSRUFURV9ERUFMX1JFUVVFU1Q6IGZ1bmN0aW9uIENSRUFURV9ERUFMX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLmRlYWxzLmlzTG9hZGluZyA9IGZhbHNlOwogIH0sCiAgQ1JFQVRFX0RFQUxfU1VDQ0VTUzogZnVuY3Rpb24gQ1JFQVRFX0RFQUxfU1VDQ0VTUyhzdGF0ZSwgZGVhbCkgewogICAgc3RhdGUuZGVhbHMuZGF0YS5wdXNoKGRlYWwpOwogICAgc3RhdGUuZGVhbHMubmV3bHlDcmVhdGVkID0gZGVhbDsKICAgIHN0YXRlLmRlYWxzLnN1Y2Nlc3MgPSB0cnVlOwogICAgc3RhdGUuZGVhbHMuaXNMb2FkaW5nID0gZmFsc2U7CiAgfSwKICBDUkVBVEVfREVBTF9GQUlMVVJFOiBmdW5jdGlvbiBDUkVBVEVfREVBTF9GQUlMVVJFKHN0YXRlLCBlcnJvcikgewogICAgc3RhdGUuZGVhbHMuc3VjY2VzcyA9IGZhbHNlOwogICAgc3RhdGUuZGVhbHMuZXJyb3IgPSBlcnJvcjsKICB9LAogIEdFVF9ERUFMX1JFUVVFU1Q6IGZ1bmN0aW9uIEdFVF9ERUFMX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLmRlYWxzLmlzTG9hZGluZyA9IGZhbHNlOwogIH0sCiAgR0VUX0RFQUxfU1VDQ0VTUzogZnVuY3Rpb24gR0VUX0RFQUxfU1VDQ0VTUyhzdGF0ZSwgZGVhbCkgewogICAgc3RhdGUuZGVhbHMuZGF0YS5wdXNoKGRlYWwpOwogICAgc3RhdGUuZGVhbHMubmV3bHlDcmVhdGVkID0gZGVhbDsKICAgIHN0YXRlLmRlYWxzLnN1Y2Nlc3MgPSB0cnVlOwogICAgc3RhdGUuZGVhbHMuaXNMb2FkaW5nID0gZmFsc2U7CiAgfSwKICBHRVRfREVBTF9GQUlMVVJFOiBmdW5jdGlvbiBHRVRfREVBTF9GQUlMVVJFKHN0YXRlLCBlcnJvcikgewogICAgc3RhdGUuZGVhbHMuc3VjY2VzcyA9IGZhbHNlOwogICAgc3RhdGUuZGVhbHMuZXJyb3IgPSBlcnJvcjsKICB9LAogIENBTkNFTF9ERUFMX1JFUVVFU1Q6IGZ1bmN0aW9uIENBTkNFTF9ERUFMX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLmRlYWxzLmlzTG9hZGluZyA9IHRydWU7CiAgICBzdGF0ZS5ib29raW5ncy5zdWNjZXNzID0gbnVsbDsKICAgIHN0YXRlLmJvb2tpbmdzLmVycm9yID0gbnVsbDsKICB9LAogIENBTkNFTF9ERUFMX1NVQ0NFU1M6IGZ1bmN0aW9uIENBTkNFTF9ERUFMX1NVQ0NFU1Moc3RhdGUsIGRlYWxJZCkgewogICAgc3RhdGUuZGVhbHMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICBzdGF0ZS5kZWFscy5zdWNjZXNzID0gdHJ1ZTsKICAgIHZhciByZXMgPSBzdGF0ZS5kZWFscy5kYXRhLmZpbHRlcihmdW5jdGlvbiAoZGVhbCkgewogICAgICByZXR1cm4gZGVhbC5kZWFsSWQgPT09IGRlYWxJZDsKICAgIH0pOwogICAgcmVzWzBdLnN0YXR1cyA9ICdDQU5DRUwnOwogIH0sCiAgQ0FOQ0VMX0RFQUxfRkFJTFVSRTogZnVuY3Rpb24gQ0FOQ0VMX0RFQUxfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLmRlYWxzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUuZGVhbHMuZXJyb3IgPSBlcnJvcjsKICB9LAogIENBTkNFTF9CT09LSU5HX1JFUVVFU1Q6IGZ1bmN0aW9uIENBTkNFTF9CT09LSU5HX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLmJvb2tpbmdzLmlzTG9hZGluZyA9IHRydWU7CiAgfSwKICBDQU5DRUxfQk9PS0lOR19TVUNDRVNTOiBmdW5jdGlvbiBDQU5DRUxfQk9PS0lOR19TVUNDRVNTKHN0YXRlLCBuZXdCb29raW5nKSB7CiAgICB2YXIgYm9va2luZ0lkID0gbmV3Qm9va2luZy5ib29raW5nSWQ7CiAgICBzdGF0ZS5ib29raW5ncy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmJvb2tpbmdzLnN1Y2Nlc3MgPSB0cnVlOwogICAgdmFyIHJlcyA9IHN0YXRlLmJvb2tpbmdzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChib29rKSB7CiAgICAgIHJldHVybiBib29rLmJvb2tpbmdJZCA9PT0gYm9va2luZ0lkOwogICAgfSk7CiAgICByZXNbMF0uc3RhdHVzID0gJ0NBTkNFTExFRCc7CiAgfSwKICBDQU5DRUxfQk9PS0lOR19GQUlMVVJFOiBmdW5jdGlvbiBDQU5DRUxfQk9PS0lOR19GQUlMVVJFKHN0YXRlLCBlcnJvcikgewogICAgc3RhdGUuYm9va2luZ3MuaXNMb2FkaW5nID0gZmFsc2U7CiAgICBzdGF0ZS5ib29raW5ncy5lcnJvciA9IGVycm9yOwogIH0sCiAgRE9ORV9CT09LSU5HX1JFUVVFU1Q6IGZ1bmN0aW9uIERPTkVfQk9PS0lOR19SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS5ib29raW5ncy5pc1VwZGF0aW5nID0gdHJ1ZTsKICAgIHN0YXRlLmJvb2tpbmdzLnN1Y2Nlc3MgPSBudWxsOwogICAgc3RhdGUuYm9va2luZ3MuZXJyb3IgPSBudWxsOwogIH0sCiAgRE9ORV9CT09LSU5HX1NVQ0NFU1M6IGZ1bmN0aW9uIERPTkVfQk9PS0lOR19TVUNDRVNTKHN0YXRlLCBib29raW5nSWQpIHsKICAgIHN0YXRlLmJvb2tpbmdzLmlzVXBkYXRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmJvb2tpbmdzLnN1Y2Nlc3MgPSB0cnVlOwogICAgdmFyIHJlcyA9IHN0YXRlLmJvb2tpbmdzLmRhdGEuZmluZChmdW5jdGlvbiAoYm9vaykgewogICAgICByZXR1cm4gYm9vay5ib29raW5nSWQgPT09IGJvb2tpbmdJZDsKICAgIH0pOwogICAgcmVzLnN0YXR1cyA9ICdET05FJzsKICB9LAogIERPTkVfQk9PS0lOR19GQUlMVVJFOiBmdW5jdGlvbiBET05FX0JPT0tJTkdfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLmJvb2tpbmdzLmlzVXBkYXRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmJvb2tpbmdzLmVycm9yID0gZXJyb3I7CiAgfSwKICBDTEVBUl9ORVdMWV9DUkVBVEVEX0JPT0tJTkc6IGZ1bmN0aW9uIENMRUFSX05FV0xZX0NSRUFURURfQk9PS0lORyhzdGF0ZSkgewogICAgc3RhdGUuYm9va2luZ3MubmV3bHlDcmVhdGVkID0gbnVsbDsKICB9LAogIENSRUFURV9DT05UUkFDVF9SRVFVRVNUOiBmdW5jdGlvbiBDUkVBVEVfQ09OVFJBQ1RfUkVRVUVTVChzdGF0ZSkgewogICAgc3RhdGUuY29udHJhY3RzLmlzQ3JlYXRpbmcgPSB0cnVlOwogICAgc3RhdGUuY29udHJhY3RzLmVycm9yID0gbnVsbDsKICAgIHN0YXRlLmNvbnRyYWN0cy5zdWNjZXNzID0gbnVsbDsKICAgIHN0YXRlLmNvbnRyYWN0cy5uZXdseUNyZWF0ZWQgPSBudWxsOwogIH0sCiAgQ1JFQVRFX0NPTlRSQUNUX1NVQ0NFU1M6IGZ1bmN0aW9uIENSRUFURV9DT05UUkFDVF9TVUNDRVNTKHN0YXRlLCBjb250cmFjdCkgewogICAgc3RhdGUuY29udHJhY3RzLmlzQ3JlYXRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmNvbnRyYWN0cy5kYXRhLnB1c2goY29udHJhY3QpOwogICAgc3RhdGUuY29udHJhY3RzLm5ld2x5Q3JlYXRlZCA9IGNvbnRyYWN0OwogICAgc3RhdGUuY29udHJhY3RzLnN1Y2Nlc3MgPSB0cnVlOwogIH0sCiAgQ1JFQVRFX0NPTlRSQUNUX0ZBSUxVUkU6IGZ1bmN0aW9uIENSRUFURV9DT05UUkFDVF9GQUlMVVJFKHN0YXRlLCBlcnJvcikgewogICAgc3RhdGUuY29udHJhY3RzLmlzQ3JlYXRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmNvbnRyYWN0cy5lcnJvciA9IGVycm9yOwogICAgc3RhdGUuY29udHJhY3RzLnN1Y2Nlc3MgPSBmYWxzZTsKICB9LAogIFVQREFURV9DT05UUkFDVF9SRVFVRVNUOiBmdW5jdGlvbiBVUERBVEVfQ09OVFJBQ1RfUkVRVUVTVChzdGF0ZSkgewogICAgc3RhdGUuY29udHJhY3RzLmlzVXBkYXRpbmcgPSB0cnVlOwogICAgc3RhdGUuY29udHJhY3RzLmVycm9yID0gbnVsbDsKICAgIHN0YXRlLmNvbnRyYWN0cy5zdWNjZXNzID0gbnVsbDsKICB9LAogIFVQREFURV9DT05UUkFDVF9TVUNDRVNTOiBmdW5jdGlvbiBVUERBVEVfQ09OVFJBQ1RfU1VDQ0VTUyhzdGF0ZSwgY29udHJhY3QpIHsKICAgIHZhciBjb250cmFjdElkID0gY29udHJhY3QuY29udHJhY3RJZDsKICAgIHN0YXRlLmNvbnRyYWN0cy5pc1VwZGF0aW5nID0gZmFsc2U7CiAgICB2YXIgaW5kZXggPSBzdGF0ZS5jb250cmFjdHMuZGF0YS5maW5kSW5kZXgoZnVuY3Rpb24gKGMpIHsKICAgICAgcmV0dXJuIGMuY29udHJhY3RJZCA9PT0gTnVtYmVyKGNvbnRyYWN0SWQpOwogICAgfSk7CiAgICBzdGF0ZS5jb250cmFjdHMuZGF0YVtpbmRleF0gPSBjb250cmFjdDsKICAgIHN0YXRlLmNvbnRyYWN0cy5zdWNjZXNzID0gdHJ1ZTsKICB9LAogIFVQREFURV9DT05UUkFDVF9GQUlMVVJFOiBmdW5jdGlvbiBVUERBVEVfQ09OVFJBQ1RfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLmNvbnRyYWN0cy5pc1VwZGF0aW5nID0gZmFsc2U7CiAgICBzdGF0ZS5jb250cmFjdHMuZXJyb3IgPSBlcnJvcjsKICAgIHN0YXRlLmNvbnRyYWN0cy5zdWNjZXNzID0gZmFsc2U7CiAgfSwKICBBQ1RJVkFURV9DT05UUkFDVF9SRVFVRVNUOiBmdW5jdGlvbiBBQ1RJVkFURV9DT05UUkFDVF9SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS5jb250cmFjdHMuaXNVcGRhdGluZyA9IHRydWU7CiAgICBzdGF0ZS5jb250cmFjdHMuZXJyb3IgPSBudWxsOwogICAgc3RhdGUuY29udHJhY3RzLnN1Y2Nlc3MgPSBudWxsOwogIH0sCiAgQUNUSVZBVEVfQ09OVFJBQ1RfU1VDQ0VTUzogZnVuY3Rpb24gQUNUSVZBVEVfQ09OVFJBQ1RfU1VDQ0VTUyhzdGF0ZSwgY29udHJhY3QpIHsKICAgIHZhciBjb250cmFjdElkID0gY29udHJhY3QuY29udHJhY3RJZDsKICAgIHN0YXRlLmNvbnRyYWN0cy5pc1VwZGF0aW5nID0gZmFsc2U7CiAgICBjb25zb2xlLmxvZyhjb250cmFjdElkKTsKICAgIHZhciBpbmRleCA9IHN0YXRlLmNvbnRyYWN0cy5kYXRhLmZpbmRJbmRleChmdW5jdGlvbiAoYykgewogICAgICByZXR1cm4gYy5jb250cmFjdElkID09PSBOdW1iZXIoY29udHJhY3RJZCk7CiAgICB9KTsKICAgIHN0YXRlLmNvbnRyYWN0cy5kYXRhW2luZGV4XSA9IGNvbnRyYWN0OwogICAgc3RhdGUuY29udHJhY3RzLnN1Y2Nlc3MgPSB0cnVlOwogIH0sCiAgQUNUSVZBVEVfQ09OVFJBQ1RfRkFJTFVSRTogZnVuY3Rpb24gQUNUSVZBVEVfQ09OVFJBQ1RfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLmNvbnRyYWN0cy5pc1VwZGF0aW5nID0gZmFsc2U7CiAgICBzdGF0ZS5jb250cmFjdHMuZXJyb3IgPSBlcnJvcjsKICAgIHN0YXRlLmNvbnRyYWN0cy5zdWNjZXNzID0gZmFsc2U7CiAgfSwKICBTRU5EX05PVElGSUNBVElPTl9SRVFVRVNUOiBmdW5jdGlvbiBTRU5EX05PVElGSUNBVElPTl9SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS5ub3RpZmljYXRpb25zLmlzQ3JlYXRpbmcgPSB0cnVlOwogICAgc3RhdGUubm90aWZpY2F0aW9ucy5lcnJvciA9IG51bGw7CiAgICBzdGF0ZS5ub3RpZmljYXRpb25zLnN1Y2Nlc3MgPSBudWxsOwogIH0sCiAgU0VORF9OT1RJRklDQVRJT05fU1VDQ0VTUzogZnVuY3Rpb24gU0VORF9OT1RJRklDQVRJT05fU1VDQ0VTUyhzdGF0ZSkgewogICAgc3RhdGUubm90aWZpY2F0aW9ucy5zdWNjZXNzID0gdHJ1ZTsKICB9LAogIFNFTkRfTk9USUZJQ0FUSU9OX0ZBSUxVUkU6IGZ1bmN0aW9uIFNFTkRfTk9USUZJQ0FUSU9OX0ZBSUxVUkUoc3RhdGUsIGVycm9yKSB7CiAgICBzdGF0ZS5ub3RpZmljYXRpb25zLmVycm9yID0gZXJyb3I7CiAgICBzdGF0ZS5ub3RpZmljYXRpb25zLnN1Y2Nlc3MgPSBmYWxzZTsKICB9LAogIEFERF9OT1RJRklDQVRJT05fTE9DQUxfUkVRVUVTVDogZnVuY3Rpb24gQUREX05PVElGSUNBVElPTl9MT0NBTF9SRVFVRVNUKHN0YXRlLCBub3RpKSB7CiAgICBzdGF0ZS5ub3RpZmljYXRpb25zLm5ldyA9IG5vdGk7CiAgfSwKICBBRERfTk9USUZJQ0FUSU9OX0xPQ0FMX1NVQ0NFU1M6IGZ1bmN0aW9uIEFERF9OT1RJRklDQVRJT05fTE9DQUxfU1VDQ0VTUyhzdGF0ZSwgbm90aSkgewogICAgc3RhdGUubm90aWZpY2F0aW9ucy5kYXRhLnVuc2hpZnQobm90aSk7CiAgfSwKICBBRERfTk9USUZJQ0FUSU9OX0xPQ0FMX0ZBSUxVUkU6IGZ1bmN0aW9uIEFERF9OT1RJRklDQVRJT05fTE9DQUxfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLm5vdGlmaWNhdGlvbnMuZXJyb3IgPSBlcnJvcjsKICB9LAogIENSRUFURV9GRUVEQkFDS19SRVFVRVNUOiBmdW5jdGlvbiBDUkVBVEVfRkVFREJBQ0tfUkVRVUVTVChzdGF0ZSkgewogICAgc3RhdGUuZmVlZGJhY2suaXNMb2FkaW5nID0gdHJ1ZTsKICB9LAogIENSRUFURV9GRUVEQkFDS19TVUNDRVNTOiBmdW5jdGlvbiBDUkVBVEVfRkVFREJBQ0tfU1VDQ0VTUyhzdGF0ZSwgZmVlZGJhY2spIHsKICAgIC8vIHN0YXRlLmZlZWRiYWNrLmRhdGEucHVzaChmZWVkYmFjayk7CiAgICBzdGF0ZS5mZWVkYmFjay5uZXdseUNyZWF0ZWQgPSBmZWVkYmFjazsKICAgIHN0YXRlLmZlZWRiYWNrLnN1Y2Nlc3MgPSB0cnVlOwogICAgc3RhdGUuZmVlZGJhY2suaXNMb2FkaW5nID0gZmFsc2U7CiAgfSwKICBDUkVBVEVfRkVFREJBQ0tfRkFJTFVSRTogZnVuY3Rpb24gQ1JFQVRFX0ZFRURCQUNLX0ZBSUxVUkUoc3RhdGUsIGVycm9yKSB7CiAgICBzdGF0ZS5mZWVkYmFjay5pc0xvYWRpbmcgPSB0cnVlOwogICAgc3RhdGUuZmVlZGJhY2suc3VjY2VzcyA9IGZhbHNlOwogICAgc3RhdGUuZmVlZGJhY2suZXJyb3IgPSBlcnJvcjsKICB9LAogIERFTEVURV9GRUVEQkFDS19SRVFVRVNUOiBmdW5jdGlvbiBERUxFVEVfRkVFREJBQ0tfUkVRVUVTVChzdGF0ZSkgewogICAgc3RhdGUuZmVlZGJhY2suaXNMb2FkaW5nID0gdHJ1ZTsKICB9LAogIERFTEVURV9GRUVEQkFDS19TVUNDRVNTOiBmdW5jdGlvbiBERUxFVEVfRkVFREJBQ0tfU1VDQ0VTUyhzdGF0ZSkgewogICAgc3RhdGUuZmVlZGJhY2suc3VjY2VzcyA9IHRydWU7CiAgICBzdGF0ZS5mZWVkYmFjay5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmZlZWRiYWNrLmVycm9yID0gbnVsbDsKICB9LAogIERFTEVURV9GRUVEQkFDS19GQUlMVVJFOiBmdW5jdGlvbiBERUxFVEVfRkVFREJBQ0tfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLmZlZWRiYWNrLmlzTG9hZGluZyA9IHRydWU7CiAgICBzdGF0ZS5mZWVkYmFjay5zdWNjZXNzID0gZmFsc2U7CiAgICBzdGF0ZS5mZWVkYmFjay5lcnJvciA9IGVycm9yOwogIH0sCiAgVVBEQVRFX0ZFRURCQUNLX1JFUVVFU1Q6IGZ1bmN0aW9uIFVQREFURV9GRUVEQkFDS19SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS5mZWVkYmFjay5pc0xvYWRpbmcgPSB0cnVlOwogICAgc3RhdGUuZmVlZGJhY2suZXJyb3IgPSBudWxsOwogICAgc3RhdGUuZmVlZGJhY2suc3VjY2VzcyA9IG51bGw7CiAgfSwKICBVUERBVEVfRkVFREJBQ0tfU1VDQ0VTUzogZnVuY3Rpb24gVVBEQVRFX0ZFRURCQUNLX1NVQ0NFU1Moc3RhdGUsIGZlZWRiYWNrKSB7CiAgICBzdGF0ZS5mZWVkYmFjay5mZWVkYmFja1VwZGF0ZSA9IGZlZWRiYWNrOwogICAgc3RhdGUuZmVlZGJhY2suc3VjY2VzcyA9IHRydWU7CiAgICBzdGF0ZS5mZWVkYmFjay5pc0xvYWRpbmcgPSBmYWxzZTsKICB9LAogIFVQREFURV9GRUVEQkFDS19GQUlMVVJFOiBmdW5jdGlvbiBVUERBVEVfRkVFREJBQ0tfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLmZlZWRiYWNrLmVycm9yID0gZXJyb3I7CiAgICBzdGF0ZS5mZWVkYmFjay5zdWNjZXNzID0gZmFsc2U7CiAgICBzdGF0ZS5mZWVkYmFjay5pc0xvYWRpbmcgPSBmYWxzZTsKICB9LAogIEdFVF9ST09NX1JFUVVFU1RTX1JFUVVFU1Q6IGZ1bmN0aW9uIEdFVF9ST09NX1JFUVVFU1RTX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLnJlcXVlc3RzLmlzTG9hZGluZyA9IHRydWU7CiAgICBzdGF0ZS5yZXF1ZXN0cy5lcnJvciA9IG51bGw7CiAgICBzdGF0ZS5yZXF1ZXN0cy5zdWNjZXNzID0gbnVsbDsKICB9LAogIEdFVF9ST09NX1JFUVVFU1RTX1NVQ0NFU1M6IGZ1bmN0aW9uIEdFVF9ST09NX1JFUVVFU1RTX1NVQ0NFU1Moc3RhdGUsIHJlcXVlc3RzKSB7CiAgICBzdGF0ZS5yZXF1ZXN0cy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLnJlcXVlc3RzLmRhdGEgPSByZXF1ZXN0czsKICAgIHN0YXRlLnJlcXVlc3RzLnN1Y2Nlc3MgPSB0cnVlOwogIH0sCiAgR0VUX1JPT01fUkVRVUVTVFNfRkFJTFVSRTogZnVuY3Rpb24gR0VUX1JPT01fUkVRVUVTVFNfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLnJlcXVlc3RzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUucmVxdWVzdHMuZXJyb3IgPSBlcnJvcjsKICAgIHN0YXRlLnJlcXVlc3RzLnN1Y2Nlc3MgPSBmYWxzZTsKICB9LAogIEdFVF9BTExSRU5URVJTX1JFUVVFU1Q6IGZ1bmN0aW9uIEdFVF9BTExSRU5URVJTX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLnJlbnRlcnMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgIHN0YXRlLnJlbnRlcnMuc3VjY2VzcyA9IG51bGw7CiAgICBzdGF0ZS5yZW50ZXJzLmVycm9yID0gbnVsbDsKICB9LAogIEdFVF9BTExSRU5URVJTX1NVQ0NFU1M6IGZ1bmN0aW9uIEdFVF9BTExSRU5URVJTX1NVQ0NFU1Moc3RhdGUsIHJlbnRlcnMpIHsKICAgIHN0YXRlLnJlbnRlcnMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICBzdGF0ZS5yZW50ZXJzLnN1Y2Nlc3MgPSB0cnVlOwogICAgc3RhdGUucmVudGVycy5kYXRhID0gcmVudGVyczsKICB9LAogIEdFVF9BTExSRU5URVJTX0ZBSUxVUkU6IGZ1bmN0aW9uIEdFVF9BTExSRU5URVJTX0ZBSUxVUkUoc3RhdGUsIGVycm9yKSB7CiAgICBzdGF0ZS5yZW50ZXJzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUucmVudGVycy5zdWNjZXNzID0gZmFsc2U7CiAgICBzdGF0ZS5yZW50ZXJzLmVycm9yID0gZXJyb3I7CiAgfSwKICBHRVRfQUxMVkVORE9SU19SRVFVRVNUOiBmdW5jdGlvbiBHRVRfQUxMVkVORE9SU19SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS52ZW5kb3JzLmlzTG9hZGluZyA9IHRydWU7CiAgICBzdGF0ZS52ZW5kb3JzLnN1Y2Nlc3MgPSBudWxsOwogICAgc3RhdGUudmVuZG9ycy5lcnJvciA9IG51bGw7CiAgfSwKICBHRVRfQUxMVkVORE9SU19TVUNDRVNTOiBmdW5jdGlvbiBHRVRfQUxMVkVORE9SU19TVUNDRVNTKHN0YXRlLCB2ZW5kb3JzKSB7CiAgICBzdGF0ZS52ZW5kb3JzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUudmVuZG9ycy5zdWNjZXNzID0gdHJ1ZTsKICAgIHN0YXRlLnZlbmRvcnMuZGF0YSA9IHZlbmRvcnM7CiAgfSwKICBHRVRfQUxMVkVORE9SU19GQUlMVVJFOiBmdW5jdGlvbiBHRVRfQUxMVkVORE9SU19GQUlMVVJFKHN0YXRlLCBlcnJvcikgewogICAgc3RhdGUudmVuZG9ycy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLnZlbmRvcnMuc3VjY2VzcyA9IGZhbHNlOwogICAgc3RhdGUudmVuZG9ycy5lcnJvciA9IGVycm9yOwogIH0sCiAgR0VUX0FMTFRZUEVTX1JFUVVFU1Q6IGZ1bmN0aW9uIEdFVF9BTExUWVBFU19SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS50eXBlcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgc3RhdGUudHlwZXMuc3VjY2VzcyA9IG51bGw7CiAgICBzdGF0ZS50eXBlcy5lcnJvciA9IG51bGw7CiAgfSwKICBHRVRfQUxMVFlQRVNfU1VDQ0VTUzogZnVuY3Rpb24gR0VUX0FMTFRZUEVTX1NVQ0NFU1Moc3RhdGUsIHR5cGVzKSB7CiAgICBzdGF0ZS50eXBlcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLnR5cGVzLnN1Y2Nlc3MgPSB0cnVlOwogICAgc3RhdGUudHlwZXMuZGF0YSA9IHR5cGVzOwogIH0sCiAgR0VUX0FMTFRZUEVTX0ZBSUxVUkU6IGZ1bmN0aW9uIEdFVF9BTExUWVBFU19GQUlMVVJFKHN0YXRlLCBlcnJvcikgewogICAgc3RhdGUudHlwZXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICBzdGF0ZS50eXBlcy5zdWNjZXNzID0gZmFsc2U7CiAgICBzdGF0ZS50eXBlcy5lcnJvciA9IGVycm9yOwogIH0sCiAgVVBEQVRFX0hPU1RFTF9UWVBFX1JFUVVFU1Q6IGZ1bmN0aW9uIFVQREFURV9IT1NURUxfVFlQRV9SRVFVRVNUKHN0YXRlKSB7CiAgICBzdGF0ZS50eXBlcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgc3RhdGUudHlwZXMuaXNVcGRhdGluZyA9IHRydWU7CiAgICBzdGF0ZS50eXBlcy5lcnJvciA9IG51bGw7CiAgICBzdGF0ZS50eXBlcy5zdWNjZXNzID0gbnVsbDsKICB9LAogIFVQREFURV9IT1NURUxfVFlQRV9TVUNDRVNTOiBmdW5jdGlvbiBVUERBVEVfSE9TVEVMX1RZUEVfU1VDQ0VTUyhzdGF0ZSwgdHlwZSkgewogICAgdmFyIGluZGV4ID0gc3RhdGUudHlwZXMuZGF0YS50eXBlcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0udHlwZUlkID09PSB0eXBlLnR5cGVJZDsKICAgIH0pOwogICAgdmFyIGdyb3VwID0gc3RhdGUudHlwZXMuZGF0YS50eXBlc1tpbmRleF0uZ3JvdXA7CiAgICBjb25zb2xlLmxvZyhpbmRleCk7CgogICAgdmFyIG5ld1R5cGUgPSBfb2JqZWN0U3ByZWFkKHt9LCB0eXBlKTsKCiAgICBuZXdUeXBlLmdyb3VwID0gZ3JvdXA7CiAgICBzdGF0ZS50eXBlcy5kYXRhLnR5cGVzLnNwbGljZShpbmRleCwgMSk7CiAgICBzdGF0ZS50eXBlcy5kYXRhLnR5cGVzLnB1c2gobmV3VHlwZSk7CiAgICBzdGF0ZS50eXBlcy5zdWNjZXNzID0gdHJ1ZTsKICAgIHN0YXRlLnR5cGVzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUudHlwZXMuaXNVcGRhdGluZyA9IGZhbHNlOwogIH0sCiAgVVBEQVRFX0hPU1RFTF9UWVBFX0ZBSUxVUkU6IGZ1bmN0aW9uIFVQREFURV9IT1NURUxfVFlQRV9GQUlMVVJFKHN0YXRlLCBlcnJvcikgewogICAgc3RhdGUudHlwZXMuZXJyb3IgPSBlcnJvcjsKICAgIHN0YXRlLnR5cGVzLnN1Y2Nlc3MgPSBmYWxzZTsKICAgIHN0YXRlLnR5cGVzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUudHlwZXMuaXNVcGRhdGluZyA9IGZhbHNlOwogIH0sCiAgVVBEQVRFX1VTRVJfUkVRVUVTVDogZnVuY3Rpb24gVVBEQVRFX1VTRVJfUkVRVUVTVChzdGF0ZSkgewogICAgc3RhdGUudXNlci5pc0xvYWRpbmcgPSB0cnVlOwogICAgc3RhdGUudXNlci5pc1VwZGF0aW5nID0gdHJ1ZTsKICAgIHN0YXRlLnVzZXIuZXJyb3IgPSBudWxsOwogICAgc3RhdGUudXNlci5zdWNjZXNzID0gbnVsbDsKICB9LAogIFVQREFURV9VU0VSX1NVQ0NFU1M6IGZ1bmN0aW9uIFVQREFURV9VU0VSX1NVQ0NFU1Moc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnVzZXIuZGF0YSA9IHVzZXI7CiAgICBzdGF0ZS51c2VyLnN1Y2Nlc3MgPSB0cnVlOwogICAgc3RhdGUudXNlci5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLnVzZXIuaXNVcGRhdGluZyA9IGZhbHNlOwogIH0sCiAgVVBEQVRFX1VTRVJfRkFJTFVSRTogZnVuY3Rpb24gVVBEQVRFX1VTRVJfRkFJTFVSRShzdGF0ZSwgZXJyb3IpIHsKICAgIHN0YXRlLnVzZXIuZXJyb3IgPSBlcnJvcjsKICAgIHN0YXRlLnVzZXIuc3VjY2VzcyA9IGZhbHNlOwogICAgc3RhdGUudXNlci5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLnVzZXIuaXNVcGRhdGluZyA9IGZhbHNlOwogIH0sCiAgVVBEQVRFX1ZFTkRPUl9SRVFVRVNUOiBmdW5jdGlvbiBVUERBVEVfVkVORE9SX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLnZlbmRvcnMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgIHN0YXRlLnZlbmRvcnMuaXNVcGRhdGluZyA9IHRydWU7CiAgICBzdGF0ZS52ZW5kb3JzLmVycm9yID0gbnVsbDsKICAgIHN0YXRlLnZlbmRvcnMuc3VjY2VzcyA9IG51bGw7IC8vCgogICAgc3RhdGUudXNlci5pc0xvYWRpbmcgPSB0cnVlOwogICAgc3RhdGUudXNlci5pc1VwZGF0aW5nID0gdHJ1ZTsKICB9LAogIFVQREFURV9WRU5ET1JfU1VDQ0VTUzogZnVuY3Rpb24gVVBEQVRFX1ZFTkRPUl9TVUNDRVNTKHN0YXRlLCB1c2VyKSB7CiAgICB2YXIgaW5kZXggPSBzdGF0ZS52ZW5kb3JzLmRhdGEuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLnVzZXJJZCA9PT0gdXNlci51c2VySWQ7CiAgICB9KTsKICAgIHN0YXRlLnZlbmRvcnMuZGF0YS5zcGxpY2UoaW5kZXgsIDEpOwogICAgc3RhdGUudmVuZG9ycy5kYXRhLnB1c2godXNlcik7CiAgICBzdGF0ZS52ZW5kb3JzLnN1Y2Nlc3MgPSB0cnVlOwogICAgc3RhdGUudmVuZG9ycy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLnZlbmRvcnMuaXNVcGRhdGluZyA9IGZhbHNlOyAvLwoKICAgIGlmICh1c2VyLnVzZXJJZCA9PT0gc3RhdGUudXNlci5kYXRhLnVzZXJJZCkgewogICAgICB2YXIgdGVtcCA9IHVzZXJbMF07CiAgICAgIHN0YXRlLnVzZXIuZGF0YSA9IHRlbXA7CiAgICAgIHN0YXRlLnVzZXIuc3VjY2VzcyA9IHRydWU7CiAgICAgIHN0YXRlLnVzZXIuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIuaXNVcGRhdGluZyA9IGZhbHNlOwogICAgfQogIH0sCiAgVVBEQVRFX1ZFTkRPUl9GQUlMVVJFOiBmdW5jdGlvbiBVUERBVEVfVkVORE9SX0ZBSUxVUkUoc3RhdGUsIGVycm9yKSB7CiAgICBzdGF0ZS52ZW5kb3JzLmVycm9yID0gZXJyb3I7CiAgICBzdGF0ZS52ZW5kb3JzLnN1Y2Nlc3MgPSBmYWxzZTsKICAgIHN0YXRlLnZlbmRvcnMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICBzdGF0ZS52ZW5kb3JzLmlzVXBkYXRpbmcgPSBmYWxzZTsgLy8KCiAgICBzdGF0ZS51c2VyLmlzTG9hZGluZyA9IHRydWU7CiAgICBzdGF0ZS51c2VyLmlzVXBkYXRpbmcgPSB0cnVlOwogIH0sCiAgVVBEQVRFX1JFTlRFUl9SRVFVRVNUOiBmdW5jdGlvbiBVUERBVEVfUkVOVEVSX1JFUVVFU1Qoc3RhdGUpIHsKICAgIHN0YXRlLnJlbnRlcnMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgIHN0YXRlLnJlbnRlcnMuaXNVcGRhdGluZyA9IHRydWU7CiAgICBzdGF0ZS5yZW50ZXJzLmVycm9yID0gbnVsbDsKICAgIHN0YXRlLnJlbnRlcnMuc3VjY2VzcyA9IG51bGw7CiAgfSwKICBVUERBVEVfUkVOVEVSX1NVQ0NFU1M6IGZ1bmN0aW9uIFVQREFURV9SRU5URVJfU1VDQ0VTUyhzdGF0ZSwgdXNlcikgewogICAgdmFyIGluZGV4ID0gc3RhdGUucmVudGVycy5kYXRhLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS51c2VySWQgPT09IHVzZXIudXNlcklkOwogICAgfSk7CiAgICBzdGF0ZS5yZW50ZXJzLmRhdGEuc3BsaWNlKGluZGV4LCAxKTsKICAgIHN0YXRlLnJlbnRlcnMuZGF0YS5wdXNoKHVzZXIpOwogICAgc3RhdGUucmVudGVycy5zdWNjZXNzID0gdHJ1ZTsKICAgIHN0YXRlLnJlbnRlcnMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICBzdGF0ZS5yZW50ZXJzLmlzVXBkYXRpbmcgPSBmYWxzZTsgLy8KCiAgICBpZiAodXNlci51c2VySWQgPT09IHN0YXRlLnVzZXIuZGF0YS51c2VySWQpIHsKICAgICAgdmFyIHRlbXAgPSB1c2VyWzBdOwogICAgICBzdGF0ZS51c2VyLmRhdGEgPSB0ZW1wOwogICAgICBzdGF0ZS51c2VyLnN1Y2Nlc3MgPSB0cnVlOwogICAgICBzdGF0ZS51c2VyLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICBzdGF0ZS51c2VyLmlzVXBkYXRpbmcgPSBmYWxzZTsKICAgIH0KICB9LAogIFVQREFURV9SRU5URVJfRkFJTFVSRTogZnVuY3Rpb24gVVBEQVRFX1JFTlRFUl9GQUlMVVJFKHN0YXRlLCBlcnJvcikgewogICAgc3RhdGUucmVudGVycy5lcnJvciA9IGVycm9yOwogICAgc3RhdGUucmVudGVycy5zdWNjZXNzID0gZmFsc2U7CiAgICBzdGF0ZS5yZW50ZXJzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgc3RhdGUucmVudGVycy5pc1VwZGF0aW5nID0gZmFsc2U7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBnZXRSb29tUmVxdWVzdHM6IGZ1bmN0aW9uIGdldFJvb21SZXF1ZXN0cyhfcmVmKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCB1c2VySWQsIHJvbGUsIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgIHVzZXJJZCA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3VzZXJJZCcpOwogICAgICAgICAgICAgIHJvbGUgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCdyb2xlJyk7CgogICAgICAgICAgICAgIGlmICghKHVzZXJJZCAmJiByb2xlKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNDsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfUk9PTV9SRVFVRVNUU19SRVFVRVNUKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLmdldCgiL2FwaS92MS9yZW50ZXJzLyIuY29uY2F0KHVzZXJJZCwgIi9yZXF1ZXN0cyIpKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfUk9PTV9SRVFVRVNUU19TVUNDRVNTLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX1JPT01fUkVRVUVTVFNfRkFJTFVSRSwgbmV3IEVycm9yKCdyZXNwb25zZSB3aXRoIHN0YXR1cyBjb2RlICE9IDIwMCcpKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEyOwogICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX1JPT01fUkVRVUVTVFNfRkFJTFVSRSwgX2NvbnRleHQudDApOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGFyZSBub3QgbG9nZ2VkIGluLCBjYW5ub3QgZ2V0IHVzZXIgZGF0YScpOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s0LCAxMl1dKTsKICAgIH0pKSgpOwogIH0sCiAgY3JlYXRlUm9vbVJlcXVlc3Q6IGZ1bmN0aW9uIGNyZWF0ZVJvb21SZXF1ZXN0KF9yZWYyLCByZXF1ZXN0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgdXNlcklkLCByb2xlLCByZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIHVzZXJJZCA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3VzZXJJZCcpOwogICAgICAgICAgICAgIHJvbGUgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCdyb2xlJyk7CgogICAgICAgICAgICAgIGlmICghKHVzZXJJZCAmJiByb2xlKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA0OwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNSRUFURV9ST09NX1JFUVVFU1RfUkVRVUVTVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MucG9zdCgiL2FwaS92MS9yZW50ZXJzLyIuY29uY2F0KHVzZXJJZCwgIi9yZXF1ZXN0cyIpLCByZXF1ZXN0KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPj0gMjAwICYmIHJlcy5zdGF0dXMgPD0gMjk5KSB7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DUkVBVEVfUk9PTV9SRVFVRVNUX1NVQ0NFU1MsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DUkVBVEVfUk9PTV9SRVFVRVNUX0ZBSUxVUkUsIG5ldyBFcnJvcigncmVzcG9uc2Ugd2l0aCBzdGF0dXMgY29kZSAhPSAyMDAnKSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEyOwogICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DUkVBVEVfUk9PTV9SRVFVRVNUX0ZBSUxVUkUsIF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGFyZSBub3QgbG9nZ2VkIGluLCBjYW5ub3QgZ2V0IHVzZXIgZGF0YScpOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzQsIDEyXV0pOwogICAgfSkpKCk7CiAgfSwKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZjMsIHBhcmFtcykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBjb21taXQsIHJlcywgcGhvbmUsIHBhc3N3b3JkLCBnZXRUb2tlbklkRnJvbUZpcmViYXNlLCB1c2VyRGF0YSwgand0VG9rZW4sIF95aWVsZCRnZXRUb2tlbklkRnJvbSwgaWRUb2tlbiwgcmVmcmVzaFRva2VuOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgLy8gcGFyYW1zIHtwaG9uZSwgcGFzc3dvcmR9CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX1VTRVJfUkVRVUVTVCk7CiAgICAgICAgICAgICAgcmVzID0gbnVsbDsKICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDM7CiAgICAgICAgICAgICAgcGhvbmUgPSBwYXJhbXMucGhvbmUsIHBhc3N3b3JkID0gcGFyYW1zLnBhc3N3b3JkLCBnZXRUb2tlbklkRnJvbUZpcmViYXNlID0gcGFyYW1zLmdldFRva2VuSWRGcm9tRmlyZWJhc2U7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MucG9zdCgnL2FwaS92MS9sb2dpbicsIHsKICAgICAgICAgICAgICAgIHBob25lOiBwaG9uZSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXMuc3RhdHVzID09PSAyMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB1c2VyRGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgand0VG9rZW4gPSB1c2VyRGF0YS5qd3RUb2tlbjsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEzOwogICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbklkRnJvbUZpcmViYXNlKGp3dFRva2VuKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX3lpZWxkJGdldFRva2VuSWRGcm9tID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgaWRUb2tlbiA9IF95aWVsZCRnZXRUb2tlbklkRnJvbS5pZFRva2VuOwogICAgICAgICAgICAgIHJlZnJlc2hUb2tlbiA9IF95aWVsZCRnZXRUb2tlbklkRnJvbS5yZWZyZXNoVG9rZW47CiAgICAgICAgICAgICAgdXNlckRhdGEuaWRUb2tlbiA9IGlkVG9rZW47CiAgICAgICAgICAgICAgdXNlckRhdGEucmVmcmVzaFRva2VuID0gcmVmcmVzaFRva2VuOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9VU0VSX1NVQ0NFU1MsIHVzZXJEYXRhKTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIyOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfVVNFUl9GQUlMVVJFKTsKCiAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyNzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyNDsKICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX1VTRVJfRkFJTFVSRSwgX2NvbnRleHQzLnQwKTsKCiAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1szLCAyNF1dKTsKICAgIH0pKSgpOwogIH0sCiAgY2xlYXJVc2VyRGF0YTogZnVuY3Rpb24gY2xlYXJVc2VyRGF0YShfcmVmNCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgIHZhciBjb21taXQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNMRUFSX1VTRVJfREFUQSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNCk7CiAgICB9KSkoKTsKICB9LAogIGdldFVzZXI6IGZ1bmN0aW9uIGdldFVzZXIoX3JlZjUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICB2YXIgY29tbWl0LCB1c2VySWQsIHJvbGUsIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAgICAgICAgICAgdXNlcklkID0gd2luZG93LiRjb29raWVzLmdldCgndXNlcklkJyk7CiAgICAgICAgICAgICAgcm9sZSA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3JvbGUnKTsKCiAgICAgICAgICAgICAgaWYgKCEodXNlcklkICYmIHJvbGUpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDQ7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX1VTRVJfUkVRVUVTVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MuZ2V0KCIvYXBpL3YxLyIuY29uY2F0KHJvbGUsICIvIikuY29uY2F0KHVzZXJJZCkpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfVVNFUl9TVUNDRVNTLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX1VTRVJfRkFJTFVSRSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDEyOwogICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IF9jb250ZXh0NVsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfVVNFUl9GQUlMVVJFLCBfY29udGV4dDUudDApOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE4OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNlciBhcmUgbm90IGxvZ2dlZCBpbiwgY2Fubm90IGdldCB1c2VyIGRhdGEnKTsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNSwgbnVsbCwgW1s0LCAxMl1dKTsKICAgIH0pKSgpOwogIH0sCiAgdXBkYXRlVXNlcjogZnVuY3Rpb24gdXBkYXRlVXNlcihfcmVmNiwgbmV3VXNlcikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlLCB1c2VySWQsIHJvbGUsIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNi5jb21taXQsIHN0YXRlID0gX3JlZjYuc3RhdGU7CiAgICAgICAgICAgICAgdXNlcklkID0gd2luZG93LiRjb29raWVzLmdldCgndXNlcklkJyk7CiAgICAgICAgICAgICAgcm9sZSA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3JvbGUnKTsKCiAgICAgICAgICAgICAgaWYgKCEodXNlcklkICYmIHJvbGUgJiYgc3RhdGUudXNlci5kYXRhKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSA0OwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9VU0VSX1JFUVVFU1QpOwogICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLnB1dCgiL2FwaS92MS8iLmNvbmNhdChyb2xlLCAiLyIpLmNvbmNhdCh1c2VySWQpLCBuZXdVc2VyKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX1VTRVJfU1VDQ0VTUywgcmVzLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9VU0VSX0ZBSUxVUkUpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDZbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX1VTRVJfRkFJTFVSRSwgX2NvbnRleHQ2LnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2VySWQsIHJvbGUgb3IgdXNlci5kYXRhIG51bGwnKTsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNiwgbnVsbCwgW1s0LCAxMl1dKTsKICAgIH0pKSgpOwogIH0sCiAgdXBkYXRlVmVuZG9yVjI6IGZ1bmN0aW9uIHVwZGF0ZVZlbmRvclYyKF9yZWY3LCBuZXdVc2VyKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgdmFyIGNvbW1pdCwgdXNlcklkLCBkYXRhVXBkYXRlLCByZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjcuY29tbWl0OwogICAgICAgICAgICAgIHVzZXJJZCA9IG5ld1VzZXIudXNlcklkOwogICAgICAgICAgICAgIGRhdGFVcGRhdGUgPSBuZXdVc2VyLmRhdGE7CiAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAzOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9WRU5ET1JfUkVRVUVTVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MucHV0KCIvYXBpL3YxL3ZlbmRvcnMvIi5jb25jYXQodXNlcklkKSwgZGF0YVVwZGF0ZSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ3LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9WRU5ET1JfU1VDQ0VTUywgcmVzLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9WRU5ET1JfRkFJTFVSRSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDExOwogICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0N1siY2F0Y2giXSgzKTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5VUERBVEVfVVNFUl9GQUlMVVJFLCBfY29udGV4dDcudDApOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU3LCBudWxsLCBbWzMsIDExXV0pOwogICAgfSkpKCk7CiAgfSwKICB1cGRhdGVSZW50ZXJWMjogZnVuY3Rpb24gdXBkYXRlUmVudGVyVjIoX3JlZjgsIG5ld1VzZXIpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICB2YXIgY29tbWl0LCB1c2VySWQsIGRhdGFVcGRhdGUsIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmOC5jb21taXQ7CiAgICAgICAgICAgICAgdXNlcklkID0gbmV3VXNlci51c2VySWQ7CiAgICAgICAgICAgICAgZGF0YVVwZGF0ZSA9IG5ld1VzZXIuZGF0YTsKICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDM7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX1JFTlRFUl9SRVFVRVNUKTsKICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5heGlvcy5wdXQoIi9hcGkvdjEvcmVudGVycy8iLmNvbmNhdCh1c2VySWQpLCBkYXRhVXBkYXRlKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX1JFTlRFUl9TVUNDRVNTLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX1JFTlRFUl9GQUlMVVJFKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgX2NvbnRleHQ4LnQwID0gX2NvbnRleHQ4WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9SRU5URVJfRkFJTFVSRSwgX2NvbnRleHQ4LnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlOCwgbnVsbCwgW1szLCAxMV1dKTsKICAgIH0pKSgpOwogIH0sCiAgdXBkYXRlVXNlckZpcmViYXNlVG9rZW46IGZ1bmN0aW9uIHVwZGF0ZVVzZXJGaXJlYmFzZVRva2VuKF9yZWY5LCBmaXJlYmFzZVRva2VuKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOSgpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIHVzZXJJZCwgcm9sZSwgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY5LmNvbW1pdCwgc3RhdGUgPSBfcmVmOS5zdGF0ZTsKICAgICAgICAgICAgICB1c2VySWQgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCd1c2VySWQnKTsKICAgICAgICAgICAgICByb2xlID0gd2luZG93LiRjb29raWVzLmdldCgncm9sZScpOwoKICAgICAgICAgICAgICBpZiAoISh1c2VySWQgJiYgcm9sZSAmJiBzdGF0ZS51c2VyLmRhdGEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDQ7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX1VTRVJfUkVRVUVTVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MucHV0KCIvYXBpL3YxLyIuY29uY2F0KHJvbGUsICIvIikuY29uY2F0KHVzZXJJZCwgIi90b2tlbiIpLCB7CiAgICAgICAgICAgICAgICBmaXJlYmFzZVRva2VuOiBmaXJlYmFzZVRva2VuCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ5LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9VU0VSX1NVQ0NFU1MsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5VUERBVEVfVVNFUl9GQUlMVVJFKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5WyJjYXRjaCJdKDQpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9VU0VSX0ZBSUxVUkUsIF9jb250ZXh0OS50MCk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndXNlcklkLCByb2xlIG9yIHVzZXIuZGF0YSBudWxsJyk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTksIG51bGwsIFtbNCwgMTJdXSk7CiAgICB9KSkoKTsKICB9LAogIGdldEJvb2tpbmdzOiBmdW5jdGlvbiBnZXRCb29raW5ncyhfcmVmMTApIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIHVzZXJJZCwgcm9sZSwgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTAuY29tbWl0LCBzdGF0ZSA9IF9yZWYxMC5zdGF0ZTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyh3aW5kb3cuJGNvb2tpZXMpOwogICAgICAgICAgICAgIHVzZXJJZCA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3VzZXJJZCcpOwogICAgICAgICAgICAgIHJvbGUgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCdyb2xlJyk7CgogICAgICAgICAgICAgIGlmICghKHVzZXJJZCAmJiByb2xlICYmIHN0YXRlLnVzZXIuZGF0YSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSA1OwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9CT09LSU5HU19SRVFVRVNUKTsKICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MuZ2V0KCIvYXBpL3YxLyIuY29uY2F0KHJvbGUsICIvIikuY29uY2F0KHVzZXJJZCwgIi9ib29raW5ncyIpKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDEwLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9CT09LSU5HU19TVUNDRVNTLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0JPT0tJTkdTX0ZBSUxVUkUpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIF9jb250ZXh0MTAucHJldiA9IDEzOwogICAgICAgICAgICAgIF9jb250ZXh0MTAudDAgPSBfY29udGV4dDEwWyJjYXRjaCJdKDUpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9CT09LSU5HU19GQUlMVVJFLCBfY29udGV4dDEwLnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IGhhdmUgdG8gbG9naW4gYmVmb3JlIGdldCBib29raW5ncycpOwoKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTAsIG51bGwsIFtbNSwgMTNdXSk7CiAgICB9KSkoKTsKICB9LAogIGdldENvbnRyYWN0czogZnVuY3Rpb24gZ2V0Q29udHJhY3RzKF9yZWYxMSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkgewogICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgdXNlcklkLCByb2xlLCByZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxMS5jb21taXQsIHN0YXRlID0gX3JlZjExLnN0YXRlOwogICAgICAgICAgICAgIHVzZXJJZCA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3VzZXJJZCcpOwogICAgICAgICAgICAgIHJvbGUgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCdyb2xlJyk7CgogICAgICAgICAgICAgIGlmICghKHVzZXJJZCAmJiByb2xlICYmIHN0YXRlLnVzZXIuZGF0YSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDExLnByZXYgPSA0OwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9DT05UUkFDVFNfUkVRVUVTVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLmdldCgiL2FwaS92MS8iLmNvbmNhdChyb2xlLCAiLyIpLmNvbmNhdCh1c2VySWQsICIvY29udHJhY3RzP3NvcnRCeT11cGRhdGVkQXQmYXNjPWZhbHNlIikpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTEuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0NPTlRSQUNUU19TVUNDRVNTLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0NPTlRSQUNUU19GQUlMVVJFKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dDExLnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dDExLnQwID0gX2NvbnRleHQxMVsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfQ09OVFJBQ1RTX0ZBSUxVUkUsIF9jb250ZXh0MTEudDApOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgaGF2ZSB0byBsb2dpbiBiZWZvcmUgZ2V0IGNvbnRyYWN0cycpOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTEsIG51bGwsIFtbNCwgMTJdXSk7CiAgICB9KSkoKTsKICB9LAogIGdldE9uZUJvb2tpbmc6IGZ1bmN0aW9uIGdldE9uZUJvb2tpbmcoX3JlZjEyLCBib29raW5nSWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIHVzZXJJZCwgcm9sZSwgY3VycmVudElkcywgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMi5wcmV2ID0gX2NvbnRleHQxMi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTIuY29tbWl0LCBzdGF0ZSA9IF9yZWYxMi5zdGF0ZTsKICAgICAgICAgICAgICB1c2VySWQgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCd1c2VySWQnKTsKICAgICAgICAgICAgICByb2xlID0gd2luZG93LiRjb29raWVzLmdldCgncm9sZScpOwoKICAgICAgICAgICAgICBpZiAoISh1c2VySWQgJiYgcm9sZSAmJiBzdGF0ZS51c2VyLmRhdGEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxMi5wcmV2ID0gNDsKICAgICAgICAgICAgICBjdXJyZW50SWRzID0gc3RhdGUuYm9va2luZ3MuZGF0YS5tYXAoZnVuY3Rpb24gKGJvb2tpbmcpIHsKICAgICAgICAgICAgICAgIHJldHVybiBib29raW5nLmJvb2tpbmdJZDsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRJZHMuaW5jbHVkZXMoYm9va2luZ0lkKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9CT09LSU5HX1JFUVVFU1QpOwogICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEwOwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MuZ2V0KCIvYXBpL3YxL2Jvb2tpbmdzLyIuY29uY2F0KGJvb2tpbmdJZCkpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDEyLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgIHJlcy5kYXRhLmRhdGEubmV3ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9CT09LSU5HX1NVQ0NFU1MsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfQk9PS0lOR19GQUlMVVJFKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcyBib29raW5nIGlzIGFscmVhZHkgaW4gc3RvcmUnKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIF9jb250ZXh0MTIucHJldiA9IDE3OwogICAgICAgICAgICAgIF9jb250ZXh0MTIudDAgPSBfY29udGV4dDEyWyJjYXRjaCJdKDQpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9CT09LSU5HX0ZBSUxVUkUsIF9jb250ZXh0MTIudDApOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAyMzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgaGF2ZSB0byBsb2dpbiBiZWZvcmUgZ2V0IGEgbmV3IGJvb2tpbmcnKTsKCiAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTEyLCBudWxsLCBbWzQsIDE3XV0pOwogICAgfSkpKCk7CiAgfSwKICBpbnNlcnRPbmVCb29raW5nOiBmdW5jdGlvbiBpbnNlcnRPbmVCb29raW5nKF9yZWYxMywgYm9va2luZykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYxMy5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMTMuc3RhdGU7CiAgICB2YXIgdXNlcklkID0gd2luZG93LiRjb29raWVzLmdldCgndXNlcklkJyk7CiAgICB2YXIgcm9sZSA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3JvbGUnKTsKCiAgICBpZiAodXNlcklkICYmIHJvbGUgJiYgc3RhdGUudXNlci5kYXRhKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0JPT0tJTkdfUkVRVUVTVCk7CgogICAgICAgIHZhciBlZGl0Qm9va2luZyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYm9va2luZyksIHt9LCB7CiAgICAgICAgICBuZXc6IHRydWUKICAgICAgICB9KTsKCiAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0JPT0tJTkdfU1VDQ0VTUywgZWRpdEJvb2tpbmcpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9CT09LSU5HX0ZBSUxVUkUsIGVycm9yKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgaGF2ZSB0byBsb2dpbiBiZWZvcmUgZ2V0IGEgbmV3IGJvb2tpbmcnKTsKICAgIH0KICB9LAogIGNyZWF0ZUJvb2tpbmc6IGZ1bmN0aW9uIGNyZWF0ZUJvb2tpbmcoX3JlZjE0LCBib29raW5nKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlLCB1c2VySWQsIHJvbGUsIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE0LmNvbW1pdCwgc3RhdGUgPSBfcmVmMTQuc3RhdGU7CiAgICAgICAgICAgICAgdXNlcklkID0gd2luZG93LiRjb29raWVzLmdldCgndXNlcklkJyk7CiAgICAgICAgICAgICAgcm9sZSA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3JvbGUnKTsKCiAgICAgICAgICAgICAgaWYgKCEodXNlcklkICYmIHJvbGUgJiYgc3RhdGUudXNlci5kYXRhKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MTMucHJldiA9IDQ7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuQ1JFQVRFX0JPT0tJTkdfUkVRVUVTVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLnBvc3QoJy9hcGkvdjEvYm9va2luZ3MnLCBib29raW5nKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDEzLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDEpIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNSRUFURV9CT09LSU5HX1NVQ0NFU1MsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0MTMucHJldiA9IDEyOwogICAgICAgICAgICAgIF9jb250ZXh0MTMudDAgPSBfY29udGV4dDEzWyJjYXRjaCJdKDQpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNSRUFURV9CT09LSU5HX0ZBSUxVUkUsIF9jb250ZXh0MTMudDApOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgaGF2ZSB0byBsb2dpbiBiZWZvcmUgZ2V0IGEgbmV3IGJvb2tpbmcnKTsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTEzLCBudWxsLCBbWzQsIDEyXV0pOwogICAgfSkpKCk7CiAgfSwKICBnZXREZWFsczogZnVuY3Rpb24gZ2V0RGVhbHMoX3JlZjE1KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlLCB1c2VySWQsIHJvbGUsIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE1LmNvbW1pdCwgc3RhdGUgPSBfcmVmMTUuc3RhdGU7CiAgICAgICAgICAgICAgdXNlcklkID0gd2luZG93LiRjb29raWVzLmdldCgndXNlcklkJyk7CiAgICAgICAgICAgICAgcm9sZSA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3JvbGUnKTsKCiAgICAgICAgICAgICAgaWYgKCEodXNlcklkICYmIHJvbGUgJiYgc3RhdGUudXNlci5kYXRhKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MTQucHJldiA9IDQ7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0RFQUxTX1JFUVVFU1QpOwogICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDg7CiAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5heGlvcy5nZXQoIi9hcGkvdjEvIi5jb25jYXQocm9sZSwgIi8iKS5jb25jYXQodXNlcklkLCAiL2RlYWxzIikpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0RFQUxTX1NVQ0NFU1MsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfREVBTFNfRkFJTFVSRSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQxNC5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgX2NvbnRleHQxNC50MCA9IF9jb250ZXh0MTRbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0RFQUxTX0ZBSUxVUkUsIF9jb250ZXh0MTQudDApOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAxODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgaGF2ZSB0byBsb2dpbiBiZWZvcmUgZ2V0IGRlYWxzJyk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxNCwgbnVsbCwgW1s0LCAxMl1dKTsKICAgIH0pKSgpOwogIH0sCiAgY3JlYXRlRGVhbDogZnVuY3Rpb24gY3JlYXRlRGVhbChfcmVmMTYsIGRlYWwpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNSgpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIHVzZXJJZCwgcm9sZSwgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTYuY29tbWl0LCBzdGF0ZSA9IF9yZWYxNi5zdGF0ZTsKICAgICAgICAgICAgICB1c2VySWQgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCd1c2VySWQnKTsKICAgICAgICAgICAgICByb2xlID0gd2luZG93LiRjb29raWVzLmdldCgncm9sZScpOwoKICAgICAgICAgICAgICBpZiAoISh1c2VySWQgJiYgcm9sZSAmJiBzdGF0ZS51c2VyLmRhdGEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxNS5wcmV2ID0gNDsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DUkVBVEVfREVBTF9SRVFVRVNUKTsKICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA4OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MucG9zdCgnL2FwaS92MS9kZWFscycsIGRlYWwpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTUuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuQ1JFQVRFX0RFQUxfU1VDQ0VTUywgcmVzLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNSRUFURV9ERUFMX0ZBSUxVUkUpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0MTUucHJldiA9IDEyOwogICAgICAgICAgICAgIF9jb250ZXh0MTUudDAgPSBfY29udGV4dDE1WyJjYXRjaCJdKDQpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNSRUFURV9ERUFMX0ZBSUxVUkUsIF9jb250ZXh0MTUudDApOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgaGF2ZSB0byBsb2dpbiBiZWZvcmUgZ2V0IGRlYWxzJyk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxNSwgbnVsbCwgW1s0LCAxMl1dKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0RGVhbDogZnVuY3Rpb24gZ2V0RGVhbChfcmVmMTcsIGRlYWxJZHMpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNigpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIHVzZXJJZCwgcm9sZSwgY3VycmVudElkcywgbmV3SWRzLCByZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxNy5jb21taXQsIHN0YXRlID0gX3JlZjE3LnN0YXRlOwogICAgICAgICAgICAgIHVzZXJJZCA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3VzZXJJZCcpOwogICAgICAgICAgICAgIHJvbGUgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCdyb2xlJyk7CiAgICAgICAgICAgICAgY3VycmVudElkcyA9IHN0YXRlLmRlYWxzLmRhdGEubWFwKGZ1bmN0aW9uIChkZWFsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZGVhbC5kZWFsSWQ7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgbmV3SWRzID0gZGVhbElkcy5maWx0ZXIoZnVuY3Rpb24gKG5ld0lkKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gIWN1cnJlbnRJZHMuaW5jbHVkZXMobmV3SWQpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBpZiAoIShuZXdJZHMubGVuZ2h0ID4gMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoISh1c2VySWQgJiYgcm9sZSAmJiBzdGF0ZS51c2VyLmRhdGEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxNi5wcmV2ID0gNzsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfREVBTF9SRVFVRVNUKTsKICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLmdldCgiL2FwaS92MS9kZWFscy8iLmNvbmNhdChuZXdJZHNbMF0pKTsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQxNi5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfREVBTF9TVUNDRVNTLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0RFQUxfRkFJTFVSRSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5wcmV2ID0gMTU7CiAgICAgICAgICAgICAgX2NvbnRleHQxNi50MCA9IF9jb250ZXh0MTZbImNhdGNoIl0oNyk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0RFQUxfRkFJTFVSRSwgX2NvbnRleHQxNi50MCk7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDIxOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBoYXZlIHRvIGxvZ2luIGJlZm9yZSBnZXQgZGVhbHMnKTsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdub3QgYSBuZXcgZGVhbCcpOwoKICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTYsIG51bGwsIFtbNywgMTVdXSk7CiAgICB9KSkoKTsKICB9LAogIGNhbmNlbERlYWw6IGZ1bmN0aW9uIGNhbmNlbERlYWwoX3JlZjE4LCBkZWFsSWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIHVzZXJJZCwgcm9sZSwgZGVhbCwgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTguY29tbWl0LCBzdGF0ZSA9IF9yZWYxOC5zdGF0ZTsKICAgICAgICAgICAgICB1c2VySWQgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCd1c2VySWQnKTsKICAgICAgICAgICAgICByb2xlID0gd2luZG93LiRjb29raWVzLmdldCgncm9sZScpOwoKICAgICAgICAgICAgICBpZiAoISh1c2VySWQgJiYgcm9sZSAmJiBzdGF0ZS51c2VyLmRhdGEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxNy5wcmV2ID0gNDsKICAgICAgICAgICAgICBkZWFsID0gc3RhdGUuZGVhbHMuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmRlYWxJZCA9PT0gZGVhbElkOwogICAgICAgICAgICAgIH0pWzBdOwoKICAgICAgICAgICAgICBpZiAoIWRlYWwpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DQU5DRUxfREVBTF9SRVFVRVNUKTsKICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLnB1dCgnL2FwaS92MS9kZWFscycsIHsKICAgICAgICAgICAgICAgIGRlYWxJZDogZGVhbElkLAogICAgICAgICAgICAgICAgcmVudGVySWQ6IGRlYWwucmVudGVyLnJlbnRlcklkLAogICAgICAgICAgICAgICAgdmVuZG9ySWQ6IGRlYWwudmVuZG9yLnZlbmRvcklkLAogICAgICAgICAgICAgICAgdHlwZUlkOiBkZWFsLnR5cGUudHlwZUlkLAogICAgICAgICAgICAgICAgc3RhdHVzOiAnQ0FOQ0VMRUQnLAogICAgICAgICAgICAgICAgb2ZmZXJlZFByaWNlOiBkZWFsLm9mZmVyZWRQcmljZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDE3LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNBTkNFTF9ERUFMX1NVQ0NFU1MsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWFsIGlzIG51bGwnKTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIF9jb250ZXh0MTcucHJldiA9IDE3OwogICAgICAgICAgICAgIF9jb250ZXh0MTcudDAgPSBfY29udGV4dDE3WyJjYXRjaCJdKDQpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNBTkNFTF9ERUFMX0ZBSUxVUkUsIF9jb250ZXh0MTcudDApOwoKICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAyMzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd5b3UgYXJlIG5vdCBsb2dlZCBpbicpOwoKICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMTcsIG51bGwsIFtbNCwgMTddXSk7CiAgICB9KSkoKTsKICB9LAogIGNhbmNlbEJvb2tpbmc6IGZ1bmN0aW9uIGNhbmNlbEJvb2tpbmcoX3JlZjE5LCBib29raW5nSWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOCgpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIHVzZXJJZCwgcm9sZSwgYm9va2luZywgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTkuY29tbWl0LCBzdGF0ZSA9IF9yZWYxOS5zdGF0ZTsKICAgICAgICAgICAgICB1c2VySWQgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCd1c2VySWQnKTsKICAgICAgICAgICAgICByb2xlID0gd2luZG93LiRjb29raWVzLmdldCgncm9sZScpOwoKICAgICAgICAgICAgICBpZiAoISh1c2VySWQgJiYgcm9sZSAmJiBzdGF0ZS51c2VyLmRhdGEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxOC5wcmV2ID0gNDsKICAgICAgICAgICAgICBib29raW5nID0gc3RhdGUuYm9va2luZ3MuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmJvb2tpbmdJZCA9PT0gYm9va2luZ0lkOwogICAgICAgICAgICAgIH0pWzBdOwoKICAgICAgICAgICAgICBpZiAoIWJvb2tpbmcpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DQU5DRUxfQk9PS0lOR19SRVFVRVNUKTsKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxMDsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLnB1dCgiL2FwaS92MS9ib29raW5ncy8iLmNvbmNhdChib29raW5nSWQpLCB7CiAgICAgICAgICAgICAgICBib29raW5nSWQ6IGJvb2tpbmdJZCwKICAgICAgICAgICAgICAgIGRlYWxJZDogYm9va2luZy5kZWFsID8gYm9va2luZy5kZWFsLmRlYWxJZCA6IG51bGwsCiAgICAgICAgICAgICAgICB0eXBlSWQ6IGJvb2tpbmcudHlwZS50eXBlSWQsCiAgICAgICAgICAgICAgICByZW50ZXJJZDogYm9va2luZy5yZW50ZXIucmVudGVySWQsCiAgICAgICAgICAgICAgICB2ZW5kb3JJZDogYm9va2luZy52ZW5kb3IudmVuZG9ySWQsCiAgICAgICAgICAgICAgICBzdGF0dXM6ICdDQU5DRUxMRUQnLAogICAgICAgICAgICAgICAgbWVldFRpbWU6IGJvb2tpbmcubWVldFRpbWUsCiAgICAgICAgICAgICAgICBxckNvZGU6IGJvb2tpbmcucXJDb2RlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTguc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuQ0FOQ0VMX0JPT0tJTkdfU1VDQ0VTUywgcmVzLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxNTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY29uc29sZS5sb2coImJvb2tpbmcgIi5jb25jYXQoYm9va2luZ0lkLCAiIGlzIG5vdCBleGlzdGVkIGluIHN0b3JlIikpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAyMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgX2NvbnRleHQxOC5wcmV2ID0gMTc7CiAgICAgICAgICAgICAgX2NvbnRleHQxOC50MCA9IF9jb250ZXh0MThbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuQ1JFQVRFX0JPT0tJTkdfRkFJTFVSRSwgX2NvbnRleHQxOC50MCk7CgogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDIzOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3lvdSBhcmUgbm90IGxvZ2VkIGluJyk7CgogICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUxOCwgbnVsbCwgW1s0LCAxN11dKTsKICAgIH0pKSgpOwogIH0sCiAgdXBkYXRlQm9va2luZ1N0YXR1czogZnVuY3Rpb24gdXBkYXRlQm9va2luZ1N0YXR1cyhfcmVmMjAsIGNvbnRlbnQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOSgpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIHVzZXJJZCwgcm9sZSwgYm9va2luZ0lkLCBxckNvZGUsIGJvb2tpbmcsIHJlcywgZXJyb3IsIF9lcnJvcjsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDE5LnByZXYgPSBfY29udGV4dDE5Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyMC5jb21taXQsIHN0YXRlID0gX3JlZjIwLnN0YXRlOwogICAgICAgICAgICAgIHVzZXJJZCA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3VzZXJJZCcpOwogICAgICAgICAgICAgIHJvbGUgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCdyb2xlJyk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuRE9ORV9CT09LSU5HX1JFUVVFU1QpOwoKICAgICAgICAgICAgICBpZiAoISh1c2VySWQgJiYgcm9sZSAmJiBzdGF0ZS51c2VyLmRhdGEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAyNzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxOS5wcmV2ID0gNTsKICAgICAgICAgICAgICBib29raW5nSWQgPSBjb250ZW50LmJvb2tpbmdJZCwgcXJDb2RlID0gY29udGVudC5xckNvZGU7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coYm9va2luZ0lkLCBxckNvZGUpOwogICAgICAgICAgICAgIGJvb2tpbmcgPSBzdGF0ZS5ib29raW5ncy5kYXRhLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmJvb2tpbmdJZCA9PT0gTnVtYmVyKGJvb2tpbmdJZCk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGlmICghYm9va2luZykgewogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDEyOwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MucHV0KCIvYXBpL3YxL2Jvb2tpbmdzLyIuY29uY2F0KGJvb2tpbmdJZCksIHsKICAgICAgICAgICAgICAgIGJvb2tpbmdJZDogTnVtYmVyKGJvb2tpbmdJZCksCiAgICAgICAgICAgICAgICBkZWFsSWQ6IGJvb2tpbmcuZGVhbCA/IGJvb2tpbmcuZGVhbC5kZWFsSWQgOiBudWxsLAogICAgICAgICAgICAgICAgdHlwZUlkOiBib29raW5nLnR5cGUudHlwZUlkLAogICAgICAgICAgICAgICAgcmVudGVySWQ6IGJvb2tpbmcucmVudGVyLnJlbnRlcklkLAogICAgICAgICAgICAgICAgdmVuZG9ySWQ6IGJvb2tpbmcudmVuZG9yLnZlbmRvcklkLAogICAgICAgICAgICAgICAgc3RhdHVzOiAnRE9ORScsCiAgICAgICAgICAgICAgICBtZWV0VGltZTogYm9va2luZy5tZWV0VGltZSwKICAgICAgICAgICAgICAgIHFyQ29kZTogcXJDb2RlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MTkuc2VudDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5ET05FX0JPT0tJTkdfU1VDQ0VTUywgTnVtYmVyKGJvb2tpbmdJZCkpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKCJib29raW5nICIuY29uY2F0KGJvb2tpbmdJZCwgIiBpcyBub3QgZXhpc3RlZCBpbiBzdG9yZSIpKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuRE9ORV9CT09LSU5HX0ZBSUxVUkUsIGVycm9yKTsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgIF9jb250ZXh0MTkucHJldiA9IDIyOwogICAgICAgICAgICAgIF9jb250ZXh0MTkudDAgPSBfY29udGV4dDE5WyJjYXRjaCJdKDUpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkRPTkVfQk9PS0lOR19GQUlMVVJFLCBfY29udGV4dDE5LnQwKTsKCiAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgIF9lcnJvciA9IG5ldyBFcnJvcigneW91IGFyZSBub3QgbG9nZWQgaW4nKTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5ET05FX0JPT0tJTkdfRkFJTFVSRSwgX2Vycm9yKTsKCiAgICAgICAgICAgIGNhc2UgMjk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTE5LCBudWxsLCBbWzUsIDIyXV0pOwogICAgfSkpKCk7CiAgfSwKICB1cGRhdGVCb29raW5nU3RhdHVzTG9jYWw6IGZ1bmN0aW9uIHVwZGF0ZUJvb2tpbmdTdGF0dXNMb2NhbChfcmVmMjEsIGJvb2tpbmdJZCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyMS5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMjEuc3RhdGU7CiAgICB2YXIgdXNlcklkID0gd2luZG93LiRjb29raWVzLmdldCgndXNlcklkJyk7CiAgICB2YXIgcm9sZSA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3JvbGUnKTsKICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkRPTkVfQk9PS0lOR19SRVFVRVNUKTsKCiAgICBpZiAodXNlcklkICYmIHJvbGUgJiYgc3RhdGUudXNlci5kYXRhKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGJvb2tpbmcgPSBzdGF0ZS5ib29raW5ncy5kYXRhLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uYm9va2luZ0lkID09PSBib29raW5nSWQ7CiAgICAgICAgfSlbMF07CgogICAgICAgIGlmIChib29raW5nKSB7CiAgICAgICAgICBib29raW5nLnN0YXR1cyA9ICdET05FJzsKICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkRPTkVfQk9PS0lOR19TVUNDRVNTLCBib29raW5nSWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoImJvb2tpbmcgIi5jb25jYXQoYm9va2luZ0lkLCAiIGlzIG5vdCBleGlzdGVkIGluIHN0b3JlIikpOwogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuRE9ORV9CT09LSU5HX0ZBSUxVUkUsIGVycm9yKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuRE9ORV9CT09LSU5HX0ZBSUxVUkUsIGVycm9yKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdmFyIF9lcnJvcjIgPSBuZXcgRXJyb3IoJ3lvdSBhcmUgbm90IGxvZ2VkIGluJyk7CgogICAgICBjb21taXQobXV0YXRpb25UeXBlcy5ET05FX0JPT0tJTkdfRkFJTFVSRSwgX2Vycm9yMik7CiAgICB9CiAgfSwKICBjbGVhck5ld2x5Q3JlYXRlZEJvb2tpbmc6IGZ1bmN0aW9uIGNsZWFyTmV3bHlDcmVhdGVkQm9va2luZyhfcmVmMjIpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMjIuY29tbWl0OwogICAgY29tbWl0KG11dGF0aW9uVHlwZXMuQ0xFQVJfTkVXTFlfQ1JFQVRFRF9CT09LSU5HKTsKICB9LAogIHJlZ2lzdGVyUmVudGVyOiBmdW5jdGlvbiByZWdpc3RlclJlbnRlcihfcmVmMjMsIHJlbnRlcikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIwKCkgewogICAgICB2YXIgY29tbWl0LCByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMCQoX2NvbnRleHQyMCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIzLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDIwLnByZXYgPSAxOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlJFR0lTVEVSX1VTRVJfUkVRVUVTVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLnBvc3QoJy9hcGkvdjEvcmVudGVycy9yZWdpc3RlcicsIHJlbnRlcik7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIwLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8PSAyOTkpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5SRUdJU1RFUl9VU0VSX1NVQ0NFU1MsIHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlJFR0lTVEVSX1VTRVJfRkFJTFVSRSwgJ1Phu5EgxJFp4buHbiB0aG/huqFpIG7DoHkgxJHDoyDEkcaw4bujYyDEkcSDbmcga8OtJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQyMC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgX2NvbnRleHQyMC50MCA9IF9jb250ZXh0MjBbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuUkVHSVNURVJfVVNFUl9GQUlMVVJFLCBfY29udGV4dDIwLnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIwLCBudWxsLCBbWzEsIDEwXV0pOwogICAgfSkpKCk7CiAgfSwKICByZWdpc3RlclZlbmRvcjogZnVuY3Rpb24gcmVnaXN0ZXJWZW5kb3IoX3JlZjI0LCB2ZW5kb3IpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMSgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjEkKF9jb250ZXh0MjEpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyNC5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5wcmV2ID0gMTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5SRUdJU1RFUl9VU0VSX1JFUVVFU1QpOwogICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5heGlvcy5wb3N0KCcvYXBpL3YxL3ZlbmRvcnMvcmVnaXN0ZXInLCB2ZW5kb3IpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyMS5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPD0gMjk5KSB7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5SRUdJU1RFUl9VU0VSX1NVQ0NFU1MsIHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlJFR0lTVEVSX1VTRVJfRkFJTFVSRSwgJ1Phu5EgxJFp4buHbiB0aG/huqFpIG7DoHkgxJHDoyDEkcaw4bujYyDEkcSDbmcga8OtJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQyMS5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgX2NvbnRleHQyMS50MCA9IF9jb250ZXh0MjFbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuUkVHSVNURVJfVVNFUl9GQUlMVVJFLCBfY29udGV4dDIxLnQwKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIxLCBudWxsLCBbWzEsIDEwXV0pOwogICAgfSkpKCk7CiAgfSwKICBjcmVhdGVDb250cmFjdDogZnVuY3Rpb24gY3JlYXRlQ29udHJhY3QoX3JlZjI1LCBjb250cmFjdCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIyKCkgewogICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgdXNlcklkLCByb2xlLCBlcnJvciwgX2Vycm9yMywgcmVzLCBfZXJyb3I0OwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjI1LmNvbW1pdCwgc3RhdGUgPSBfcmVmMjUuc3RhdGU7CiAgICAgICAgICAgICAgX2NvbnRleHQyMi5wcmV2ID0gMTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DUkVBVEVfQ09OVFJBQ1RfUkVRVUVTVCk7CiAgICAgICAgICAgICAgdXNlcklkID0gd2luZG93LiRjb29raWVzLmdldCgndXNlcklkJyk7CiAgICAgICAgICAgICAgcm9sZSA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3JvbGUnKTsKCiAgICAgICAgICAgICAgaWYgKCEoIXVzZXJJZCAmJiAhc3RhdGUudXNlci5kYXRhKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKCdMb2dnaW4gdG8gY3JlYXRlIGNvbnRyYWN0Jyk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuQ1JFQVRFX0NPTlRSQUNUX0ZBSUxVUkUsIGVycm9yKTsKICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSAxOTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgaWYgKCEocm9sZSAhPT0gJ3ZlbmRvcnMnKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9lcnJvcjMgPSBuZXcgRXJyb3IoJ09ubHkgdmVuZG9yIGhhdmUgcGVybWlzc2lvbiB0byBjcmVhdGUgY29udHJhY3QnKTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DUkVBVEVfQ09OVFJBQ1RfRkFJTFVSRSwgX2Vycm9yMyk7CiAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDE3OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MucG9zdCgnL2FwaS92MS9jb250cmFjdHMnLCBjb250cmFjdCk7CgogICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MjIuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPj0gMjAwICYmIHJlcy5zdGF0dXMgPD0gMjk5KSB7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DUkVBVEVfQ09OVFJBQ1RfU1VDQ0VTUywgcmVzLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF9lcnJvcjQgPSBuZXcgRXJyb3IoJ0Nhbm5vdCByZWNlaXZlIHJlc3BvbnNlIGZyb20gc2VydmVyJyk7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DUkVBVEVfQ09OVFJBQ1RfRkFJTFVSRSwgX2Vycm9yNCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSAyNDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgX2NvbnRleHQyMi5wcmV2ID0gMjE7CiAgICAgICAgICAgICAgX2NvbnRleHQyMi50MCA9IF9jb250ZXh0MjJbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuQ1JFQVRFX0NPTlRSQUNUX0ZBSUxVUkUsIF9jb250ZXh0MjIudDApOwoKICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjIsIG51bGwsIFtbMSwgMjFdXSk7CiAgICB9KSkoKTsKICB9LAogIHVwZGF0ZUNvbnRyYWN0OiBmdW5jdGlvbiB1cGRhdGVDb250cmFjdChfcmVmMjYsIGNvbnRyYWN0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlLCB1c2VySWQsIHJvbGUsIGVycm9yLCBjb250cmFjdElkLCByZXMsIF9lcnJvcjU7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIzJChfY29udGV4dDIzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMy5wcmV2ID0gX2NvbnRleHQyMy5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMjYuY29tbWl0LCBzdGF0ZSA9IF9yZWYyNi5zdGF0ZTsKICAgICAgICAgICAgICBfY29udGV4dDIzLnByZXYgPSAxOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9DT05UUkFDVF9SRVFVRVNUKTsKICAgICAgICAgICAgICB1c2VySWQgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCd1c2VySWQnKTsKICAgICAgICAgICAgICByb2xlID0gd2luZG93LiRjb29raWVzLmdldCgncm9sZScpOwoKICAgICAgICAgICAgICBpZiAoISghcm9sZSAmJiAhdXNlcklkICYmICFzdGF0ZS51c2VyLmRhdGEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ0xvZ2dpbiB0byB1cGRhdGUgY29udHJhY3QnKTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5VUERBVEVfQ09OVFJBQ1RfRkFJTFVSRSwgZXJyb3IpOwogICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShjb250cmFjdCkpOwogICAgICAgICAgICAgIGNvbnRyYWN0SWQgPSBjb250cmFjdC5jb250cmFjdElkOwogICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDE0OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MucHV0KCIvYXBpL3YxL2NvbnRyYWN0cy8iLmNvbmNhdChjb250cmFjdElkKSwgY29udHJhY3QpOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIzLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghcmVzKSB7CiAgICAgICAgICAgICAgICBfZXJyb3I1ID0gbmV3IEVycm9yKCdDYW5ub3QgcmVjZWl2ZSByZXNwb25zZSBmcm9tIHNlcnZlcicpOwogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX0NPTlRSQUNUX0ZBSUxVUkUsIF9lcnJvcjUpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA+PSAyMDAgJiYgcmVzLnN0YXR1cyA8PSAyOTkpIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9DT05UUkFDVF9TVUNDRVNTLCBjb250cmFjdElkKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDIxOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBfY29udGV4dDIzLnByZXYgPSAxODsKICAgICAgICAgICAgICBfY29udGV4dDIzLnQwID0gX2NvbnRleHQyM1siY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5VUERBVEVfQ09OVFJBQ1RfRkFJTFVSRSwgX2NvbnRleHQyMy50MCk7CgogICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyMywgbnVsbCwgW1sxLCAxOF1dKTsKICAgIH0pKSgpOwogIH0sCiAgYWN0aXZhdGVDb250cmFjdDogZnVuY3Rpb24gYWN0aXZhdGVDb250cmFjdChfcmVmMjcsIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNCgpIHsKICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIHVzZXJJZCwgcm9sZSwgZXJyb3IsIGNvbnRyYWN0SWQsIHFyQ29kZSwgc3RhdHVzLCByZXMsIF9lcnJvcjY7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNC5wcmV2ID0gX2NvbnRleHQyNC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMjcuY29tbWl0LCBzdGF0ZSA9IF9yZWYyNy5zdGF0ZTsKICAgICAgICAgICAgICBfY29udGV4dDI0LnByZXYgPSAxOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhY3RpdmF0ZSBjb250cmFjdCcpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkFDVElWQVRFX0NPTlRSQUNUX1JFUVVFU1QpOwogICAgICAgICAgICAgIHVzZXJJZCA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3VzZXJJZCcpOwogICAgICAgICAgICAgIHJvbGUgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCdyb2xlJyk7CgogICAgICAgICAgICAgIGlmICghKCFyb2xlICYmICF1c2VySWQgJiYgIXN0YXRlLnVzZXIuZGF0YSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignTG9nZ2luIHRvIGFjdGl2YXRlIGNvbnRyYWN0Jyk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuQUNUSVZBVEVfQ09OVFJBQ1RfRkFJTFVSRSwgZXJyb3IpOwogICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjb250cmFjdElkID0gcGF5bG9hZC5jb250cmFjdElkLCBxckNvZGUgPSBwYXlsb2FkLnFyQ29kZSwgc3RhdHVzID0gcGF5bG9hZC5zdGF0dXM7CiAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5heGlvcy5wdXQoIi9hcGkvdjEvY29udHJhY3RzL2NvbmZpcm0vIi5jb25jYXQoY29udHJhY3RJZCksIHsKICAgICAgICAgICAgICAgIHFyQ29kZTogcXJDb2RlLAogICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyNC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIXJlcykgewogICAgICAgICAgICAgICAgX2Vycm9yNiA9IG5ldyBFcnJvcignQ2Fubm90IHJlY2VpdmUgcmVzcG9uc2UgZnJvbSBzZXJ2ZXInKTsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkFDVElWQVRFX0NPTlRSQUNUX0ZBSUxVUkUsIF9lcnJvcjYpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA+PSAyMDAgJiYgcmVzLnN0YXR1cyA8PSAyOTkpIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkFDVElWQVRFX0NPTlRSQUNUX1NVQ0NFU1MsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIF9jb250ZXh0MjQucHJldiA9IDE4OwogICAgICAgICAgICAgIF9jb250ZXh0MjQudDAgPSBfY29udGV4dDI0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9DT05UUkFDVF9GQUlMVVJFLCBfY29udGV4dDI0LnQwKTsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTI0LCBudWxsLCBbWzEsIDE4XV0pOwogICAgfSkpKCk7CiAgfSwKICB1cGRhdGVDb250cmFjdExvY2FsOiBmdW5jdGlvbiB1cGRhdGVDb250cmFjdExvY2FsKF9yZWYyOCwgY29udHJhY3RJZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI1KCkgewogICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgdXNlcklkLCByb2xlLCBlcnJvciwgX2Vycm9yNzsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjUkKF9jb250ZXh0MjUpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDI1LnByZXYgPSBfY29udGV4dDI1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyOC5jb21taXQsIHN0YXRlID0gX3JlZjI4LnN0YXRlOwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX0NPTlRSQUNUX1JFUVVFU1QpOwogICAgICAgICAgICAgICAgdXNlcklkID0gd2luZG93LiRjb29raWVzLmdldCgndXNlcklkJyk7CiAgICAgICAgICAgICAgICByb2xlID0gd2luZG93LiRjb29raWVzLmdldCgncm9sZScpOwoKICAgICAgICAgICAgICAgIGlmICghdXNlcklkICYmICFzdGF0ZS51c2VyLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ0xvZ2dpbiB0byBhY3RpdmF0ZSBjb250cmFjdCcpOwogICAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5VUERBVEVfQ09OVFJBQ1RfRkFJTFVSRSwgZXJyb3IpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyb2xlICE9PSAndmVuZG9ycycpIHsKICAgICAgICAgICAgICAgICAgX2Vycm9yNyA9IG5ldyBFcnJvcignT25seSB2ZW5kb3IgaGF2ZSBwZXJtaXNzaW9uIHRvIHVwZGF0ZSBjb250cmFjdCBsb2NhbGx5Jyk7CiAgICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9DT05UUkFDVF9GQUlMVVJFLCBfZXJyb3I3KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9DT05UUkFDVF9TVUNDRVNTLCBjb250cmFjdElkKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX0NPTlRSQUNUX0ZBSUxVUkUsIGVycm9yKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTI1KTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0T25lQ29udHJhY3Q6IGZ1bmN0aW9uIGdldE9uZUNvbnRyYWN0KF9yZWYyOSwgY29udHJhY3RJZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI2KCkgewogICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgdXNlcklkLCByb2xlLCByZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjYkKF9jb250ZXh0MjYpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDI2LnByZXYgPSBfY29udGV4dDI2Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyOS5jb21taXQsIHN0YXRlID0gX3JlZjI5LnN0YXRlOwogICAgICAgICAgICAgIHVzZXJJZCA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3VzZXJJZCcpOwogICAgICAgICAgICAgIHJvbGUgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCdyb2xlJyk7CgogICAgICAgICAgICAgIGlmICghKHVzZXJJZCAmJiByb2xlICYmIHN0YXRlLnVzZXIuZGF0YSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDI2LnByZXYgPSA0OwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9PTkVfQ09OVFJBQ1RfUkVRVUVTVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLmdldCgiL2FwaS92MS9jb250cmFjdHMvIi5jb25jYXQoY29udHJhY3RJZCkpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0MjYuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX09ORV9DT05UUkFDVF9TVUNDRVNTLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX09ORV9DT05UUkFDVF9GQUlMVVJFKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBfY29udGV4dDI2LnByZXYgPSAxMjsKICAgICAgICAgICAgICBfY29udGV4dDI2LnQwID0gX2NvbnRleHQyNlsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfT05FX0NPTlRSQUNUX0ZBSUxVUkUsIF9jb250ZXh0MjYudDApOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDI2Lm5leHQgPSAxODsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgaGF2ZSB0byBsb2dpbiBiZWZvcmUgZ2V0IGNvbnRyYWN0cycpOwoKICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjYsIG51bGwsIFtbNCwgMTJdXSk7CiAgICB9KSkoKTsKICB9LAogIHNlbmROb3RpZmljYXRpb246IGZ1bmN0aW9uIHNlbmROb3RpZmljYXRpb24oX3JlZjMwLCBwYXlsb2FkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjcoKSB7CiAgICAgIHZhciBjb21taXQsIHRpdGxlLCBib2R5LCBhY3Rpb24sIGlkLCB2ZW5kb3JJZCwgcmVudGVySWQsIGljb24sIG5vdGk7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjckKF9jb250ZXh0MjcpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDI3LnByZXYgPSBfY29udGV4dDI3Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzMC5jb21taXQ7CiAgICAgICAgICAgICAgLy8gcGF5bG9hZCA9IHt0aXRsZSwgYm9keSwgYWN0aW9uLCBpZCwgcmVjZWl2ZXJ9CiAgICAgICAgICAgICAgLy8gcmVjZWl2ZXIgb2YgZm9ybWF0OiByZW50ZXJzfHZlbmRvcnMtaWQKICAgICAgICAgICAgICAvLyB2ZW5kb3JzLTEKICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgICB0aXRsZSA9IHBheWxvYWQudGl0bGUsIGJvZHkgPSBwYXlsb2FkLmJvZHksIGFjdGlvbiA9IHBheWxvYWQuYWN0aW9uLCBpZCA9IHBheWxvYWQuaWQsIHZlbmRvcklkID0gcGF5bG9hZC52ZW5kb3JJZCwgcmVudGVySWQgPSBwYXlsb2FkLnJlbnRlcklkLCBpY29uID0gcGF5bG9hZC5pY29uOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlNFTkRfTk9USUZJQ0FUSU9OX1JFUVVFU1QpOwogICAgICAgICAgICAgIF9jb250ZXh0MjcucHJldiA9IDM7CiAgICAgICAgICAgICAgbm90aSA9IHsKICAgICAgICAgICAgICAgIHZlbmRvcklkOiB2ZW5kb3JJZCwKICAgICAgICAgICAgICAgIHJlbnRlcklkOiByZW50ZXJJZCwKICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgICAgICAgICAgICBib2R5OiBib2R5LAogICAgICAgICAgICAgICAgICBhY3Rpb246IGFjdGlvbiwKICAgICAgICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICAgICAgICBpY29uOiBpY29uCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dDI3Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MucG9zdCgnL2FwaS92MS9ub3RpZmljYXRpb24vdG9rZW4nLCBub3RpKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5TRU5EX05PVElGSUNBVElPTl9TVUNDRVNTKTsKICAgICAgICAgICAgICBfY29udGV4dDI3Lm5leHQgPSAxMzsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQyNy5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgX2NvbnRleHQyNy50MCA9IF9jb250ZXh0MjdbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuU0VORF9OT1RJRklDQVRJT05fRkFJTFVSRSwgX2NvbnRleHQyNy50MCk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyNywgbnVsbCwgW1szLCAxMF1dKTsKICAgIH0pKSgpOwogIH0sCiAgYWRkTm90aWZpY2F0aW9uTG9jYWw6IGZ1bmN0aW9uIGFkZE5vdGlmaWNhdGlvbkxvY2FsKF9yZWYzMSwgbm90aSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzMS5jb21taXQ7CgogICAgdHJ5IHsKICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuQUREX05PVElGSUNBVElPTl9MT0NBTF9SRVFVRVNUKTsKICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuQUREX05PVElGSUNBVElPTl9MT0NBTF9TVUNDRVNTLCBub3RpKTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkFERF9OT1RJRklDQVRJT05fTE9DQUxfRkFJTFVSRSwgZXJyb3IpOwogICAgfQogIH0sCiAgc2VuZEZlZWRiYWNrOiBmdW5jdGlvbiBzZW5kRmVlZGJhY2soX3JlZjMyLCBmZWVkYmFjaykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI4KCkgewogICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgdXNlcklkLCByb2xlLCBlcnJvciwgX2Vycm9yOCwgcmVzLCBfZXJyb3I5OwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOCQoX2NvbnRleHQyOCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjgucHJldiA9IF9jb250ZXh0MjgubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMyLmNvbW1pdCwgc3RhdGUgPSBfcmVmMzIuc3RhdGU7CiAgICAgICAgICAgICAgX2NvbnRleHQyOC5wcmV2ID0gMTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DUkVBVEVfRkVFREJBQ0tfUkVRVUVTVCk7CiAgICAgICAgICAgICAgdXNlcklkID0gd2luZG93LiRjb29raWVzLmdldCgndXNlcklkJyk7CiAgICAgICAgICAgICAgcm9sZSA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3JvbGUnKTsKCiAgICAgICAgICAgICAgaWYgKCEoIXVzZXJJZCAmJiAhc3RhdGUudXNlci5kYXRhKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKCdMb2dnaW4gdG8gc2VuZCBmZWVkYmFjaycpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNSRUFURV9GRUVEQkFDS19GQUlMVVJFLCBlcnJvcik7CiAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGlmICghKHJvbGUgIT09ICdyZW50ZXJzJykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjgubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfZXJyb3I4ID0gbmV3IEVycm9yKCdPbmx5IHJlbnRlciBoYXZlIHBlcm1pc3Npb24gdG8gc2VuZCBmZWVkYmFjaycpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNSRUFURV9GRUVEQkFDS19GQUlMVVJFLCBfZXJyb3I4KTsKICAgICAgICAgICAgICBfY29udGV4dDI4Lm5leHQgPSAxOTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5heGlvcy5wb3N0KCcvYXBpL3YxL2ZlZWRiYWNrcycsIGZlZWRiYWNrKTsKCiAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyOC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA+PSAyMDAgJiYgcmVzLnN0YXR1cyA8PSAyOTkpIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNSRUFURV9GRUVEQkFDS19TVUNDRVNTLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX2Vycm9yOSA9IG5ldyBFcnJvcignQ2Fubm90IHJlY2VpdmUgcmVzcG9uc2UgZnJvbSBzZXJ2ZXInKTsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkNSRUFURV9GRUVEQkFDS19GQUlMVVJFLCBfZXJyb3I5KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIF9jb250ZXh0MjgubmV4dCA9IDI0OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBfY29udGV4dDI4LnByZXYgPSAyMTsKICAgICAgICAgICAgICBfY29udGV4dDI4LnQwID0gX2NvbnRleHQyOFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5DUkVBVEVfRkVFREJBQ0tfRkFJTFVSRSwgX2NvbnRleHQyOC50MCk7CgogICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyOCwgbnVsbCwgW1sxLCAyMV1dKTsKICAgIH0pKSgpOwogIH0sCiAgZGVsZXRlRmVlZGJhY2s6IGZ1bmN0aW9uIGRlbGV0ZUZlZWRiYWNrKF9yZWYzMywgZmVlZGJhY2tJZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI5KCkgewogICAgICB2YXIgY29tbWl0LCBzdGF0ZSwgdXNlcklkLCByb2xlLCBlcnJvciwgX2Vycm9yMTAsIHJlcywgX2Vycm9yMTE7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI5JChfY29udGV4dDI5KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyOS5wcmV2ID0gX2NvbnRleHQyOS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMzMuY29tbWl0LCBzdGF0ZSA9IF9yZWYzMy5zdGF0ZTsKICAgICAgICAgICAgICBfY29udGV4dDI5LnByZXYgPSAxOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkRFTEVURV9GRUVEQkFDS19SRVFVRVNUKTsKICAgICAgICAgICAgICB1c2VySWQgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCd1c2VySWQnKTsKICAgICAgICAgICAgICByb2xlID0gd2luZG93LiRjb29raWVzLmdldCgncm9sZScpOwoKICAgICAgICAgICAgICBpZiAoISghdXNlcklkICYmICFzdGF0ZS51c2VyLmRhdGEpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ0xvZ2dpbiB0byByZW1vdmUgZmVlZGJhY2snKTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5ERUxFVEVfRkVFREJBQ0tfRkFJTFVSRSwgZXJyb3IpOwogICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDE5OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBpZiAoIShyb2xlICE9PSAncmVudGVycycpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2Vycm9yMTAgPSBuZXcgRXJyb3IoJ09ubHkgb3duZXIgIGhhdmUgcGVybWlzc2lvbiB0byByZW1vdmUgZmVlZGJhY2snKTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5ERUxFVEVfRkVFREJBQ0tfRkFJTFVSRSwgX2Vycm9yMTApOwogICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDE5OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAxNzsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLmRlbGV0ZSgiL2FwaS92MS9mZWVkYmFja3MvIi5jb25jYXQoZmVlZGJhY2tJZCkpOwoKICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDI5LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID49IDIwMCAmJiByZXMuc3RhdHVzIDw9IDI5OSkgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuREVMRVRFX0ZFRURCQUNLX1NVQ0NFU1MpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfZXJyb3IxMSA9IG5ldyBFcnJvcignQ2Fubm90IHJlY2VpdmUgcmVzcG9uc2UgZnJvbSBzZXJ2ZXInKTsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkRFTEVURV9GRUVEQkFDS19GQUlMVVJFLCBfZXJyb3IxMSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBfY29udGV4dDI5Lm5leHQgPSAyNDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgX2NvbnRleHQyOS5wcmV2ID0gMjE7CiAgICAgICAgICAgICAgX2NvbnRleHQyOS50MCA9IF9jb250ZXh0MjlbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuQ1JFQVRFX0ZFRURCQUNLX0ZBSUxVUkUsIF9jb250ZXh0MjkudDApOwoKICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5hYnJ1cHQoInJldHVybiIsIGZlZWRiYWNrSWQpOwoKICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjksIG51bGwsIFtbMSwgMjFdXSk7CiAgICB9KSkoKTsKICB9LAogIHVwZGF0ZUZlZWRiYWNrOiBmdW5jdGlvbiB1cGRhdGVGZWVkYmFjayhfcmVmMzQsIGZlZWRiYWNrKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzAoKSB7CiAgICAgIHZhciBjb21taXQsIHN0YXRlLCB1c2VySWQsIHJvbGUsIGVycm9yLCBfZXJyb3IxMiwgcmVzLCBfZXJyb3IxMzsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzAkKF9jb250ZXh0MzApIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMwLnByZXYgPSBfY29udGV4dDMwLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzNC5jb21taXQsIHN0YXRlID0gX3JlZjM0LnN0YXRlOwogICAgICAgICAgICAgIF9jb250ZXh0MzAucHJldiA9IDE7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX0ZFRURCQUNLX1JFUVVFU1QpOwogICAgICAgICAgICAgIHVzZXJJZCA9IHdpbmRvdy4kY29va2llcy5nZXQoJ3VzZXJJZCcpOwogICAgICAgICAgICAgIHJvbGUgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCdyb2xlJyk7CgogICAgICAgICAgICAgIGlmICghKCF1c2VySWQgJiYgIXN0YXRlLnVzZXIuZGF0YSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignTG9nZ2luIHRvIHVwZGF0ZSBmZWVkYmFjaycpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9GRUVEQkFDS19GQUlMVVJFLCBlcnJvcik7CiAgICAgICAgICAgICAgX2NvbnRleHQzMC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGlmICghKHJvbGUgIT09ICdyZW50ZXJzJykpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfZXJyb3IxMiA9IG5ldyBFcnJvcignT25seSBvd25lciBoYXZlIHBlcm1pc3Npb24gdG8gZmVlZGJhY2snKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhmZWVkYmFjayk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX0ZFRURCQUNLX0ZBSUxVUkUsIF9lcnJvcjEyKTsKICAgICAgICAgICAgICBfY29udGV4dDMwLm5leHQgPSAyMDsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgX2NvbnRleHQzMC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5heGlvcy5wdXQoIi9hcGkvdjEvZmVlZGJhY2tzLyIuY29uY2F0KGZlZWRiYWNrLmZlZWRiYWNrSWQpLCB7CiAgICAgICAgICAgICAgICBmZWVkYmFjazogZmVlZGJhY2sKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzMC5zZW50OwoKICAgICAgICAgICAgICBpZiAoIXJlcykgewogICAgICAgICAgICAgICAgX2Vycm9yMTMgPSBuZXcgRXJyb3IoJ0Nhbm5vdCByZWNlaXZlIHJlc3BvbnNlIGZyb20gc2VydmVyJyk7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5VUERBVEVfRkVFREJBQ0tfRkFJTFVSRSwgX2Vycm9yMTMpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA+PSAyMDAgJiYgcmVzLnN0YXR1cyA8PSAyOTkpIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9GRUVEQkFDS19TVUNDRVNTLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDI1OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBfY29udGV4dDMwLnByZXYgPSAyMjsKICAgICAgICAgICAgICBfY29udGV4dDMwLnQwID0gX2NvbnRleHQzMFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5VUERBVEVfRkVFREJBQ0tfRkFJTFVSRSwgX2NvbnRleHQzMC50MCk7CgogICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMwLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzMCwgbnVsbCwgW1sxLCAyMl1dKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0QWxsUmVudGVyczogZnVuY3Rpb24gZ2V0QWxsUmVudGVycyhfcmVmMzUpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMSgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMxJChfY29udGV4dDMxKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMS5wcmV2ID0gX2NvbnRleHQzMS5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMzUuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0MzEucHJldiA9IDE7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0FMTFJFTlRFUlNfUkVRVUVTVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQzMS5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLmdldCgnL2FwaS92MS9yZW50ZXJzL3JlbnRlcnM/c29ydEJ5PWNyZWF0ZWRBdCZhc2M9ZmFsc2UnKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMxLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID49IDIwMCAmJiByZXMuc3RhdHVzIDw9IDI5OSkgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0FMTFJFTlRFUlNfU1VDQ0VTUywgcmVzLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDMxLm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDMxLnByZXYgPSA5OwogICAgICAgICAgICAgIF9jb250ZXh0MzEudDAgPSBfY29udGV4dDMxWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9BTExSRU5URVJTX0ZBSUxVUkUsIF9jb250ZXh0MzEudDApOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMzEsIG51bGwsIFtbMSwgOV1dKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0QWxsVmVuZG9yczogZnVuY3Rpb24gZ2V0QWxsVmVuZG9ycyhfcmVmMzYpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzMigpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMyJChfY29udGV4dDMyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMi5wcmV2ID0gX2NvbnRleHQzMi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMzYuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0MzIucHJldiA9IDE7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0FMTFZFTkRPUlNfUkVRVUVTVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQzMi5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLmdldCgnL2FwaS92MS92ZW5kb3JzL3ZlbmRvcnM/c29ydEJ5PWNyZWF0ZWRBdCZhc2M9ZmFsc2UnKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMyLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID49IDIwMCAmJiByZXMuc3RhdHVzIDw9IDI5OSkgewogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0FMTFZFTkRPUlNfU1VDQ0VTUywgcmVzLmRhdGEuZGF0YSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDMyLm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBfY29udGV4dDMyLnByZXYgPSA5OwogICAgICAgICAgICAgIF9jb250ZXh0MzIudDAgPSBfY29udGV4dDMyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9BTExWRU5ET1JTX0ZBSUxVUkUsIF9jb250ZXh0MzIudDApOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMzIsIG51bGwsIFtbMSwgOV1dKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0QWxsVHlwZXM6IGZ1bmN0aW9uIGdldEFsbFR5cGVzKF9yZWYzNykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMzKCkgewogICAgICB2YXIgY29tbWl0LCByZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzMkKF9jb250ZXh0MzMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMzLnByZXYgPSBfY29udGV4dDMzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzNy5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQzMy5wcmV2ID0gMTsKICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5HRVRfQUxMVFlQRVNfUkVRVUVTVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQzMy5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLmdldCgnL2FwaS92MS90eXBlcy9hbGw/YXNjPWZhbHNlJnBhZ2U9MSZzaXplPTEwMCZzb3J0Qnk9Y3JlYXRlZEF0Jyk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzMy5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA+PSAyMDAgJiYgcmVzLnN0YXR1cyA8PSAyOTkpIHsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLkdFVF9BTExUWVBFU19TVUNDRVNTLCByZXMuZGF0YS5kYXRhKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0MzMubmV4dCA9IDEyOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF9jb250ZXh0MzMucHJldiA9IDk7CiAgICAgICAgICAgICAgX2NvbnRleHQzMy50MCA9IF9jb250ZXh0MzNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuR0VUX0FMTFRZUEVTX0ZBSUxVUkUsIF9jb250ZXh0MzMudDApOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMy5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMzMsIG51bGwsIFtbMSwgOV1dKTsKICAgIH0pKSgpOwogIH0sCiAgdXBkYXRlSG9zdGVsVHlwZVYyOiBmdW5jdGlvbiB1cGRhdGVIb3N0ZWxUeXBlVjIoX3JlZjM4LCB0eXBlcykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM0KCkgewogICAgICB2YXIgY29tbWl0LCB0eXBlSWQsIHJlczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNCQoX2NvbnRleHQzNCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzQucHJldiA9IF9jb250ZXh0MzQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjM4LmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDM0LnByZXYgPSAxOwogICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlVQREFURV9IT1NURUxfVFlQRV9SRVFVRVNUKTsKICAgICAgICAgICAgICB0eXBlSWQgPSB0eXBlcy50eXBlSWQ7CgogICAgICAgICAgICAgIGlmICghdHlwZXMpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0MzQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MucHV0KCIvYXBpL3YxL3R5cGVzLyIuY29uY2F0KHR5cGVJZCwgIi9hY3RpdmUiKSwgdHlwZXMuZGF0YSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzNC5zZW50OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX0hPU1RFTF9UWVBFX1NVQ0NFU1MsIHJlcy5kYXRhLmRhdGEpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgX2NvbnRleHQzNC5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgX2NvbnRleHQzNC50MCA9IF9jb250ZXh0MzRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQzNC50MCk7CiAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuVVBEQVRFX0hPU1RFTF9UWVBFX0ZBSUxVUkUsIF9jb250ZXh0MzQudDApOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMzQsIG51bGwsIFtbMSwgMTJdXSk7CiAgICB9KSkoKTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBteVN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGdldHRlcnM6IG15R2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["D:/capstone/HostelFrontEnd-BV2/src/store/modules/user.js"],"names":["myState","user","data","isLoading","isUpdating","success","error","contracts","page","size","isCreating","newlyCreated","bookings","deals","notifications","new","feedback","feedbackUpdate","requests","renters","vendors","types","myGetters","findLastedDeal","state","renterId","vendorId","typeId","result","filter","deal","console","log","renter","userId","vendor","type","status","sort","deal1","deal2","creationTime","findPendingBooking","booking","findDealById","id","dealId","findBookingById","find","bookingId","Number","findContractById","contract","c","contractId","mutationTypes","CREATE_ROOM_REQUEST_REQUEST","CREATE_ROOM_REQUEST_SUCCESS","CREATE_ROOM_REQUEST_FAILURE","GET_USER_REQUEST","GET_USER_SUCCESS","GET_USER_FAILURE","UPDATE_USER_REQUEST","UPDATE_USER_SUCCESS","UPDATE_USER_FAILURE","CLEAR_USER_DATA","GET_CONTRACTS_REQUEST","GET_CONTRACTS_SUCCESS","GET_CONTRACTS_FAILURE","GET_BOOKINGS_REQUEST","GET_BOOKINGS_SUCCESS","GET_BOOKINGS_FAILURE","GET_BOOKING_REQUEST","GET_BOOKING_SUCCESS","GET_BOOKING_FAILURE","CREATE_BOOKING_REQUEST","CREATE_BOOKING_SUCCESS","CREATE_BOOKING_FAILURE","GET_DEALS_REQUEST","GET_DEALS_SUCCESS","GET_DEALS_FAILURE","CREATE_DEAL_REQUEST","CREATE_DEAL_SUCCESS","CREATE_DEAL_FAILURE","GET_DEAL_REQUEST","GET_DEAL_SUCCESS","GET_DEAL_FAILURE","CANCEL_DEAL_REQUEST","CANCEL_DEAL_SUCCESS","CANCEL_DEAL_FAILURE","CANCEL_BOOKING_REQUEST","CANCEL_BOOKING_SUCCESS","CANCEL_BOOKING_FAILURE","DONE_BOOKING_REQUEST","DONE_BOOKING_SUCCESS","DONE_BOOKING_FAILURE","CLEAR_NEWLY_CREATED_BOOKING","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAILURE","CREATE_CONTRACT_REQUEST","CREATE_CONTRACT_SUCCESS","CREATE_CONTRACT_FAILURE","UPDATE_CONTRACT_REQUEST","UPDATE_CONTRACT_SUCCESS","UPDATE_CONTRACT_FAILURE","ACTIVATE_CONTRACT_REQUEST","ACTIVATE_CONTRACT_SUCCESS","ACTIVATE_CONTRACT_FAILURE","GET_ONE_CONTRACT_REQUEST","GET_ONE_CONTRACT_SUCCESS","GET_ONE_CONTRACT_FAILURE","SEND_NOTIFICATION_REQUEST","SEND_NOTIFICATION_SUCCESS","SEND_NOTIFICATION_FAILURE","ADD_NOTIFICATION_LOCAL_REQUEST","ADD_NOTIFICATION_LOCAL_SUCCESS","ADD_NOTIFICATION_LOCAL_FAILURE","CREATE_FEEDBACK_REQUEST","CREATE_FEEDBACK_SUCCESS","CREATE_FEEDBACK_FAILURE","DELETE_FEEDBACK_REQUEST","DELETE_FEEDBACK_SUCCESS","DELETE_FEEDBACK_FAILURE","UPDATE_FEEDBACK_REQUEST","UPDATE_FEEDBACK_SUCCESS","UPDATE_FEEDBACK_FAILURE","GET_ROOM_REQUESTS_REQUEST","GET_ROOM_REQUESTS_SUCCESS","GET_ROOM_REQUESTS_FAILURE","GET_ALLRENTERS_REQUEST","GET_ALLRENTERS_SUCCESS","GET_ALLRENTERS_FAILURE","GET_ALLVENDORS_REQUEST","GET_ALLVENDORS_SUCCESS","GET_ALLVENDORS_FAILURE","GET_ALLTYPES_REQUEST","GET_ALLTYPES_SUCCESS","GET_ALLTYPES_FAILURE","UPDATE_HOSTEL_TYPE_REQUEST","UPDATE_HOSTEL_TYPE_SUCCESS","UPDATE_HOSTEL_TYPE_FAILURE","UPDATE_VENDOR_REQUEST","UPDATE_VENDOR_SUCCESS","UPDATE_VENDOR_FAILURE","UPDATE_RENTER_REQUEST","UPDATE_RENTER_SUCCESS","UPDATE_RENTER_FAILURE","mutations","request","unshift","oldContractIndex","findIndex","splice","push","res","newBooking","book","index","noti","item","group","newType","temp","actions","getRoomRequests","commit","window","$cookies","get","role","axios","Error","createRoomRequest","post","login","params","phone","password","getTokenIdFromFirebase","userData","jwtToken","idToken","refreshToken","clearUserData","getUser","updateUser","newUser","put","updateVendorV2","dataUpdate","updateRenterV2","updateUserFirebaseToken","firebaseToken","getBookings","getContracts","getOneBooking","currentIds","map","includes","insertOneBooking","editBooking","createBooking","getDeals","createDeal","getDeal","dealIds","newIds","newId","lenght","cancelDeal","offeredPrice","cancelBooking","meetTime","qrCode","updateBookingStatus","content","updateBookingStatusLocal","clearNewlyCreatedBooking","registerRenter","response","registerVendor","createContract","updateContract","JSON","stringify","activateContract","payload","updateContractLocal","getOneContract","sendNotification","title","body","action","icon","addNotificationLocal","sendFeedback","deleteFeedback","feedbackId","delete","updateFeedback","getAllRenters","getAllVendors","getAllTypes","updateHostelTypeV2","namespaced","getters"],"mappings":"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","sourcesContent":["const myState = () => ({\n  user: {\n    data: null,\n    isLoading: false,\n    isUpdating: false,\n    success: null,\n    error: null,\n  },\n  contracts: {\n    data: [],\n    page: [1],\n    size: 50,\n    isLoading: false,\n    isCreating: false,\n    isUpdating: false,\n    newlyCreated: null,\n    success: null,\n    error: null,\n  },\n  bookings: {\n    data: [],\n    isLoading: false,\n    isCreating: false,\n    isUpdating: false,\n    success: null,\n    error: null,\n    newlyCreated: null,\n  },\n  deals: {\n    data: [],\n    isLoading: false,\n    success: null,\n    error: null,\n    newlyCreated: null,\n  },\n  notifications: {\n    data: [],\n    isCreating: false,\n    success: null,\n    error: null,\n    new: null,\n  },\n  feedback: {\n    data: [],\n    isLoading: false,\n    success: null,\n    error: null,\n    feedbackUpdate: null,\n  },\n  requests: {\n    data: [],\n    isLoading: false,\n    isCreating: false,\n    error: null,\n    success: null,\n  },\n  renters: {\n    data: [],\n    isLoading: false,\n    error: null,\n    success: null,\n  },\n  vendors: {\n    data: [],\n    isLoading: false,\n    error: null,\n    success: null,\n  },\n  types: {\n    data: [],\n    isLoading: false,\n    isUpdating: false,\n    error: null,\n    success: null,\n  },\n});\n\nconst myGetters = {\n  // get lasted deal\n  findLastedDeal: (state) => (renterId, vendorId, typeId) => {\n    let result = state.deals.data.filter((deal) => {\n      console.log(state.deals.data);\n      if (\n        deal.renter.userId === renterId &&\n        deal.vendor.userId === vendorId &&\n        deal.type.typeId === typeId &&\n        deal.status === 'CREATED'\n      ) {\n        return true;\n      }\n      return false;\n    });\n    result = result.sort((deal1, deal2) => deal1.creationTime - deal2.creationTime);\n    console.log(`lasted deal: ${result[0]}`);\n    return result[0];\n  },\n  findPendingBooking: (state) => (renterId, vendorId, typeId) => {\n    const result = state.bookings.data.filter((booking) => {\n      if (\n        booking.renter.renterId === renterId &&\n        booking.vendor.vendorId === vendorId &&\n        booking.type.typeId === typeId &&\n        booking.status === 'INCOMING'\n      ) {\n        return true;\n      }\n      return false;\n    });\n    console.log(`pending booking ${result[0]}`);\n    return result[0];\n  },\n  findDealById: (state) => (id) => {\n    const result = state.deals.data.filter((deal) => deal.dealId === id);\n    return result[0];\n  },\n  findBookingById: (state) => (id) => {\n    const result = state.bookings.data.find((booking) => booking.bookingId === Number(id));\n    return result;\n  },\n  findContractById: (state) => (id) => {\n    console.log('find contract id', id);\n    const contract = state.contracts.data.find((c) => c.contractId === Number(id));\n    return contract;\n  },\n};\nconst mutationTypes = {\n  CREATE_ROOM_REQUEST_REQUEST: 'CREATE_ROOM_REQUEST_REQUEST',\n  CREATE_ROOM_REQUEST_SUCCESS: 'CREATE_ROOM_REQUEST_SUCCESS',\n  CREATE_ROOM_REQUEST_FAILURE: 'CREATE_ROOM_REQUEST_FAILURE',\n\n  GET_USER_REQUEST: 'GET_USER_REQUEST',\n  GET_USER_SUCCESS: 'GET_USER_SUCCESS',\n  GET_USER_FAILURE: 'GET_USER_FAILURE',\n\n  UPDATE_USER_REQUEST: 'UPDATE_USER_REQUEST',\n  UPDATE_USER_SUCCESS: 'UPDATE_USER_SUCCESS',\n  UPDATE_USER_FAILURE: 'UPDATE_USER_FAILURE',\n\n  CLEAR_USER_DATA: 'CLEAR_USER_DATA',\n\n  GET_CONTRACTS_REQUEST: 'GET_CONTRACTS_REQUEST',\n  GET_CONTRACTS_SUCCESS: 'GET_CONTRACTS_SUCCESS',\n  GET_CONTRACTS_FAILURE: 'GET_CONTRACTS_FAILURE',\n\n  GET_BOOKINGS_REQUEST: 'GET_BOOKINGS_REQUEST',\n  GET_BOOKINGS_SUCCESS: 'GET_BOOKINGS_SUCCESS',\n  GET_BOOKINGS_FAILURE: 'GET_BOOKINGS_FAILURE',\n\n  GET_BOOKING_REQUEST: 'GET_BOOKING_REQUEST',\n  GET_BOOKING_SUCCESS: 'GET_BOOKING_SUCCESS',\n  GET_BOOKING_FAILURE: 'GET_BOOKING_FAILURE',\n\n  CREATE_BOOKING_REQUEST: 'CREATE_BOOKING_REQUEST',\n  CREATE_BOOKING_SUCCESS: 'CREATE_BOOKING_SUCCESS',\n  CREATE_BOOKING_FAILURE: 'CREATE_BOOKING_FAILURE',\n\n  GET_DEALS_REQUEST: 'GET_DEALS_REQUEST',\n  GET_DEALS_SUCCESS: 'GET_DEALS_SUCCESS',\n  GET_DEALS_FAILURE: 'GET_DEALS_FAILURE',\n\n  CREATE_DEAL_REQUEST: 'CREATE_DEAL_REQUEST',\n  CREATE_DEAL_SUCCESS: 'CREATE_DEAL_SUCCESS',\n  CREATE_DEAL_FAILURE: 'CREATE_DEAL_FAILURE',\n\n  GET_DEAL_REQUEST: 'GET_DEAL_REQUEST',\n  GET_DEAL_SUCCESS: 'GET_DEAL_SUCCESS',\n  GET_DEAL_FAILURE: 'GET_DEAL_FAILURE',\n\n  CANCEL_DEAL_REQUEST: 'CANCEL_DEAL_REQUEST',\n  CANCEL_DEAL_SUCCESS: 'CANCEL_DEAL_SUCCESS',\n  CANCEL_DEAL_FAILURE: 'CANCEL_DEAL_FAILURE',\n\n  CANCEL_BOOKING_REQUEST: 'CANCEL_BOOKING_REQUEST',\n  CANCEL_BOOKING_SUCCESS: 'CANCEL_BOOKING_SUCCESS',\n  CANCEL_BOOKING_FAILURE: 'CANCEL_BOOKING_FAILURE',\n\n  DONE_BOOKING_REQUEST: 'DONE_BOOKING_REQUEST',\n  DONE_BOOKING_SUCCESS: 'DONE_BOOKING_SUCCESS',\n  DONE_BOOKING_FAILURE: 'DONE_BOOKING_FAILURE',\n\n  CLEAR_NEWLY_CREATED_BOOKING: 'CLEAR_NEWLY_CREATED_BOOKING',\n\n  REGISTER_USER_REQUEST: 'REGISTER_USER_REQUEST',\n  REGISTER_USER_SUCCESS: 'REGISTER_USER_SUCCESS',\n  REGISTER_USER_FAILURE: 'REGISTER_USER_FAILURE',\n\n  CREATE_CONTRACT_REQUEST: 'CREATE_CONTRACT_REQUEST',\n  CREATE_CONTRACT_SUCCESS: 'CREATE_CONTRACT_SUCCESS',\n  CREATE_CONTRACT_FAILURE: 'CREATE_CONTRACT_FAILURE',\n\n  UPDATE_CONTRACT_REQUEST: 'UPDATE_CONTRACT_REQUEST',\n  UPDATE_CONTRACT_SUCCESS: 'UPDATE_CONTRACT_SUCCESS',\n  UPDATE_CONTRACT_FAILURE: 'UPDATE_CONTRACT_FAILURE',\n\n  ACTIVATE_CONTRACT_REQUEST: 'ACTIVATE_CONTRACT_REQUEST',\n  ACTIVATE_CONTRACT_SUCCESS: 'ACTIVATE_CONTRACT_SUCCESS',\n  ACTIVATE_CONTRACT_FAILURE: 'ACTIVATE_CONTRACT_FAILURE',\n\n  GET_ONE_CONTRACT_REQUEST: 'GET_ONE_CONTRACT_REQUEST',\n  GET_ONE_CONTRACT_SUCCESS: 'GET_ONE_CONTRACT_SUCCESS',\n  GET_ONE_CONTRACT_FAILURE: 'GET_ONE_CONTRACT_FAILURE',\n\n  SEND_NOTIFICATION_REQUEST: 'SEND_NOTIFICATION_REQUEST',\n  SEND_NOTIFICATION_SUCCESS: 'SEND_NOTIFICATION_SUCCESS',\n  SEND_NOTIFICATION_FAILURE: 'SEND_NOTIFICATION_FAILURE',\n\n  ADD_NOTIFICATION_LOCAL_REQUEST: 'ADD_NOTIFICATION_LOCAL_REQUEST',\n  ADD_NOTIFICATION_LOCAL_SUCCESS: 'ADD_NOTIFICATION_LOCAL_SUCCESS',\n  ADD_NOTIFICATION_LOCAL_FAILURE: 'ADD_NOTIFICATION_LOCAL_FAILURE',\n\n  CREATE_FEEDBACK_REQUEST: 'CREATE_FEEDBACK_REQUEST',\n  CREATE_FEEDBACK_SUCCESS: 'CREATE_FEEDBACK_SUCCESS',\n  CREATE_FEEDBACK_FAILURE: 'CREATE_FEEDBACK_FAILURE',\n\n  DELETE_FEEDBACK_REQUEST: 'DELETE_FEEDBACK_REQUEST',\n  DELETE_FEEDBACK_SUCCESS: 'DELETE_FEEDBACK_SUCCESS',\n  DELETE_FEEDBACK_FAILURE: 'DELETE_FEEDBACK_FAILURE',\n\n  UPDATE_FEEDBACK_REQUEST: 'UPDATE_FEEDBACK_REQUEST',\n  UPDATE_FEEDBACK_SUCCESS: 'UPDATE_FEEDBACK_SUCCESS',\n  UPDATE_FEEDBACK_FAILURE: 'UPDATE_FEEDBACK_FAILURE',\n\n  GET_ROOM_REQUESTS_REQUEST: 'GET_ROOM_REQUESTS_REQUEST',\n  GET_ROOM_REQUESTS_SUCCESS: 'GET_ROOM_REQUESTS_SUCCESS',\n  GET_ROOM_REQUESTS_FAILURE: 'GET_ROOM_REQUESTS_FAILURE',\n\n  GET_ALLRENTERS_REQUEST: 'GET_ALLRENTERS_REQUEST',\n  GET_ALLRENTERS_SUCCESS: 'GET_ALLRENTERS_SUCCESS',\n  GET_ALLRENTERS_FAILURE: 'GET_ALLRENTERS_FAILURE',\n\n  GET_ALLVENDORS_REQUEST: 'GET_ALLVENDORS_REQUEST',\n  GET_ALLVENDORS_SUCCESS: 'GET_ALLVENDORS_SUCCESS',\n  GET_ALLVENDORS_FAILURE: 'GET_ALLVENDORS_FAILURE',\n\n  GET_ALLTYPES_REQUEST: 'GET_ALLTYPES_REQUEST',\n  GET_ALLTYPES_SUCCESS: 'GET_ALLTYPES_SUCCESS',\n  GET_ALLTYPES_FAILURE: 'GET_ALLTYPES_FAILURE',\n\n  UPDATE_HOSTEL_TYPE_REQUEST: 'UPDATE_HOSTEL_TYPE_REQUEST',\n  UPDATE_HOSTEL_TYPE_SUCCESS: 'UPDATE_HOSTEL_TYPE_SUCCESS',\n  UPDATE_HOSTEL_TYPE_FAILURE: 'UPDATE_HOSTEL_TYPE_FAILURE',\n\n  UPDATE_VENDOR_REQUEST: 'UPDATE_VENDOR_REQUEST',\n  UPDATE_VENDOR_SUCCESS: 'UPDATE_VENDOR_SUCCESS',\n  UPDATE_VENDOR_FAILURE: 'UPDATE_VENDOR_FAILURE',\n\n  UPDATE_RENTER_REQUEST: 'UPDATE_RENTER_REQUEST',\n  UPDATE_RENTER_SUCCESS: 'UPDATE_RENTER_SUCCESS',\n  UPDATE_RENTER_FAILURE: 'UPDATE_RENTER_FAILURE',\n};\nconst mutations = {\n  CREATE_ROOM_REQUEST_REQUEST(state) {\n    state.requests.isCreating = true;\n  },\n  CREATE_ROOM_REQUEST_SUCCESS(state, request) {\n    state.requests.isCreating = false;\n    state.requests.data.unshift(request);\n    state.requests.success = true;\n  },\n  CREATE_ROOM_REQUEST_FAILURE(state, error) {\n    state.requests.isCreating = false;\n    state.requests.error = error;\n    state.requests.success = true;\n  },\n  CLEAR_USER_DATA(state) {\n    state.user.data = null;\n    state.user.isLoading = false;\n    state.user.success = false;\n    state.notifications.data = [];\n  },\n  GET_USER_REQUEST(state) {\n    state.user.isLoading = true;\n    state.user.success = null;\n    state.user.error = null;\n  },\n  GET_USER_SUCCESS(state, user) {\n    state.user.data = user;\n    console.log(user);\n    state.user.isLoading = false;\n    state.user.success = true;\n  },\n  GET_USER_FAILURE(state, error) {\n    state.user.isLoading = false;\n    state.user.success = false;\n    state.user.error = error;\n  },\n  GET_CONTRACTS_REQUEST(state) {\n    state.contracts.isLoading = true;\n    state.contracts.error = null;\n    state.contracts.success = null;\n  },\n  GET_CONTRACTS_SUCCESS(state, contracts) {\n    state.contracts.data = contracts;\n    state.contracts.isLoading = false;\n    state.contracts.success = true;\n  },\n  GET_CONTRACTS_FAILURE(state, error) {\n    state.contracts.isLoading = false;\n    state.contracts.success = false;\n    state.contracts.error = error;\n  },\n  GET_ONE_CONTRACT_REQUEST(state) {\n    state.contracts.isLoading = true;\n    state.contracts.error = null;\n    state.contracts.success = null;\n  },\n  GET_ONE_CONTRACT_SUCCESS(state, contract) {\n    const oldContractIndex = state.contracts.data.findIndex(\n      (c) => Number(c.contractId) === Number(contract.contractId),\n    );\n    if (oldContractIndex > -1) {\n      state.contracts.data.splice(oldContractIndex, 1, contract);\n    } else {\n      state.contracts.data.unshift(contract);\n    }\n    state.contracts.isLoading = false;\n    state.contracts.success = true;\n  },\n  GET_ONE_CONTRACT_FAILURE(state, error) {\n    state.contracts.isLoading = false;\n    state.contracts.success = false;\n    state.contracts.error = error;\n  },\n  GET_BOOKINGS_REQUEST(state) {\n    state.bookings.isLoading = true;\n    state.bookings.success = null;\n    state.bookings.error = null;\n  },\n  GET_BOOKINGS_SUCCESS(state, booking) {\n    state.bookings.data = booking;\n    state.bookings.isLoading = false;\n    state.bookings.success = true;\n  },\n  GET_BOOKINGS_FAILURE(state, error) {\n    state.bookings.isLoading = false;\n    state.bookings.success = false;\n    state.bookings.error = error;\n  },\n  GET_BOOKING_REQUEST(state) {\n    state.bookings.isLoading = true;\n    state.bookings.success = null;\n    state.bookings.error = null;\n  },\n  GET_BOOKING_SUCCESS(state, booking) {\n    state.bookings.data.unshift(booking);\n    state.bookings.isLoading = false;\n    state.bookings.success = true;\n  },\n  GET_BOOKING_FAILURE(state, error) {\n    state.bookings.isLoading = false;\n    state.bookings.success = false;\n    state.bookings.error = error;\n  },\n  CREATE_BOOKING_REQUEST(state) {\n    state.bookings.isLoading = true;\n    state.bookings.success = null;\n    state.bookings.error = null;\n  },\n  CREATE_BOOKING_SUCCESS(state, booking) {\n    state.bookings.data.push(booking);\n    state.bookings.newlyCreated = booking;\n    state.bookings.isLoading = false;\n    state.bookings.success = true;\n  },\n  CREATE_BOOKING_FAILURE(state, error) {\n    state.bookings.isLoading = false;\n    state.bookings.success = false;\n    state.bookings.error = error;\n  },\n  REGISTER_USER_REQUEST(state) {\n    state.user.isLoading = true;\n  },\n  REGISTER_USER_SUCCESS(state, renter) {\n    state.user.data = renter;\n    state.user.isLoading = false;\n    state.user.success = true;\n  },\n  REGISTER_USER_FAILURE(state, error) {\n    state.user.isLoading = false;\n    state.user.success = false;\n    state.user.error = error;\n  },\n  GET_DEALS_REQUEST(state) {\n    state.deals.isLoading = false;\n    state.deals.success = null;\n    state.deals.error = null;\n  },\n  GET_DEALS_SUCCESS(state, deals) {\n    state.deals.data = deals;\n    state.deals.isLoading = false;\n    state.deals.success = true;\n  },\n  GET_DEALS_FAILURE(state, error) {\n    state.deals.isLoading = false;\n    state.deals.success = false;\n    state.deals.error = error;\n  },\n  CREATE_DEAL_REQUEST(state) {\n    state.deals.isLoading = false;\n  },\n  CREATE_DEAL_SUCCESS(state, deal) {\n    state.deals.data.push(deal);\n    state.deals.newlyCreated = deal;\n    state.deals.success = true;\n    state.deals.isLoading = false;\n  },\n  CREATE_DEAL_FAILURE(state, error) {\n    state.deals.success = false;\n    state.deals.error = error;\n  },\n  GET_DEAL_REQUEST(state) {\n    state.deals.isLoading = false;\n  },\n  GET_DEAL_SUCCESS(state, deal) {\n    state.deals.data.push(deal);\n    state.deals.newlyCreated = deal;\n    state.deals.success = true;\n    state.deals.isLoading = false;\n  },\n  GET_DEAL_FAILURE(state, error) {\n    state.deals.success = false;\n    state.deals.error = error;\n  },\n  CANCEL_DEAL_REQUEST(state) {\n    state.deals.isLoading = true;\n    state.bookings.success = null;\n    state.bookings.error = null;\n  },\n  CANCEL_DEAL_SUCCESS(state, dealId) {\n    state.deals.isLoading = false;\n    state.deals.success = true;\n    const res = state.deals.data.filter((deal) => deal.dealId === dealId);\n    res[0].status = 'CANCEL';\n  },\n  CANCEL_DEAL_FAILURE(state, error) {\n    state.deals.isLoading = false;\n    state.deals.error = error;\n  },\n  CANCEL_BOOKING_REQUEST(state) {\n    state.bookings.isLoading = true;\n  },\n  CANCEL_BOOKING_SUCCESS(state, newBooking) {\n    const { bookingId } = newBooking;\n    state.bookings.isLoading = false;\n    state.bookings.success = true;\n    const res = state.bookings.data.filter((book) => book.bookingId === bookingId);\n    res[0].status = 'CANCELLED';\n  },\n  CANCEL_BOOKING_FAILURE(state, error) {\n    state.bookings.isLoading = false;\n    state.bookings.error = error;\n  },\n  DONE_BOOKING_REQUEST(state) {\n    state.bookings.isUpdating = true;\n    state.bookings.success = null;\n    state.bookings.error = null;\n  },\n  DONE_BOOKING_SUCCESS(state, bookingId) {\n    state.bookings.isUpdating = false;\n    state.bookings.success = true;\n    const res = state.bookings.data.find((book) => book.bookingId === bookingId);\n    res.status = 'DONE';\n  },\n  DONE_BOOKING_FAILURE(state, error) {\n    state.bookings.isUpdating = false;\n    state.bookings.error = error;\n  },\n  CLEAR_NEWLY_CREATED_BOOKING(state) {\n    state.bookings.newlyCreated = null;\n  },\n  CREATE_CONTRACT_REQUEST(state) {\n    state.contracts.isCreating = true;\n    state.contracts.error = null;\n    state.contracts.success = null;\n    state.contracts.newlyCreated = null;\n  },\n  CREATE_CONTRACT_SUCCESS(state, contract) {\n    state.contracts.isCreating = false;\n    state.contracts.data.push(contract);\n    state.contracts.newlyCreated = contract;\n    state.contracts.success = true;\n  },\n  CREATE_CONTRACT_FAILURE(state, error) {\n    state.contracts.isCreating = false;\n    state.contracts.error = error;\n    state.contracts.success = false;\n  },\n  UPDATE_CONTRACT_REQUEST(state) {\n    state.contracts.isUpdating = true;\n    state.contracts.error = null;\n    state.contracts.success = null;\n  },\n  UPDATE_CONTRACT_SUCCESS(state, contract) {\n    const { contractId } = contract;\n    state.contracts.isUpdating = false;\n    const index = state.contracts.data.findIndex((c) => c.contractId === Number(contractId));\n    state.contracts.data[index] = contract;\n    state.contracts.success = true;\n  },\n  UPDATE_CONTRACT_FAILURE(state, error) {\n    state.contracts.isUpdating = false;\n    state.contracts.error = error;\n    state.contracts.success = false;\n  },\n  ACTIVATE_CONTRACT_REQUEST(state) {\n    state.contracts.isUpdating = true;\n    state.contracts.error = null;\n    state.contracts.success = null;\n  },\n  ACTIVATE_CONTRACT_SUCCESS(state, contract) {\n    const { contractId } = contract;\n    state.contracts.isUpdating = false;\n    console.log(contractId);\n    const index = state.contracts.data.findIndex((c) => c.contractId === Number(contractId));\n    state.contracts.data[index] = contract;\n    state.contracts.success = true;\n  },\n  ACTIVATE_CONTRACT_FAILURE(state, error) {\n    state.contracts.isUpdating = false;\n    state.contracts.error = error;\n    state.contracts.success = false;\n  },\n  SEND_NOTIFICATION_REQUEST(state) {\n    state.notifications.isCreating = true;\n    state.notifications.error = null;\n    state.notifications.success = null;\n  },\n  SEND_NOTIFICATION_SUCCESS(state) {\n    state.notifications.success = true;\n  },\n  SEND_NOTIFICATION_FAILURE(state, error) {\n    state.notifications.error = error;\n    state.notifications.success = false;\n  },\n\n  ADD_NOTIFICATION_LOCAL_REQUEST(state, noti) {\n    state.notifications.new = noti;\n  },\n  ADD_NOTIFICATION_LOCAL_SUCCESS(state, noti) {\n    state.notifications.data.unshift(noti);\n  },\n  ADD_NOTIFICATION_LOCAL_FAILURE(state, error) {\n    state.notifications.error = error;\n  },\n\n  CREATE_FEEDBACK_REQUEST(state) {\n    state.feedback.isLoading = true;\n  },\n  CREATE_FEEDBACK_SUCCESS(state, feedback) {\n    // state.feedback.data.push(feedback);\n    state.feedback.newlyCreated = feedback;\n    state.feedback.success = true;\n    state.feedback.isLoading = false;\n  },\n  CREATE_FEEDBACK_FAILURE(state, error) {\n    state.feedback.isLoading = true;\n    state.feedback.success = false;\n    state.feedback.error = error;\n  },\n\n  DELETE_FEEDBACK_REQUEST(state) {\n    state.feedback.isLoading = true;\n  },\n  DELETE_FEEDBACK_SUCCESS(state) {\n    state.feedback.success = true;\n    state.feedback.isLoading = false;\n    state.feedback.error = null;\n  },\n  DELETE_FEEDBACK_FAILURE(state, error) {\n    state.feedback.isLoading = true;\n    state.feedback.success = false;\n    state.feedback.error = error;\n  },\n\n  UPDATE_FEEDBACK_REQUEST(state) {\n    state.feedback.isLoading = true;\n    state.feedback.error = null;\n    state.feedback.success = null;\n  },\n  UPDATE_FEEDBACK_SUCCESS(state, feedback) {\n    state.feedback.feedbackUpdate = feedback;\n    state.feedback.success = true;\n    state.feedback.isLoading = false;\n  },\n  UPDATE_FEEDBACK_FAILURE(state, error) {\n    state.feedback.error = error;\n    state.feedback.success = false;\n    state.feedback.isLoading = false;\n  },\n\n  GET_ROOM_REQUESTS_REQUEST(state) {\n    state.requests.isLoading = true;\n    state.requests.error = null;\n    state.requests.success = null;\n  },\n  GET_ROOM_REQUESTS_SUCCESS(state, requests) {\n    state.requests.isLoading = false;\n    state.requests.data = requests;\n    state.requests.success = true;\n  },\n  GET_ROOM_REQUESTS_FAILURE(state, error) {\n    state.requests.isLoading = false;\n    state.requests.error = error;\n    state.requests.success = false;\n  },\n  GET_ALLRENTERS_REQUEST(state) {\n    state.renters.isLoading = true;\n    state.renters.success = null;\n    state.renters.error = null;\n  },\n  GET_ALLRENTERS_SUCCESS(state, renters) {\n    state.renters.isLoading = false;\n    state.renters.success = true;\n    state.renters.data = renters;\n  },\n  GET_ALLRENTERS_FAILURE(state, error) {\n    state.renters.isLoading = false;\n    state.renters.success = false;\n    state.renters.error = error;\n  },\n  GET_ALLVENDORS_REQUEST(state) {\n    state.vendors.isLoading = true;\n    state.vendors.success = null;\n    state.vendors.error = null;\n  },\n  GET_ALLVENDORS_SUCCESS(state, vendors) {\n    state.vendors.isLoading = false;\n    state.vendors.success = true;\n    state.vendors.data = vendors;\n  },\n  GET_ALLVENDORS_FAILURE(state, error) {\n    state.vendors.isLoading = false;\n    state.vendors.success = false;\n    state.vendors.error = error;\n  },\n  GET_ALLTYPES_REQUEST(state) {\n    state.types.isLoading = true;\n    state.types.success = null;\n    state.types.error = null;\n  },\n  GET_ALLTYPES_SUCCESS(state, types) {\n    state.types.isLoading = false;\n    state.types.success = true;\n    state.types.data = types;\n  },\n  GET_ALLTYPES_FAILURE(state, error) {\n    state.types.isLoading = false;\n    state.types.success = false;\n    state.types.error = error;\n  },\n  UPDATE_HOSTEL_TYPE_REQUEST(state) {\n    state.types.isLoading = true;\n    state.types.isUpdating = true;\n    state.types.error = null;\n    state.types.success = null;\n  },\n  UPDATE_HOSTEL_TYPE_SUCCESS(state, type) {\n    const index = state.types.data.types.findIndex((item) => item.typeId === type.typeId);\n    const { group } = state.types.data.types[index];\n    console.log(index);\n    const newType = { ...type };\n    newType.group = group;\n    state.types.data.types.splice(index, 1);\n    state.types.data.types.push(newType);\n    state.types.success = true;\n    state.types.isLoading = false;\n    state.types.isUpdating = false;\n  },\n  UPDATE_HOSTEL_TYPE_FAILURE(state, error) {\n    state.types.error = error;\n    state.types.success = false;\n    state.types.isLoading = false;\n    state.types.isUpdating = false;\n  },\n  UPDATE_USER_REQUEST(state) {\n    state.user.isLoading = true;\n    state.user.isUpdating = true;\n    state.user.error = null;\n    state.user.success = null;\n  },\n  UPDATE_USER_SUCCESS(state, user) {\n    state.user.data = user;\n    state.user.success = true;\n    state.user.isLoading = false;\n    state.user.isUpdating = false;\n  },\n  UPDATE_USER_FAILURE(state, error) {\n    state.user.error = error;\n    state.user.success = false;\n    state.user.isLoading = false;\n    state.user.isUpdating = false;\n  },\n  UPDATE_VENDOR_REQUEST(state) {\n    state.vendors.isLoading = true;\n    state.vendors.isUpdating = true;\n    state.vendors.error = null;\n    state.vendors.success = null;\n    //\n    state.user.isLoading = true;\n    state.user.isUpdating = true;\n  },\n  UPDATE_VENDOR_SUCCESS(state, user) {\n    const index = state.vendors.data.findIndex((item) => item.userId === user.userId);\n    state.vendors.data.splice(index, 1);\n    state.vendors.data.push(user);\n    state.vendors.success = true;\n    state.vendors.isLoading = false;\n    state.vendors.isUpdating = false;\n    //\n    if (user.userId === state.user.data.userId) {\n      const temp = user[0];\n      state.user.data = temp;\n      state.user.success = true;\n      state.user.isLoading = false;\n      state.user.isUpdating = false;\n    }\n  },\n  UPDATE_VENDOR_FAILURE(state, error) {\n    state.vendors.error = error;\n    state.vendors.success = false;\n    state.vendors.isLoading = false;\n    state.vendors.isUpdating = false;\n    //\n    state.user.isLoading = true;\n    state.user.isUpdating = true;\n  },\n\n  UPDATE_RENTER_REQUEST(state) {\n    state.renters.isLoading = true;\n    state.renters.isUpdating = true;\n    state.renters.error = null;\n    state.renters.success = null;\n  },\n  UPDATE_RENTER_SUCCESS(state, user) {\n    const index = state.renters.data.findIndex((item) => item.userId === user.userId);\n    state.renters.data.splice(index, 1);\n    state.renters.data.push(user);\n    state.renters.success = true;\n    state.renters.isLoading = false;\n    state.renters.isUpdating = false;\n\n    //\n    if (user.userId === state.user.data.userId) {\n      const temp = user[0];\n      state.user.data = temp;\n      state.user.success = true;\n      state.user.isLoading = false;\n      state.user.isUpdating = false;\n    }\n  },\n  UPDATE_RENTER_FAILURE(state, error) {\n    state.renters.error = error;\n    state.renters.success = false;\n    state.renters.isLoading = false;\n    state.renters.isUpdating = false;\n  },\n};\n\nconst actions = {\n  async getRoomRequests({ commit }) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role) {\n      try {\n        commit(mutationTypes.GET_ROOM_REQUESTS_REQUEST);\n        const res = await window.axios.get(`/api/v1/renters/${userId}/requests`);\n        if (res.status === 200) {\n          commit(mutationTypes.GET_ROOM_REQUESTS_SUCCESS, res.data.data);\n        } else {\n          commit(\n            mutationTypes.GET_ROOM_REQUESTS_FAILURE,\n            new Error('response with status code != 200'),\n          );\n        }\n      } catch (error) {\n        commit(mutationTypes.GET_ROOM_REQUESTS_FAILURE, error);\n      }\n    } else {\n      console.log('User are not logged in, cannot get user data');\n    }\n  },\n  async createRoomRequest({ commit }, request) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role) {\n      try {\n        commit(mutationTypes.CREATE_ROOM_REQUEST_REQUEST);\n        const res = await window.axios.post(`/api/v1/renters/${userId}/requests`, request);\n        if (res.status >= 200 && res.status <= 299) {\n          commit(mutationTypes.CREATE_ROOM_REQUEST_SUCCESS, res.data.data);\n        } else {\n          commit(\n            mutationTypes.CREATE_ROOM_REQUEST_FAILURE,\n            new Error('response with status code != 200'),\n          );\n        }\n      } catch (error) {\n        commit(mutationTypes.CREATE_ROOM_REQUEST_FAILURE, error);\n      }\n    } else {\n      console.log('User are not logged in, cannot get user data');\n    }\n  },\n  async login({ commit }, params) {\n    // params {phone, password}\n    commit(mutationTypes.GET_USER_REQUEST);\n    let res = null;\n    try {\n      const { phone, password, getTokenIdFromFirebase } = params;\n      res = await window.axios.post('/api/v1/login', { phone, password });\n      if (res.status === 200) {\n        const userData = res.data.data;\n        const { jwtToken } = userData;\n        const { idToken, refreshToken } = await getTokenIdFromFirebase(jwtToken);\n        userData.idToken = idToken;\n        userData.refreshToken = refreshToken;\n        commit(mutationTypes.GET_USER_SUCCESS, userData);\n      } else {\n        commit(mutationTypes.GET_USER_FAILURE);\n      }\n    } catch (error) {\n      commit(mutationTypes.GET_USER_FAILURE, error);\n    }\n  },\n  async clearUserData({ commit }) {\n    commit(mutationTypes.CLEAR_USER_DATA);\n  },\n  async getUser({ commit }) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role) {\n      try {\n        commit(mutationTypes.GET_USER_REQUEST);\n        const res = await window.axios.get(`/api/v1/${role}/${userId}`);\n        if (res.status === 200) {\n          commit(mutationTypes.GET_USER_SUCCESS, res.data.data);\n        } else {\n          commit(mutationTypes.GET_USER_FAILURE);\n        }\n      } catch (error) {\n        commit(mutationTypes.GET_USER_FAILURE, error);\n      }\n    } else {\n      console.log('User are not logged in, cannot get user data');\n    }\n  },\n  async updateUser({ commit, state }, newUser) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        commit(mutationTypes.UPDATE_USER_REQUEST);\n        const res = await window.axios.put(`/api/v1/${role}/${userId}`, newUser);\n        if (res.status === 200) {\n          commit(mutationTypes.UPDATE_USER_SUCCESS, res.data.data);\n        } else {\n          commit(mutationTypes.UPDATE_USER_FAILURE);\n        }\n      } catch (error) {\n        commit(mutationTypes.UPDATE_USER_FAILURE, error);\n      }\n    } else {\n      throw new Error('userId, role or user.data null');\n    }\n  },\n\n  async updateVendorV2({ commit }, newUser) {\n    const { userId } = newUser;\n    const dataUpdate = newUser.data;\n    try {\n      commit(mutationTypes.UPDATE_VENDOR_REQUEST);\n      const res = await window.axios.put(`/api/v1/vendors/${userId}`, dataUpdate);\n      if (res.status === 200) {\n        commit(mutationTypes.UPDATE_VENDOR_SUCCESS, res.data.data);\n      } else {\n        commit(mutationTypes.UPDATE_VENDOR_FAILURE);\n      }\n    } catch (error) {\n      commit(mutationTypes.UPDATE_USER_FAILURE, error);\n    }\n  },\n\n  async updateRenterV2({ commit }, newUser) {\n    const { userId } = newUser;\n    const dataUpdate = newUser.data;\n    try {\n      commit(mutationTypes.UPDATE_RENTER_REQUEST);\n      const res = await window.axios.put(`/api/v1/renters/${userId}`, dataUpdate);\n      if (res.status === 200) {\n        commit(mutationTypes.UPDATE_RENTER_SUCCESS, res.data.data);\n      } else {\n        commit(mutationTypes.UPDATE_RENTER_FAILURE);\n      }\n    } catch (error) {\n      commit(mutationTypes.UPDATE_RENTER_FAILURE, error);\n    }\n  },\n\n  async updateUserFirebaseToken({ commit, state }, firebaseToken) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        commit(mutationTypes.UPDATE_USER_REQUEST);\n        const res = await window.axios.put(`/api/v1/${role}/${userId}/token`, { firebaseToken });\n        if (res.status === 200) {\n          commit(mutationTypes.UPDATE_USER_SUCCESS, res.data.data);\n        } else {\n          commit(mutationTypes.UPDATE_USER_FAILURE);\n        }\n      } catch (error) {\n        commit(mutationTypes.UPDATE_USER_FAILURE, error);\n      }\n    } else {\n      throw new Error('userId, role or user.data null');\n    }\n  },\n  async getBookings({ commit, state }) {\n    console.log(window.$cookies);\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        commit(mutationTypes.GET_BOOKINGS_REQUEST);\n        const res = await window.axios.get(`/api/v1/${role}/${userId}/bookings`);\n        if (res.status === 200) {\n          commit(mutationTypes.GET_BOOKINGS_SUCCESS, res.data.data);\n        } else {\n          commit(mutationTypes.GET_BOOKINGS_FAILURE);\n        }\n      } catch (error) {\n        commit(mutationTypes.GET_BOOKINGS_FAILURE, error);\n      }\n    } else {\n      throw new Error('You have to login before get bookings');\n    }\n  },\n  async getContracts({ commit, state }) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        commit(mutationTypes.GET_CONTRACTS_REQUEST);\n        const res = await window.axios.get(`/api/v1/${role}/${userId}/contracts?sortBy=updatedAt&asc=false`);\n        if (res.status === 200) {\n          commit(mutationTypes.GET_CONTRACTS_SUCCESS, res.data.data);\n        } else {\n          commit(mutationTypes.GET_CONTRACTS_FAILURE);\n        }\n      } catch (error) {\n        commit(mutationTypes.GET_CONTRACTS_FAILURE, error);\n      }\n    } else {\n      throw new Error('You have to login before get contracts');\n    }\n  },\n  async getOneBooking({ commit, state }, bookingId) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        const currentIds = state.bookings.data.map((booking) => booking.bookingId);\n        if (!currentIds.includes(bookingId)) {\n          commit(mutationTypes.GET_BOOKING_REQUEST);\n          const res = await window.axios.get(`/api/v1/bookings/${bookingId}`);\n          if (res.status === 200) {\n            res.data.data.new = true;\n            commit(mutationTypes.GET_BOOKING_SUCCESS, res.data.data);\n          } else {\n            commit(mutationTypes.GET_BOOKING_FAILURE);\n          }\n        } else {\n          console.log('this booking is already in store');\n        }\n      } catch (error) {\n        commit(mutationTypes.GET_BOOKING_FAILURE, error);\n      }\n    } else {\n      throw new Error('You have to login before get a new booking');\n    }\n  },\n  insertOneBooking({ commit, state }, booking) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        commit(mutationTypes.GET_BOOKING_REQUEST);\n        const editBooking = { ...booking, new: true };\n        commit(mutationTypes.GET_BOOKING_SUCCESS, editBooking);\n      } catch (error) {\n        commit(mutationTypes.GET_BOOKING_FAILURE, error);\n      }\n    } else {\n      throw new Error('You have to login before get a new booking');\n    }\n  },\n  async createBooking({ commit, state }, booking) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        commit(mutationTypes.CREATE_BOOKING_REQUEST);\n        const res = await window.axios.post('/api/v1/bookings', booking);\n        if (res.status === 201) {\n          commit(mutationTypes.CREATE_BOOKING_SUCCESS, res.data.data);\n        }\n      } catch (error) {\n        commit(mutationTypes.CREATE_BOOKING_FAILURE, error);\n      }\n    } else {\n      throw new Error('You have to login before get a new booking');\n    }\n  },\n  async getDeals({ commit, state }) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        commit(mutationTypes.GET_DEALS_REQUEST);\n        const res = await window.axios.get(`/api/v1/${role}/${userId}/deals`);\n        if (res.status === 200) {\n          commit(mutationTypes.GET_DEALS_SUCCESS, res.data.data);\n        } else {\n          commit(mutationTypes.GET_DEALS_FAILURE);\n        }\n      } catch (error) {\n        commit(mutationTypes.GET_DEALS_FAILURE, error);\n      }\n    } else {\n      throw new Error('You have to login before get deals');\n    }\n  },\n  async createDeal({ commit, state }, deal) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        commit(mutationTypes.CREATE_DEAL_REQUEST);\n        const res = await window.axios.post('/api/v1/deals', deal);\n        if (res.status === 201) {\n          commit(mutationTypes.CREATE_DEAL_SUCCESS, res.data.data);\n        } else {\n          commit(mutationTypes.CREATE_DEAL_FAILURE);\n        }\n      } catch (error) {\n        commit(mutationTypes.CREATE_DEAL_FAILURE, error);\n      }\n    } else {\n      throw new Error('You have to login before get deals');\n    }\n  },\n  async getDeal({ commit, state }, dealIds) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    const currentIds = state.deals.data.map((deal) => deal.dealId);\n    const newIds = dealIds.filter((newId) => !currentIds.includes(newId));\n    if (newIds.lenght > 0) {\n      if (userId && role && state.user.data) {\n        try {\n          commit(mutationTypes.GET_DEAL_REQUEST);\n          const res = await window.axios.get(`/api/v1/deals/${newIds[0]}`);\n          if (res.status === 200) {\n            commit(mutationTypes.GET_DEAL_SUCCESS, res.data.data);\n          } else {\n            commit(mutationTypes.GET_DEAL_FAILURE);\n          }\n        } catch (error) {\n          commit(mutationTypes.GET_DEAL_FAILURE, error);\n        }\n      } else {\n        throw new Error('You have to login before get deals');\n      }\n    } else {\n      console.log('not a new deal');\n    }\n  },\n  async cancelDeal({ commit, state }, dealId) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        const deal = state.deals.data.filter((item) => item.dealId === dealId)[0];\n        if (deal) {\n          commit(mutationTypes.CANCEL_DEAL_REQUEST);\n          const res = await window.axios.put('/api/v1/deals', {\n            dealId,\n            renterId: deal.renter.renterId,\n            vendorId: deal.vendor.vendorId,\n            typeId: deal.type.typeId,\n            status: 'CANCELED',\n            offeredPrice: deal.offeredPrice,\n          });\n          if (res.status === 200) {\n            commit(mutationTypes.CANCEL_DEAL_SUCCESS, res.data.data);\n          }\n        } else {\n          console.log('deal is null');\n        }\n      } catch (error) {\n        commit(mutationTypes.CANCEL_DEAL_FAILURE, error);\n      }\n    } else {\n      throw new Error('you are not loged in');\n    }\n  },\n  async cancelBooking({ commit, state }, bookingId) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        const booking = state.bookings.data.filter((item) => item.bookingId === bookingId)[0];\n        if (booking) {\n          commit(mutationTypes.CANCEL_BOOKING_REQUEST);\n          const res = await window.axios.put(`/api/v1/bookings/${bookingId}`, {\n            bookingId,\n            dealId: booking.deal ? booking.deal.dealId : null,\n            typeId: booking.type.typeId,\n            renterId: booking.renter.renterId,\n            vendorId: booking.vendor.vendorId,\n            status: 'CANCELLED',\n            meetTime: booking.meetTime,\n            qrCode: booking.qrCode,\n          });\n          if (res.status === 200) {\n            commit(mutationTypes.CANCEL_BOOKING_SUCCESS, res.data.data);\n          }\n        } else {\n          console.log(`booking ${bookingId} is not existed in store`);\n        }\n      } catch (error) {\n        commit(mutationTypes.CREATE_BOOKING_FAILURE, error);\n      }\n    } else {\n      throw new Error('you are not loged in');\n    }\n  },\n  async updateBookingStatus({ commit, state }, content) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    commit(mutationTypes.DONE_BOOKING_REQUEST);\n    if (userId && role && state.user.data) {\n      try {\n        const { bookingId, qrCode } = content;\n        console.log(bookingId, qrCode);\n        const booking = state.bookings.data.find((item) => item.bookingId === Number(bookingId));\n        if (booking) {\n          const res = await window.axios.put(`/api/v1/bookings/${bookingId}`, {\n            bookingId: Number(bookingId),\n            dealId: booking.deal ? booking.deal.dealId : null,\n            typeId: booking.type.typeId,\n            renterId: booking.renter.renterId,\n            vendorId: booking.vendor.vendorId,\n            status: 'DONE',\n            meetTime: booking.meetTime,\n            qrCode,\n          });\n          console.log(res);\n          if (res.status === 200) {\n            commit(mutationTypes.DONE_BOOKING_SUCCESS, Number(bookingId));\n          }\n        } else {\n          const error = new Error(`booking ${bookingId} is not existed in store`);\n          console.log(error);\n          commit(mutationTypes.DONE_BOOKING_FAILURE, error);\n        }\n      } catch (error) {\n        commit(mutationTypes.DONE_BOOKING_FAILURE, error);\n      }\n    } else {\n      const error = new Error('you are not loged in');\n      commit(mutationTypes.DONE_BOOKING_FAILURE, error);\n    }\n  },\n  updateBookingStatusLocal({ commit, state }, bookingId) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    commit(mutationTypes.DONE_BOOKING_REQUEST);\n    if (userId && role && state.user.data) {\n      try {\n        const booking = state.bookings.data.filter((item) => item.bookingId === bookingId)[0];\n        if (booking) {\n          booking.status = 'DONE';\n          commit(mutationTypes.DONE_BOOKING_SUCCESS, bookingId);\n        } else {\n          const error = new Error(`booking ${bookingId} is not existed in store`);\n          console.log(error);\n          commit(mutationTypes.DONE_BOOKING_FAILURE, error);\n        }\n      } catch (error) {\n        commit(mutationTypes.DONE_BOOKING_FAILURE, error);\n      }\n    } else {\n      const error = new Error('you are not loged in');\n      commit(mutationTypes.DONE_BOOKING_FAILURE, error);\n    }\n  },\n  clearNewlyCreatedBooking({ commit }) {\n    commit(mutationTypes.CLEAR_NEWLY_CREATED_BOOKING);\n  },\n  async registerRenter({ commit }, renter) {\n    try {\n      commit(mutationTypes.REGISTER_USER_REQUEST);\n      const response = await window.axios.post('/api/v1/renters/register', renter);\n      if (response.status >= 200 && response.status <= 299) {\n        console.log(response.data.data);\n        commit(mutationTypes.REGISTER_USER_SUCCESS, response.data.data);\n      }\n      if (response.status === 409) {\n        commit(mutationTypes.REGISTER_USER_FAILURE, 'Số điện thoại này đã được đăng kí');\n      }\n    } catch (error) {\n      commit(mutationTypes.REGISTER_USER_FAILURE, error);\n    }\n  },\n  async registerVendor({ commit }, vendor) {\n    try {\n      commit(mutationTypes.REGISTER_USER_REQUEST);\n      const response = await window.axios.post('/api/v1/vendors/register', vendor);\n      if (response.status >= 200 && response.status <= 299) {\n        commit(mutationTypes.REGISTER_USER_SUCCESS, response.data.data);\n      }\n      if (response.status === 409) {\n        commit(mutationTypes.REGISTER_USER_FAILURE, 'Số điện thoại này đã được đăng kí');\n      }\n    } catch (error) {\n      commit(mutationTypes.REGISTER_USER_FAILURE, error);\n    }\n  },\n  async createContract({ commit, state }, contract) {\n    try {\n      commit(mutationTypes.CREATE_CONTRACT_REQUEST);\n      const userId = window.$cookies.get('userId');\n      const role = window.$cookies.get('role');\n      if (!userId && !state.user.data) {\n        const error = new Error('Loggin to create contract');\n        commit(mutationTypes.CREATE_CONTRACT_FAILURE, error);\n      } else if (role !== 'vendors') {\n        const error = new Error('Only vendor have permission to create contract');\n        commit(mutationTypes.CREATE_CONTRACT_FAILURE, error);\n      } else {\n        const res = await window.axios.post('/api/v1/contracts', contract);\n        if (res.status >= 200 && res.status <= 299) {\n          commit(mutationTypes.CREATE_CONTRACT_SUCCESS, res.data.data);\n        } else {\n          const error = new Error('Cannot receive response from server');\n          commit(mutationTypes.CREATE_CONTRACT_FAILURE, error);\n        }\n      }\n    } catch (error) {\n      commit(mutationTypes.CREATE_CONTRACT_FAILURE, error);\n    }\n  },\n  async updateContract({ commit, state }, contract) {\n    try {\n      commit(mutationTypes.UPDATE_CONTRACT_REQUEST);\n      const userId = window.$cookies.get('userId');\n      const role = window.$cookies.get('role');\n      if (!role && !userId && !state.user.data) {\n        const error = new Error('Loggin to update contract');\n        commit(mutationTypes.UPDATE_CONTRACT_FAILURE, error);\n      } else {\n        console.log(JSON.stringify(contract));\n\n        const { contractId } = contract;\n        const res = await window.axios.put(`/api/v1/contracts/${contractId}`, contract);\n        if (!res) {\n          const error = new Error('Cannot receive response from server');\n          commit(mutationTypes.UPDATE_CONTRACT_FAILURE, error);\n        } else if (res.status >= 200 && res.status <= 299) {\n          commit(mutationTypes.UPDATE_CONTRACT_SUCCESS, contractId);\n        }\n      }\n    } catch (error) {\n      commit(mutationTypes.UPDATE_CONTRACT_FAILURE, error);\n    }\n  },\n  async activateContract({ commit, state }, payload) {\n    try {\n      console.log('activate contract');\n      commit(mutationTypes.ACTIVATE_CONTRACT_REQUEST);\n      const userId = window.$cookies.get('userId');\n      const role = window.$cookies.get('role');\n      if (!role && !userId && !state.user.data) {\n        const error = new Error('Loggin to activate contract');\n        commit(mutationTypes.ACTIVATE_CONTRACT_FAILURE, error);\n      } else {\n        const { contractId, qrCode, status } = payload;\n        const res = await window.axios.put(`/api/v1/contracts/confirm/${contractId}`, { qrCode, status });\n        if (!res) {\n          const error = new Error('Cannot receive response from server');\n          commit(mutationTypes.ACTIVATE_CONTRACT_FAILURE, error);\n        } else if (res.status >= 200 && res.status <= 299) {\n          commit(mutationTypes.ACTIVATE_CONTRACT_SUCCESS, res.data.data);\n        }\n      }\n    } catch (error) {\n      commit(mutationTypes.UPDATE_CONTRACT_FAILURE, error);\n    }\n  },\n  async updateContractLocal({ commit, state }, contractId) {\n    try {\n      commit(mutationTypes.UPDATE_CONTRACT_REQUEST);\n      const userId = window.$cookies.get('userId');\n      const role = window.$cookies.get('role');\n      if (!userId && !state.user.data) {\n        const error = new Error('Loggin to activate contract');\n        commit(mutationTypes.UPDATE_CONTRACT_FAILURE, error);\n      } else if (role !== 'vendors') {\n        const error = new Error('Only vendor have permission to update contract locally');\n        commit(mutationTypes.UPDATE_CONTRACT_FAILURE, error);\n      } else {\n        commit(mutationTypes.UPDATE_CONTRACT_SUCCESS, contractId);\n      }\n    } catch (error) {\n      commit(mutationTypes.UPDATE_CONTRACT_FAILURE, error);\n    }\n  },\n  async getOneContract({ commit, state }, contractId) {\n    const userId = window.$cookies.get('userId');\n    const role = window.$cookies.get('role');\n    if (userId && role && state.user.data) {\n      try {\n        commit(mutationTypes.GET_ONE_CONTRACT_REQUEST);\n        const res = await window.axios.get(`/api/v1/contracts/${contractId}`);\n        if (res.status === 200) {\n          commit(mutationTypes.GET_ONE_CONTRACT_SUCCESS, res.data.data);\n        } else {\n          commit(mutationTypes.GET_ONE_CONTRACT_FAILURE);\n        }\n      } catch (error) {\n        commit(mutationTypes.GET_ONE_CONTRACT_FAILURE, error);\n      }\n    } else {\n      throw new Error('You have to login before get contracts');\n    }\n  },\n  async sendNotification({ commit }, payload) {\n    // payload = {title, body, action, id, receiver}\n    // receiver of format: renters|vendors-id\n    // vendors-1\n    // eslint-disable-next-line\n    const { title, body, action, id, vendorId, renterId, icon } = payload;\n    commit(mutationTypes.SEND_NOTIFICATION_REQUEST);\n    try {\n      const noti = {\n        vendorId,\n        renterId,\n        data: {\n          title,\n          body,\n          action,\n          id,\n          icon,\n        },\n      };\n      await window.axios.post('/api/v1/notification/token', noti);\n      commit(mutationTypes.SEND_NOTIFICATION_SUCCESS);\n    } catch (error) {\n      commit(mutationTypes.SEND_NOTIFICATION_FAILURE, error);\n    }\n  },\n  addNotificationLocal({ commit }, noti) {\n    try {\n      commit(mutationTypes.ADD_NOTIFICATION_LOCAL_REQUEST);\n      commit(mutationTypes.ADD_NOTIFICATION_LOCAL_SUCCESS, noti);\n    } catch (error) {\n      commit(mutationTypes.ADD_NOTIFICATION_LOCAL_FAILURE, error);\n    }\n  },\n  async sendFeedback({ commit, state }, feedback) {\n    try {\n      commit(mutationTypes.CREATE_FEEDBACK_REQUEST);\n      const userId = window.$cookies.get('userId');\n      const role = window.$cookies.get('role');\n      if (!userId && !state.user.data) {\n        const error = new Error('Loggin to send feedback');\n        commit(mutationTypes.CREATE_FEEDBACK_FAILURE, error);\n      } else if (role !== 'renters') {\n        const error = new Error('Only renter have permission to send feedback');\n        commit(mutationTypes.CREATE_FEEDBACK_FAILURE, error);\n      } else {\n        const res = await window.axios.post('/api/v1/feedbacks', feedback);\n        if (res.status >= 200 && res.status <= 299) {\n          commit(mutationTypes.CREATE_FEEDBACK_SUCCESS, res.data.data);\n        } else {\n          const error = new Error('Cannot receive response from server');\n          commit(mutationTypes.CREATE_FEEDBACK_FAILURE, error);\n        }\n      }\n    } catch (error) {\n      commit(mutationTypes.CREATE_FEEDBACK_FAILURE, error);\n    }\n  },\n  async deleteFeedback({ commit, state }, feedbackId) {\n    try {\n      commit(mutationTypes.DELETE_FEEDBACK_REQUEST);\n      const userId = window.$cookies.get('userId');\n      const role = window.$cookies.get('role');\n      if (!userId && !state.user.data) {\n        const error = new Error('Loggin to remove feedback');\n        commit(mutationTypes.DELETE_FEEDBACK_FAILURE, error);\n      } else if (role !== 'renters') {\n        const error = new Error('Only owner  have permission to remove feedback');\n        commit(mutationTypes.DELETE_FEEDBACK_FAILURE, error);\n      } else {\n        const res = await window.axios.delete(`/api/v1/feedbacks/${feedbackId}`);\n        if (res.status >= 200 && res.status <= 299) {\n          commit(mutationTypes.DELETE_FEEDBACK_SUCCESS);\n        } else {\n          const error = new Error('Cannot receive response from server');\n          commit(mutationTypes.DELETE_FEEDBACK_FAILURE, error);\n        }\n      }\n    } catch (error) {\n      commit(mutationTypes.CREATE_FEEDBACK_FAILURE, error);\n    }\n    return feedbackId;\n  },\n  async updateFeedback({ commit, state }, feedback) {\n    try {\n      commit(mutationTypes.UPDATE_FEEDBACK_REQUEST);\n      const userId = window.$cookies.get('userId');\n      const role = window.$cookies.get('role');\n      if (!userId && !state.user.data) {\n        const error = new Error('Loggin to update feedback');\n        commit(mutationTypes.UPDATE_FEEDBACK_FAILURE, error);\n      } else if (role !== 'renters') {\n        const error = new Error('Only owner have permission to feedback');\n        console.log(feedback);\n        commit(mutationTypes.UPDATE_FEEDBACK_FAILURE, error);\n      } else {\n        const res = await window.axios.put(`/api/v1/feedbacks/${feedback.feedbackId}`, {\n          feedback,\n        });\n        if (!res) {\n          const error = new Error('Cannot receive response from server');\n          commit(mutationTypes.UPDATE_FEEDBACK_FAILURE, error);\n        } else if (res.status >= 200 && res.status <= 299) {\n          commit(mutationTypes.UPDATE_FEEDBACK_SUCCESS, res.data.data);\n        }\n      }\n    } catch (error) {\n      commit(mutationTypes.UPDATE_FEEDBACK_FAILURE, error);\n    }\n  },\n\n  async getAllRenters({ commit }) {\n    try {\n      commit(mutationTypes.GET_ALLRENTERS_REQUEST);\n      const res = await window.axios.get('/api/v1/renters/renters?sortBy=createdAt&asc=false');\n      if (res.status >= 200 && res.status <= 299) {\n        commit(mutationTypes.GET_ALLRENTERS_SUCCESS, res.data.data);\n      }\n    } catch (error) {\n      commit(mutationTypes.GET_ALLRENTERS_FAILURE, error);\n    }\n  },\n\n  async getAllVendors({ commit }) {\n    try {\n      commit(mutationTypes.GET_ALLVENDORS_REQUEST);\n      const res = await window.axios.get('/api/v1/vendors/vendors?sortBy=createdAt&asc=false');\n      if (res.status >= 200 && res.status <= 299) {\n        commit(mutationTypes.GET_ALLVENDORS_SUCCESS, res.data.data);\n      }\n    } catch (error) {\n      commit(mutationTypes.GET_ALLVENDORS_FAILURE, error);\n    }\n  },\n\n  async getAllTypes({ commit }) {\n    try {\n      commit(mutationTypes.GET_ALLTYPES_REQUEST);\n      const res = await window.axios.get('/api/v1/types/all?asc=false&page=1&size=100&sortBy=createdAt');\n      if (res.status >= 200 && res.status <= 299) {\n        commit(mutationTypes.GET_ALLTYPES_SUCCESS, res.data.data);\n      }\n    } catch (error) {\n      commit(mutationTypes.GET_ALLTYPES_FAILURE, error);\n    }\n  },\n\n  async updateHostelTypeV2({ commit }, types) {\n    try {\n      commit(mutationTypes.UPDATE_HOSTEL_TYPE_REQUEST);\n      const { typeId } = types;\n      if (types) {\n        const res = await window.axios.put(`/api/v1/types/${typeId}/active`, types.data);\n        console.log(res);\n        commit(mutationTypes.UPDATE_HOSTEL_TYPE_SUCCESS, res.data.data);\n      }\n    } catch (error) {\n      console.log(error);\n      commit(mutationTypes.UPDATE_HOSTEL_TYPE_FAILURE, error);\n    }\n  },\n};\n\nexport default {\n  namespaced: true,\n  state: myState,\n  mutations,\n  getters: myGetters,\n  actions,\n};\n"]}]}