{"remainingRequest":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\thread-loader\\dist\\cjs.js!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\capstone\\HostelFrontEnd-BV2\\src\\router\\index.js","dependencies":[{"path":"D:\\capstone\\HostelFrontEnd-BV2\\src\\router\\index.js","mtime":1610216666379},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRDovY2Fwc3RvbmUvSG9zdGVsRnJvbnRFbmQtQlYyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0ICogYXMgVnVlR29vZ2xlTWFwcyBmcm9tICd2dWUyLWdvb2dsZS1tYXBzJzsKaW1wb3J0IFJlbnRlclJvdXRlcyBmcm9tICcuL3JvdXRlcy9yZW50ZXInOwppbXBvcnQgVmVuZG9yUm91dGVzIGZyb20gJy4vcm91dGVzL3ZlbmRvcic7CmltcG9ydCBBZG1pblJvdXRlcyBmcm9tICcuL3JvdXRlcy9hZG1pbic7CmltcG9ydCBBdXRoZW50aWNhdGlvblJvdXRlcyBmcm9tICcuL3JvdXRlcy9hdXRoZW50aWNhdGlvbic7CmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscyc7ClZ1ZS51c2UoVnVlUm91dGVyKTsKVnVlLnVzZShWdWVHb29nbGVNYXBzLCB7CiAgbG9hZDogewogICAga2V5OiAnQUl6YVN5RGN3LUtuQ0FQem5pM1FZdmdrM1JEb1RaTDY1eGg4YTRvJywKICAgIGxhbmd1YWdlOiAndmknLAogICAgcmVnaW9uOiAnVkknLAogICAgbGlicmFyaWVzOiAncGxhY2VzJyAvLyBuZWNlc3NhcnkgZm9yIHBsYWNlcyBpbnB1dAoKICB9Cn0pOwp2YXIgcm91dGVzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShSZW50ZXJSb3V0ZXMpLCBfdG9Db25zdW1hYmxlQXJyYXkoVmVuZG9yUm91dGVzKSwgX3RvQ29uc3VtYWJsZUFycmF5KEFkbWluUm91dGVzKSwgX3RvQ29uc3VtYWJsZUFycmF5KEF1dGhlbnRpY2F0aW9uUm91dGVzKSk7CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLnJlcXVpcmVzQXV0aDsKICB9KSkgewogICAgLy8gaWYgKHdpbmRvdy4kY29va2llcy5nZXQoJ2ZpcmViYXNlSWRUb2tlbicpID09PSBudWxsKSB7CiAgICBpZiAoIXV0aWxzLmlzRmlyZWJhc2VMb2dnZWRJbigpKSB7CiAgICAgIC8vIG5vdCBsb2dnZWQgaW4KICAgICAgbmV4dCh7CiAgICAgICAgbmFtZTogJ0xvZ2luJywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIG5leHRVcmw6IHRvLnBhdGgsCiAgICAgICAgICBwcmVVcmw6IGZyb20ucGF0aAogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICAvLyBsb2dnZWQgaW4KICAgICAgdmFyIHJvbGUgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCdyb2xlJyk7CgogICAgICBpZiAodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgICAgICByZXR1cm4gcmVjb3JkLm1ldGEuaXNfdmVuZG9yOwogICAgICB9KSkgewogICAgICAgIGlmIChyb2xlID09PSAndmVuZG9ycycpIHsKICAgICAgICAgIG5leHQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmV4dChmcm9tLnBhdGgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgIHJldHVybiByZWNvcmQubWV0YS5pc19hZG1pbjsKICAgICAgfSkpIHsKICAgICAgICBpZiAocm9sZSA9PT0gJ2FkbWlucycpIHsKICAgICAgICAgIG5leHQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbmV4dChmcm9tLnBhdGgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgIHJldHVybiByZWNvcmQubWV0YS5pc19yZW50ZXI7CiAgICAgIH0pKSB7CiAgICAgICAgaWYgKHJvbGUgPT09ICdyZW50ZXJzJykgewogICAgICAgICAgbmV4dCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuZXh0KGZyb20ucGF0aCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIG5leHQoKTsKICAgICAgfQogICAgfQogIH0gZWxzZSBpZiAodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgIHJldHVybiByZWNvcmQubWV0YS5ndWVzdDsKICB9KSkgewogICAgLy8gbm90IHJlcXVpcmUgYXV0aGVuCiAgICBuZXh0KCk7CiAgfSBlbHNlIHsKICAgIC8vIG5vdCByZXF1aXJlIGF1dGhlbgogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["D:/capstone/HostelFrontEnd-BV2/src/router/index.js"],"names":["Vue","VueRouter","VueGoogleMaps","RenterRoutes","VendorRoutes","AdminRoutes","AuthenticationRoutes","utils","use","load","key","language","region","libraries","routes","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","meta","requiresAuth","isFirebaseLoggedIn","name","params","nextUrl","path","preUrl","role","window","$cookies","get","is_vendor","is_admin","is_renter","guest"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport * as VueGoogleMaps from 'vue2-google-maps';\nimport RenterRoutes from './routes/renter';\nimport VendorRoutes from './routes/vendor';\nimport AdminRoutes from './routes/admin';\nimport AuthenticationRoutes from './routes/authentication';\nimport utils from '../utils/utils';\n\nVue.use(VueRouter);\n\nVue.use(VueGoogleMaps, {\n  load: {\n    key: 'AIzaSyDcw-KnCAPzni3QYvgk3RDoTZL65xh8a4o',\n    language: 'vi',\n    region: 'VI',\n    libraries: 'places', // necessary for places input\n  },\n});\n\nconst routes = [...RenterRoutes, ...VendorRoutes, ...AdminRoutes, ...AuthenticationRoutes];\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some((record) => record.meta.requiresAuth)) {\n    // if (window.$cookies.get('firebaseIdToken') === null) {\n    if (!utils.isFirebaseLoggedIn()) {\n      // not logged in\n      next({\n        name: 'Login',\n        params: { nextUrl: to.path, preUrl: from.path },\n      });\n    } else {\n      // logged in\n      const role = window.$cookies.get('role');\n      if (to.matched.some((record) => record.meta.is_vendor)) {\n        if (role === 'vendors') {\n          next();\n        } else {\n          next(from.path);\n        }\n      } else if (to.matched.some((record) => record.meta.is_admin)) {\n        if (role === 'admins') {\n          next();\n        } else {\n          next(from.path);\n        }\n      } else if (to.matched.some((record) => record.meta.is_renter)) {\n        if (role === 'renters') {\n          next();\n        } else {\n          next(from.path);\n        }\n      } else {\n        next();\n      }\n    }\n  } else if (to.matched.some((record) => record.meta.guest)) {\n    // not require authen\n    next();\n  } else {\n    // not require authen\n    next();\n  }\n});\n\nexport default router;\n"]}]}