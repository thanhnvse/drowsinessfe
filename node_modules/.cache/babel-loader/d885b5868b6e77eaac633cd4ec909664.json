{"remainingRequest":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\thread-loader\\dist\\cjs.js!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\capstone\\HostelFrontEnd-BV2\\src\\components\\mixins\\file.js","dependencies":[{"path":"D:\\capstone\\HostelFrontEnd-BV2\\src\\components\\mixins\\file.js","mtime":1610216665593},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovY2Fwc3RvbmUvSG9zdGVsRnJvbnRFbmQtQlYyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKdmFyIGZpbGVVcGxvYWRNaXhpbiA9IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNGaWxlVXBsb2FkaW5nOiBmYWxzZSwKICAgICAgZmlsZVVwbG9hZEVycm9yOiBudWxsLAogICAgICBmaWxlVXBsb2FkU3VjY2VzczogbnVsbCwKICAgICAgbGlzdFVwbG9hZGVkRmlsZXM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdXBsb2FkRmlsZTogZnVuY3Rpb24gdXBsb2FkRmlsZShmb3JtRGF0YXMpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5pc0ZpbGVVcGxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMubGlzdFVwbG9hZGVkRmlsZXMgPSBbXTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5heGlvcy5wb3N0KCcvYXBpL3YxL2ltYWdlcycsIGZvcm1EYXRhcywgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLmlzRmlsZVVwbG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXMuZmlsZVVwbG9hZFN1Y2Nlc3MgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMubGlzdFVwbG9hZGVkRmlsZXMgPSByZXMuZGF0YS5kYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5maWxlRG93bmxvYWRVcmk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGxpc3RVcGxvYWRlZEZpbGVzOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnbmV3VXBsb2FkZWRGaWxlJywgdGhpcy5saXN0VXBsb2FkZWRGaWxlcyk7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IGZpbGVVcGxvYWRNaXhpbjs="},{"version":3,"sources":["D:/capstone/HostelFrontEnd-BV2/src/components/mixins/file.js"],"names":["fileUploadMixin","data","isFileUploading","fileUploadError","fileUploadSuccess","listUploadedFiles","methods","uploadFile","formDatas","window","axios","post","headers","res","map","item","fileDownloadUri","watch","handler","$emit","deep"],"mappings":";;;AAAA,IAAMA,eAAe,GAAG;AACtBC,EAAAA,IAAI,EAAE;AAAA,WAAO;AACXC,MAAAA,eAAe,EAAE,KADN;AAEXC,MAAAA,eAAe,EAAE,IAFN;AAGXC,MAAAA,iBAAiB,EAAE,IAHR;AAIXC,MAAAA,iBAAiB,EAAE;AAJR,KAAP;AAAA,GADgB;AAOtBC,EAAAA,OAAO,EAAE;AACDC,IAAAA,UADC,sBACUC,SADV,EACqB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC1B,gBAAA,KAAI,CAACN,eAAL,GAAuB,IAAvB;AACA,gBAAA,KAAI,CAACG,iBAAL,GAAyB,EAAzB;AAF0B;AAAA,uBAGRI,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkB,gBAAlB,EAAoCH,SAApC,EAA+C;AAC/DI,kBAAAA,OAAO,EAAE;AACP,oCAAgB;AADT;AADsD,iBAA/C,CAHQ;;AAAA;AAGpBC,gBAAAA,GAHoB;AAQ1B,gBAAA,KAAI,CAACX,eAAL,GAAuB,KAAvB;AACA,gBAAA,KAAI,CAACE,iBAAL,GAAyB,IAAzB;AACA,gBAAA,KAAI,CAACC,iBAAL,GAAyBQ,GAAG,CAACZ,IAAJ,CAASA,IAAT,CAAca,GAAd,CAAkB,UAACC,IAAD;AAAA,yBAAUA,IAAI,CAACC,eAAf;AAAA,iBAAlB,CAAzB;;AAV0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAW3B;AAZM,GAPa;AAqBtBC,EAAAA,KAAK,EAAE;AACLZ,IAAAA,iBAAiB,EAAE;AACjBa,MAAAA,OADiB,qBACP;AACR,aAAKC,KAAL,CAAW,iBAAX,EAA8B,KAAKd,iBAAnC;AACD,OAHgB;AAIjBe,MAAAA,IAAI,EAAE;AAJW;AADd;AArBe,CAAxB;AA+BA,eAAepB,eAAf","sourcesContent":["const fileUploadMixin = {\n  data: () => ({\n    isFileUploading: false,\n    fileUploadError: null,\n    fileUploadSuccess: null,\n    listUploadedFiles: [],\n  }),\n  methods: {\n    async uploadFile(formDatas) {\n      this.isFileUploading = true;\n      this.listUploadedFiles = [];\n      const res = await window.axios.post('/api/v1/images', formDatas, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      this.isFileUploading = false;\n      this.fileUploadSuccess = true;\n      this.listUploadedFiles = res.data.data.map((item) => item.fileDownloadUri);\n    },\n  },\n  watch: {\n    listUploadedFiles: {\n      handler() {\n        this.$emit('newUploadedFile', this.listUploadedFiles);\n      },\n      deep: true,\n    },\n  },\n};\n\nexport default fileUploadMixin;\n"]}]}