{"remainingRequest":"D:\\capstone\\DrowsinessFrontEnd\\node_modules\\thread-loader\\dist\\cjs.js!D:\\capstone\\DrowsinessFrontEnd\\node_modules\\babel-loader\\lib\\index.js!D:\\capstone\\DrowsinessFrontEnd\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\capstone\\DrowsinessFrontEnd\\src\\router\\index.js","dependencies":[{"path":"D:\\capstone\\DrowsinessFrontEnd\\src\\router\\index.js","mtime":1624902541463},{"path":"D:\\capstone\\DrowsinessFrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\DrowsinessFrontEnd\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\DrowsinessFrontEnd\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\capstone\\DrowsinessFrontEnd\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRDovY2Fwc3RvbmUvRHJvd3NpbmVzc0Zyb250RW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsgLy8gaW1wb3J0ICogYXMgVnVlR29vZ2xlTWFwcyBmcm9tICd2dWUyLWdvb2dsZS1tYXBzJzsKCmltcG9ydCBBZG1pblJvdXRlcyBmcm9tICcuL3JvdXRlcy9hZG1pbic7CmltcG9ydCBBdXRoZW50aWNhdGlvblJvdXRlcyBmcm9tICcuL3JvdXRlcy9hdXRoZW50aWNhdGlvbic7IC8vIGltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscyc7CgpWdWUudXNlKFZ1ZVJvdXRlcik7IC8vIFZ1ZS51c2UoVnVlR29vZ2xlTWFwcywgewovLyAgIGxvYWQ6IHsKLy8gICAgIGtleTogJ0FJemFTeURjdy1LbkNBUHpuaTNRWXZnazNSRG9UWkw2NXhoOGE0bycsCi8vICAgICBsYW5ndWFnZTogJ3ZpJywKLy8gICAgIHJlZ2lvbjogJ1ZJJywKLy8gICAgIGxpYnJhcmllczogJ3BsYWNlcycsIC8vIG5lY2Vzc2FyeSBmb3IgcGxhY2VzIGlucHV0Ci8vICAgfSwKLy8gfSk7Cgp2YXIgcm91dGVzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShBZG1pblJvdXRlcyksIF90b0NvbnN1bWFibGVBcnJheShBdXRoZW50aWNhdGlvblJvdXRlcykpOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIC8vIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICAvLyBpZiAodG8ubWF0Y2hlZC5zb21lKChyZWNvcmQpID0+IHJlY29yZC5tZXRhLnJlcXVpcmVzQXV0aCkpIHsKICAvLyAgIC8vIGlmICh3aW5kb3cuJGNvb2tpZXMuZ2V0KCdmaXJlYmFzZUlkVG9rZW4nKSA9PT0gbnVsbCkgewogIC8vICAgLy8gaWYgKCF1dGlscy5pc0ZpcmViYXNlTG9nZ2VkSW4oKSkgewogIC8vICAgLy8gICAvLyBub3QgbG9nZ2VkIGluCiAgLy8gICAvLyAgIG5leHQoewogIC8vICAgLy8gICAgIG5hbWU6ICdMb2dpbicsCiAgLy8gICAvLyAgICAgcGFyYW1zOiB7IG5leHRVcmw6IHRvLnBhdGgsIHByZVVybDogZnJvbS5wYXRoIH0sCiAgLy8gICAvLyAgIH0pOwogIC8vICAgLy8gfSBlbHNlIHsKICAvLyAgIC8vICAgLy8gbG9nZ2VkIGluCiAgLy8gICAvLyAgIGNvbnN0IHJvbGUgPSB3aW5kb3cuJGNvb2tpZXMuZ2V0KCdyb2xlJyk7CiAgLy8gICAvLyAgIGlmICh0by5tYXRjaGVkLnNvbWUoKHJlY29yZCkgPT4gcmVjb3JkLm1ldGEuaXNfdmVuZG9yKSkgewogIC8vICAgLy8gICAgIGlmIChyb2xlID09PSAndmVuZG9ycycpIHsKICAvLyAgIC8vICAgICAgIG5leHQoKTsKICAvLyAgIC8vICAgICB9IGVsc2UgewogIC8vICAgLy8gICAgICAgbmV4dChmcm9tLnBhdGgpOwogIC8vICAgLy8gICAgIH0KICAvLyAgIC8vICAgfSBlbHNlIGlmICh0by5tYXRjaGVkLnNvbWUoKHJlY29yZCkgPT4gcmVjb3JkLm1ldGEuaXNfYWRtaW4pKSB7CiAgLy8gICAvLyAgICAgaWYgKHJvbGUgPT09ICdhZG1pbnMnKSB7CiAgLy8gICAvLyAgICAgICBuZXh0KCk7CiAgLy8gICAvLyAgICAgfSBlbHNlIHsKICAvLyAgIC8vICAgICAgIG5leHQoZnJvbS5wYXRoKTsKICAvLyAgIC8vICAgICB9CiAgLy8gICAvLyAgIH0gZWxzZSBpZiAodG8ubWF0Y2hlZC5zb21lKChyZWNvcmQpID0+IHJlY29yZC5tZXRhLmlzX3JlbnRlcikpIHsKICAvLyAgIC8vICAgICBpZiAocm9sZSA9PT0gJ3JlbnRlcnMnKSB7CiAgLy8gICAvLyAgICAgICBuZXh0KCk7CiAgLy8gICAvLyAgICAgfSBlbHNlIHsKICAvLyAgIC8vICAgICAgIG5leHQoZnJvbS5wYXRoKTsKICAvLyAgIC8vICAgICB9CiAgLy8gICAvLyAgIH0gZWxzZSB7CiAgLy8gICAvLyAgICAgbmV4dCgpOwogIC8vICAgLy8gICB9CiAgLy8gICAvLyB9CiAgLy8gLy8gfSBlbHNlIGlmICh0by5tYXRjaGVkLnNvbWUoKHJlY29yZCkgPT4gcmVjb3JkLm1ldGEuZ3Vlc3QpKSB7CiAgLy8gLy8gICAvLyBub3QgcmVxdWlyZSBhdXRoZW4KICAvLyAgIG5leHQoKTsKICAvLyB9IGVsc2UgewogIC8vICAgLy8gbm90IHJlcXVpcmUgYXV0aGVuCiAgLy8gICBuZXh0KCk7CiAgLy8gfQogIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLnJlcXVpcmVzQXV0aDsKICB9KSkgewogICAgaWYgKHdpbmRvdy4kY29va2llcy5nZXQoJ2p3dCcpID09PSBudWxsKSB7CiAgICAgIG5leHQoewogICAgICAgIHBhdGg6ICcvbG9naW4nLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgbmV4dFVybDogdG8uZnVsbFBhdGgKICAgICAgICB9CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSBpZiAodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgIHJldHVybiByZWNvcmQubWV0YS5ndWVzdDsKICB9KSkgewogICAgbmV4dCgpOwogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["D:/capstone/DrowsinessFrontEnd/src/router/index.js"],"names":["Vue","VueRouter","AdminRoutes","AuthenticationRoutes","use","routes","router","mode","beforeEach","to","from","next","matched","some","record","meta","requiresAuth","window","$cookies","get","path","params","nextUrl","fullPath","guest"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CACA;;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,oBAAP,MAAiC,yBAAjC,C,CACA;;AAEAH,GAAG,CAACI,GAAJ,CAAQH,SAAR,E,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMI,MAAM,gCAAOH,WAAP,sBAAuBC,oBAAvB,EAAZ;AAEA,IAAMG,MAAM,GAAG,IAAIL,SAAJ,CAAc;AAC3BM,EAAAA,IAAI,EAAE,SADqB;AAE3B;AACAF,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAMAC,MAAM,CAACE,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAACC,MAAD;AAAA,WAAYA,MAAM,CAACC,IAAP,CAAYC,YAAxB;AAAA,GAAhB,CAAJ,EAA2D;AACzD,QAAIC,MAAM,CAACC,QAAP,CAAgBC,GAAhB,CAAoB,KAApB,MAA+B,IAAnC,EAAyC;AACvCR,MAAAA,IAAI,CAAC;AACHS,QAAAA,IAAI,EAAE,QADH;AAEHC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,OAAO,EAAEb,EAAE,CAACc;AAAd;AAFL,OAAD,CAAJ;AAID,KALD,MAKO;AACLZ,MAAAA,IAAI;AACL;AACF,GATD,MASO,IAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAACC,MAAD;AAAA,WAAYA,MAAM,CAACC,IAAP,CAAYS,KAAxB;AAAA,GAAhB,CAAJ,EAAoD;AACzDb,IAAAA,IAAI;AACL,GAFM,MAEA;AACLA,IAAAA,IAAI;AACL;AACF,CAvDD;AAyDA,eAAeL,MAAf","sourcesContent":["import Vue from 'vue';\nimport VueRouter from 'vue-router';\n// import * as VueGoogleMaps from 'vue2-google-maps';\nimport AdminRoutes from './routes/admin';\nimport AuthenticationRoutes from './routes/authentication';\n// import utils from '../utils/utils';\n\nVue.use(VueRouter);\n\n// Vue.use(VueGoogleMaps, {\n//   load: {\n//     key: 'AIzaSyDcw-KnCAPzni3QYvgk3RDoTZL65xh8a4o',\n//     language: 'vi',\n//     region: 'VI',\n//     libraries: 'places', // necessary for places input\n//   },\n// });\n\nconst routes = [...AdminRoutes, ...AuthenticationRoutes];\n\nconst router = new VueRouter({\n  mode: 'history',\n  // base: process.env.BASE_URL,\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  // if (to.matched.some((record) => record.meta.requiresAuth)) {\n  //   // if (window.$cookies.get('firebaseIdToken') === null) {\n  //   // if (!utils.isFirebaseLoggedIn()) {\n  //   //   // not logged in\n  //   //   next({\n  //   //     name: 'Login',\n  //   //     params: { nextUrl: to.path, preUrl: from.path },\n  //   //   });\n  //   // } else {\n  //   //   // logged in\n  //   //   const role = window.$cookies.get('role');\n  //   //   if (to.matched.some((record) => record.meta.is_vendor)) {\n  //   //     if (role === 'vendors') {\n  //   //       next();\n  //   //     } else {\n  //   //       next(from.path);\n  //   //     }\n  //   //   } else if (to.matched.some((record) => record.meta.is_admin)) {\n  //   //     if (role === 'admins') {\n  //   //       next();\n  //   //     } else {\n  //   //       next(from.path);\n  //   //     }\n  //   //   } else if (to.matched.some((record) => record.meta.is_renter)) {\n  //   //     if (role === 'renters') {\n  //   //       next();\n  //   //     } else {\n  //   //       next(from.path);\n  //   //     }\n  //   //   } else {\n  //   //     next();\n  //   //   }\n  //   // }\n  // // } else if (to.matched.some((record) => record.meta.guest)) {\n  // //   // not require authen\n  //   next();\n  // } else {\n  //   // not require authen\n  //   next();\n  // }\n  if (to.matched.some((record) => record.meta.requiresAuth)) {\n    if (window.$cookies.get('jwt') === null) {\n      next({\n        path: '/login',\n        params: { nextUrl: to.fullPath },\n      });\n    } else {\n      next();\n    }\n  } else if (to.matched.some((record) => record.meta.guest)) {\n    next();\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"]}]}