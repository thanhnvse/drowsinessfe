{"remainingRequest":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\capstone\\HostelFrontEnd-BV2\\src\\components\\vendor\\hostel_management\\Camera.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\capstone\\HostelFrontEnd-BV2\\src\\components\\vendor\\hostel_management\\Camera.vue","mtime":1610216665700},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovY2Fwc3RvbmUvSG9zdGVsRnJvbnRFbmQtQlYyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGxvYWRJbWFnZSBmcm9tICdibHVlaW1wLWxvYWQtaW1hZ2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NhbWVyYScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0cmVhbTogbnVsbCwKICAgICAgcmVhZHk6IGZhbHNlLAogICAgICBwaG90bzogbnVsbCwKICAgICAgc2hvdzogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zdGFydENhbWVyYSgpOwogIH0sCiAgbWV0aG9kczogewogICAgc3RhcnRDYW1lcmE6IGZ1bmN0aW9uIHN0YXJ0Q2FtZXJhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7CiAgICAgICAgICAgICAgICAgIGF1ZGlvOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgdmlkZW86IHsKICAgICAgICAgICAgICAgICAgICBmYWNpbmdNb2RlOiAnZW52aXJvbm1lbnQnCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpcy5zdHJlYW0gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMuJHJlZnMudmlkZW8uc3JjT2JqZWN0ID0gX3RoaXMuc3RyZWFtOwoKICAgICAgICAgICAgICAgIF90aGlzLiRyZWZzLnZpZGVvLm9ubG9hZGVkbWV0YWRhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnJlYWR5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX3RoaXMuJHJlZnMudmlkZW8ub25lbmRlZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMucmVhZHkgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgX3RoaXMuc3RyZWFtID0gbnVsbDsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjYXB0dXJlUGhvdG86IGZ1bmN0aW9uIGNhcHR1cmVQaG90bygpIHsKICAgICAgdmFyIHZpZGVvID0gdGhpcy4kcmVmcy52aWRlbzsKICAgICAgdmFyIHZpZGVvQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgIHZpZGVvQ2FudmFzLmhlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0OwogICAgICB2aWRlb0NhbnZhcy53aWR0aCA9IHZpZGVvLnZpZGVvV2lkdGg7CiAgICAgIHZhciB2aWRlb0NvbnRleHQgPSB2aWRlb0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICB2aWRlb0NvbnRleHQuZHJhd0ltYWdlKHZpZGVvLCAwLCAwKTsKICAgICAgdGhpcy5waG90byA9IGxvYWRJbWFnZS5zY2FsZSh2aWRlb0NhbnZhcywgewogICAgICAgIG1heEhlaWdodDogMTA4MCwKICAgICAgICBtYXhXaWR0aDogMTA4MCwKICAgICAgICBjb3ZlcjogdHJ1ZSwKICAgICAgICBjcm9wOiB0cnVlLAogICAgICAgIGNhbnZhczogdHJ1ZQogICAgICB9KTsKICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBkb3dubG9hZFBob3RvOiBmdW5jdGlvbiBkb3dubG9hZFBob3RvKCkgewogICAgICB0aGlzLnBob3RvLnRvQmxvYihmdW5jdGlvbiAoYmxvYikgewogICAgICAgIHZhciBkYXRhID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgbGluay5ocmVmID0gZGF0YTsKICAgICAgICBsaW5rLmRvd25sb2FkID0gJ3Bob3RvLmpwZyc7CiAgICAgICAgbGluay5jbGljaygpOwogICAgICB9LCAnaW1hZ2UvanBlZycpOwogICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Camera.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,OAAA,SAAA,MAAA,oBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,KAFA;AAGA,MAAA,KAAA,EAAA,IAHA;AAIA,MAAA,IAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,WAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,SAAA,CAAA,YAAA,CAAA,YAAA,CAAA;AACA,kBAAA,KAAA,EAAA,KADA;AAEA,kBAAA,KAAA,EAAA;AACA,oBAAA,UAAA,EAAA;AADA;AAFA,iBAAA,CADA;;AAAA;AACA,gBAAA,KAAA,CAAA,MADA;AAQA,gBAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,SAAA,GAAA,KAAA,CAAA,MAAA;;AAEA,gBAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,gBAAA,GAAA,YAAA;AACA,kBAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA,iBAFA;;AAIA,gBAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,OAAA,GAAA,YAAA;AACA,kBAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AACA,kBAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AACA,iBAHA;;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,KAnBA;AAoBA,IAAA,YApBA,0BAoBA;AAAA,UACA,KADA,GACA,KAAA,KADA,CACA,KADA;AAGA,UAAA,WAAA,GAAA,QAAA,CAAA,aAAA,CAAA,QAAA,CAAA;AACA,MAAA,WAAA,CAAA,MAAA,GAAA,KAAA,CAAA,WAAA;AACA,MAAA,WAAA,CAAA,KAAA,GAAA,KAAA,CAAA,UAAA;AACA,UAAA,YAAA,GAAA,WAAA,CAAA,UAAA,CAAA,IAAA,CAAA;AAEA,MAAA,YAAA,CAAA,SAAA,CAAA,KAAA,EAAA,CAAA,EAAA,CAAA;AAEA,WAAA,KAAA,GAAA,SAAA,CAAA,KAAA,CAAA,WAAA,EAAA;AACA,QAAA,SAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA,IAFA;AAGA,QAAA,KAAA,EAAA,IAHA;AAIA,QAAA,IAAA,EAAA,IAJA;AAKA,QAAA,MAAA,EAAA;AALA,OAAA,CAAA;AAOA,WAAA,IAAA,GAAA,IAAA;AACA,KAtCA;AAuCA,IAAA,aAvCA,2BAuCA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,GAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,GAAA,QAAA,CAAA,aAAA,CAAA,GAAA,CAAA;AAEA,QAAA,IAAA,CAAA,IAAA,GAAA,IAAA;AACA,QAAA,IAAA,CAAA,QAAA,GAAA,WAAA;AACA,QAAA,IAAA,CAAA,KAAA;AACA,OAPA,EAOA,YAPA;AAQA,WAAA,IAAA,GAAA,KAAA;AACA;AAjDA;AAbA,CAAA","sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <v-container class=\"fill-height\" fluid>\n        <div style=\"height: 100%;\">\n          <v-dialog\n            v-model=\"show\"\n            fullscreen\n            hide-overlay\n            transition=\"dialog-bottom-transition\"\n            class=\"hidden-md-and-up\"\n          >\n            <v-card>\n              <div id=\"download\" v-if=\"photo\" class=\"\">\n                <img :src=\"photo.toDataURL('image/jpeg')\" alt=\"Photo\" width=\"100%\" />\n\n                <v-btn @click=\"downloadPhoto\">\n                  <v-icon>backup</v-icon>\n                </v-btn>\n                <v-btn\n                  @click=\"\n                    photo = null;\n                    show = false;\n                  \"\n                >\n                  <v-icon>clear</v-icon>\n                </v-btn>\n              </div>\n            </v-card>\n          </v-dialog>\n          <video ref=\"video\" class=\"full\" autoplay muted playsinline>\n            Trình duyệt của bạn không hỗ trợ tính năng này\n          </video>\n          <v-btn fab dark right fixed bottom @click=\"capturePhoto\" :disabled=\"!ready\" x-large>\n            <v-icon>camera</v-icon>\n          </v-btn>\n        </div>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n<script>\nimport loadImage from 'blueimp-load-image';\n\nexport default {\n  name: 'Camera',\n  data() {\n    return {\n      stream: null,\n      ready: false,\n      photo: null,\n      show: false,\n    };\n  },\n  mounted() {\n    this.startCamera();\n  },\n  methods: {\n    async startCamera() {\n      this.stream = await navigator.mediaDevices.getUserMedia({\n        audio: false,\n        video: {\n          facingMode: 'environment',\n        },\n      });\n\n      this.$refs.video.srcObject = this.stream;\n\n      this.$refs.video.onloadedmetadata = () => {\n        this.ready = true;\n      };\n\n      this.$refs.video.onended = () => {\n        this.ready = false;\n        this.stream = null;\n      };\n    },\n    capturePhoto() {\n      const { video } = this.$refs;\n\n      const videoCanvas = document.createElement('canvas');\n      videoCanvas.height = video.videoHeight;\n      videoCanvas.width = video.videoWidth;\n      const videoContext = videoCanvas.getContext('2d');\n\n      videoContext.drawImage(video, 0, 0);\n\n      this.photo = loadImage.scale(videoCanvas, {\n        maxHeight: 1080,\n        maxWidth: 1080,\n        cover: true,\n        crop: true,\n        canvas: true,\n      });\n      this.show = true;\n    },\n    downloadPhoto() {\n      this.photo.toBlob((blob) => {\n        const data = window.URL.createObjectURL(blob);\n        const link = document.createElement('a');\n\n        link.href = data;\n        link.download = 'photo.jpg';\n        link.click();\n      }, 'image/jpeg');\n      this.show = false;\n    },\n  },\n};\n</script>\n<style>\n.full {\n  height: 100% !important;\n  width: 100% !important;\n}\n</style>\n"],"sourceRoot":"src/components/vendor/hostel_management"}]}