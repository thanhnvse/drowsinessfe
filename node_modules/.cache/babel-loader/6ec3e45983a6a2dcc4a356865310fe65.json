{"remainingRequest":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\thread-loader\\dist\\cjs.js!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\capstone\\HostelFrontEnd-BV2\\src\\components\\vendor\\overview\\Notify.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\capstone\\HostelFrontEnd-BV2\\src\\components\\vendor\\overview\\Notify.vue","mtime":1610926189590},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\HostelFrontEnd-BV2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovY2Fwc3RvbmUvSG9zdGVsRnJvbnRFbmQtQlYyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgcHJvY2Vzc0ZDTUZvcmVncm91bmRNaXhpbnMgZnJvbSAnLi4vLi4vbWl4aW5zL3Byb2Nlc3NGQ01Gb3JlZ3JvdW5kJzsKaW1wb3J0IGFjdGlvbiBmcm9tICcuLi8uLi8uLi9jb25maWcvcHVzaE5vdGlmaWNhdGlvbkFjdGlvbnMnOwppbXBvcnQgbW9iaWxlTWl4aW4gZnJvbSAnLi4vLi4vbWl4aW5zL21vYmlsZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTm90aWZ5QW5kUHJvZmlsZScsCiAgbWl4aW5zOiBbcHJvY2Vzc0ZDTUZvcmVncm91bmRNaXhpbnMsIG1vYmlsZU1peGluXSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoewogICAgZ2V0VXNlcjogJ3VzZXIvZ2V0VXNlcicKICB9KSksIHt9LCB7CiAgICBnZXREZXN0aW5hdGlvbjogZnVuY3Rpb24gZ2V0RGVzdGluYXRpb24obWVzc2FnZSkgewogICAgICBzd2l0Y2ggKHRoaXMudXNlci5yb2xlKSB7CiAgICAgICAgY2FzZSAnUkVOVEVSJzoKICAgICAgICAgIHJldHVybiB0aGlzLmdldERlc3RpbmF0aW9uRm9yUmVudGVyKG1lc3NhZ2UpOwoKICAgICAgICBjYXNlICdWRU5ET1InOgogICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVzdGluYXRpb25Gb3JWZW5kb3IobWVzc2FnZSk7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gRXJyb3IoJycpOwogICAgICB9CiAgICB9LAogICAgZ2V0RGVzdGluYXRpb25Gb3JSZW50ZXI6IGZ1bmN0aW9uIGdldERlc3RpbmF0aW9uRm9yUmVudGVyKG1lc3NhZ2UpIHsKICAgICAgc3dpdGNoIChtZXNzYWdlLmRhdGEuYWN0aW9uKSB7CiAgICAgICAgY2FzZSBhY3Rpb24uTkVXX0NPTlRSQUNUOgogICAgICAgICAgcmV0dXJuICcvY29udHJhY3QnOwoKICAgICAgICBjYXNlIGFjdGlvbi5VUERBVEVfQ09OVFJBQ1Q6CiAgICAgICAgY2FzZSBhY3Rpb24uUkVTRVJWRV9GRUVfUkVDRUlWRUQ6CiAgICAgICAgY2FzZSBhY3Rpb24uUkVTVF9GRUVfUkVDRUlWRUQ6CiAgICAgICAgY2FzZSBhY3Rpb24uQUxMX0ZFRV9SRUNFSVZFRDoKICAgICAgICAgIHJldHVybiAnL2NvbnRyYWN0JzsKCiAgICAgICAgY2FzZSBhY3Rpb24uUkVRVUlSRURfVVBEQVRFX0lORk86CiAgICAgICAgICByZXR1cm4gJy91c2VyJzsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiAnLyc7CiAgICAgIH0KICAgIH0sCiAgICBnZXREZXN0aW5hdGlvbkZvclZlbmRvcjogZnVuY3Rpb24gZ2V0RGVzdGluYXRpb25Gb3JWZW5kb3IobWVzc2FnZSkgewogICAgICBzd2l0Y2ggKG1lc3NhZ2UuZGF0YS5hY3Rpb24pIHsKICAgICAgICBjYXNlIGFjdGlvbi5DT05UUkFDVF9BQ0NFUFRFRDoKICAgICAgICBjYXNlIGFjdGlvbi5SRVNFUlZFX0ZFRV9QQUlEOgogICAgICAgIGNhc2UgYWN0aW9uLlJFU1RfRkVFX1BBSUQ6CiAgICAgICAgY2FzZSBhY3Rpb24uTkVXX0NPTlRSQUNUOgogICAgICAgIGNhc2UgYWN0aW9uLkFMTF9GRUVfUEFJRDoKICAgICAgICAgIHJldHVybiAnL3ZlbmRvci92aWV3LWNvbnRyYWN0JzsKCiAgICAgICAgY2FzZSBhY3Rpb24uU0NBTl9DT05UUkFDVDoKICAgICAgICAgIHJldHVybiAnL3ZlbmRvci92aWV3LWNvbnRyYWN0JzsKCiAgICAgICAgY2FzZSBhY3Rpb24uTkVXX01FU1NBR0U6CiAgICAgICAgICBpZiAodGhpcy5pc01vYmlsZSkgewogICAgICAgICAgICByZXR1cm4gJy92ZW5kb3IvbW9iaWxlLW1lc3NhZ2UnOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiAnL3ZlbmRvcic7CgogICAgICAgIGNhc2UgYWN0aW9uLk5FV19CT09LSU5HOgogICAgICAgICAgcmV0dXJuICcvdmVuZG9yL2Jvb2tpbmcnOwoKICAgICAgICBjYXNlIGFjdGlvbi5TQ0FOX0JPT0tJTkc6CiAgICAgICAgICByZXR1cm4gJy92ZW5kb3IvYm9va2luZyc7CgogICAgICAgIGNhc2UgYWN0aW9uLlJFUVVJUkVEX1VQREFURV9JTkZPOgogICAgICAgICAgcmV0dXJuICcvdXNlcic7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gJy92ZW5kb3InOwogICAgICB9CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucmVnaXN0ZXJNZXNzYWdpbmcoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VyOiBmdW5jdGlvbiB1c2VyKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyLmRhdGE7CiAgICB9LAogICAgaXNMb2FkaW5nVXNlcjogZnVuY3Rpb24gaXNMb2FkaW5nVXNlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlci5pc0xvYWRpbmc7CiAgICB9LAogICAgbWVzc2FnZXM6IGZ1bmN0aW9uIG1lc3NhZ2VzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlci5ub3RpZmljYXRpb25zLmRhdGE7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5mb01lbnU6IFt7CiAgICAgICAgdGl0bGU6ICdUaMO0bmcgdGluJywKICAgICAgICB1cmw6ICcnCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlcigpOwogIH0KfTs="},{"version":3,"sources":["Notify.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,0BAAA,MAAA,mCAAA;AACA,OAAA,MAAA,MAAA,yCAAA;AACA,OAAA,WAAA,MAAA,qBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,kBADA;AAEA,EAAA,MAAA,EAAA,CAAA,0BAAA,EAAA,WAAA,CAFA;AAGA,EAAA,OAAA,kCACA,UAAA,CAAA;AACA,IAAA,OAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,cAJA,0BAIA,OAJA,EAIA;AACA,cAAA,KAAA,IAAA,CAAA,IAAA;AACA,aAAA,QAAA;AACA,iBAAA,KAAA,uBAAA,CAAA,OAAA,CAAA;;AACA,aAAA,QAAA;AACA,iBAAA,KAAA,uBAAA,CAAA,OAAA,CAAA;;AACA;AACA,iBAAA,KAAA,CAAA,EAAA,CAAA;AANA;AAQA,KAbA;AAcA,IAAA,uBAdA,mCAcA,OAdA,EAcA;AACA,cAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA,aAAA,MAAA,CAAA,YAAA;AACA,iBAAA,WAAA;;AACA,aAAA,MAAA,CAAA,eAAA;AACA,aAAA,MAAA,CAAA,oBAAA;AACA,aAAA,MAAA,CAAA,iBAAA;AACA,aAAA,MAAA,CAAA,gBAAA;AACA,iBAAA,WAAA;;AACA,aAAA,MAAA,CAAA,oBAAA;AACA,iBAAA,OAAA;;AACA;AACA,iBAAA,GAAA;AAXA;AAaA,KA5BA;AA6BA,IAAA,uBA7BA,mCA6BA,OA7BA,EA6BA;AACA,cAAA,OAAA,CAAA,IAAA,CAAA,MAAA;AACA,aAAA,MAAA,CAAA,iBAAA;AACA,aAAA,MAAA,CAAA,gBAAA;AACA,aAAA,MAAA,CAAA,aAAA;AACA,aAAA,MAAA,CAAA,YAAA;AACA,aAAA,MAAA,CAAA,YAAA;AACA,iBAAA,uBAAA;;AACA,aAAA,MAAA,CAAA,aAAA;AACA,iBAAA,uBAAA;;AACA,aAAA,MAAA,CAAA,WAAA;AACA,cAAA,KAAA,QAAA,EAAA;AACA,mBAAA,wBAAA;AACA;;AACA,iBAAA,SAAA;;AACA,aAAA,MAAA,CAAA,WAAA;AACA,iBAAA,iBAAA;;AACA,aAAA,MAAA,CAAA,YAAA;AACA,iBAAA,iBAAA;;AACA,aAAA,MAAA,CAAA,oBAAA;AACA,iBAAA,OAAA;;AACA;AACA,iBAAA,SAAA;AArBA;AAuBA;AArDA,IAHA;AA0DA,EAAA,OA1DA,qBA0DA;AACA,SAAA,iBAAA;AACA,GA5DA;AA6DA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,KAHA;AAIA,IAAA,aAJA,2BAIA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA;AACA,KANA;AAOA,IAAA,QAPA,sBAOA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,aAAA,CAAA,IAAA;AACA;AATA,GA7DA;AAwEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,QAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,WADA;AAEA,QAAA,GAAA,EAAA;AAFA,OADA;AADA,KAAA;AAAA,GAxEA;AAgFA,EAAA,OAhFA,qBAgFA;AACA,SAAA,OAAA;AACA;AAlFA,CAAA","sourcesContent":["<template>\n  <div class=\"d-flex justify-center align-center px-3\" style=\"height: 100%\">\n    <v-menu left :offset-y=\"true\" :offset-x=\"true\" @blur=\"this.notifications = []\">\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn v-bind=\"attrs\" v-on=\"on\" icon>\n          <v-badge\n            color=\"red\"\n            :content=\"messages.length\"\n            bordered\n            left\n            overlap\n            v-bind=\"attrs\"\n            v-on=\"on\"\n            v-if=\"messages.length !== 0\"\n          >\n            <v-icon color=\"#727cf5\" class=\"hidden-xs-only\">mdi-bell-outline</v-icon>\n            <v-icon color=\"#fff\" class=\"hidden-sm-and-up\">mdi-bell</v-icon>\n          </v-badge>\n          <v-icon v-if=\"messages.length === 0\" class=\"hidden-xs-only\" color=\"#98a6ad\"\n            >mdi-bell-outline</v-icon\n          >\n          <v-icon v-if=\"messages.length === 0\" color=\"#fff\" class=\"hidden-sm-and-up\"\n            >mdi-bell</v-icon\n          >\n        </v-btn>\n      </template>\n      <v-list\n        :dense=\"true\"\n        :two-line=\"true\"\n        :nav=\"true\"\n        :avatar=\"true\"\n        class=\"rounded-l\"\n        style=\"height: 405px; width: 300px\"\n      >\n        <v-list-item-group color=\"primary\">\n          <v-list-item\n            v-for=\"(item, i) in messages\"\n            :key=\"i\"\n            class=\"mb-2 pt-2\"\n            style=\"backgroundcolor: #f2f2f2\"\n            two-line\n            :to=\"getDestination(item)\"\n          >\n            <v-list-item-avatar>\n              <v-img :src=\"item.data.icon\"></v-img>\n            </v-list-item-avatar>\n            <v-list-item-content>\n              <v-list-item-title style=\"fontsize: 16px\" class=\"py-1\">\n                {{ item.data.title }}\n              </v-list-item-title>\n              <v-list-item-subtitle>\n                {{ item.data.body }}\n              </v-list-item-subtitle>\n            </v-list-item-content>\n          </v-list-item>\n        </v-list-item-group>\n      </v-list>\n    </v-menu>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport processFCMForegroundMixins from '../../mixins/processFCMForeground';\nimport action from '../../../config/pushNotificationActions';\nimport mobileMixin from '../../mixins/mobile';\n\nexport default {\n  name: 'NotifyAndProfile',\n  mixins: [processFCMForegroundMixins, mobileMixin],\n  methods: {\n    ...mapActions({\n      getUser: 'user/getUser',\n    }),\n    getDestination(message) {\n      switch (this.user.role) {\n        case 'RENTER':\n          return this.getDestinationForRenter(message);\n        case 'VENDOR':\n          return this.getDestinationForVendor(message);\n        default:\n          return Error('');\n      }\n    },\n    getDestinationForRenter(message) {\n      switch (message.data.action) {\n        case action.NEW_CONTRACT:\n          return '/contract';\n        case action.UPDATE_CONTRACT:\n        case action.RESERVE_FEE_RECEIVED:\n        case action.REST_FEE_RECEIVED:\n        case action.ALL_FEE_RECEIVED:\n          return '/contract';\n        case action.REQUIRED_UPDATE_INFO:\n          return '/user';\n        default:\n          return '/';\n      }\n    },\n    getDestinationForVendor(message) {\n      switch (message.data.action) {\n        case action.CONTRACT_ACCEPTED:\n        case action.RESERVE_FEE_PAID:\n        case action.REST_FEE_PAID:\n        case action.NEW_CONTRACT:\n        case action.ALL_FEE_PAID:\n          return '/vendor/view-contract';\n        case action.SCAN_CONTRACT:\n          return '/vendor/view-contract';\n        case action.NEW_MESSAGE:\n          if (this.isMobile) {\n            return '/vendor/mobile-message';\n          }\n          return '/vendor';\n        case action.NEW_BOOKING:\n          return '/vendor/booking';\n        case action.SCAN_BOOKING:\n          return '/vendor/booking';\n        case action.REQUIRED_UPDATE_INFO:\n          return '/user';\n        default:\n          return '/vendor';\n      }\n    },\n  },\n  mounted() {\n    this.registerMessaging();\n  },\n  computed: {\n    user() {\n      return this.$store.state.user.user.data;\n    },\n    isLoadingUser() {\n      return this.$store.state.user.user.isLoading;\n    },\n    messages() {\n      return this.$store.state.user.notifications.data;\n    },\n  },\n  data: () => ({\n    infoMenu: [\n      {\n        title: 'Thông tin',\n        url: '',\n      },\n    ],\n  }),\n  created() {\n    this.getUser();\n  },\n};\n</script>\n"],"sourceRoot":"src/components/vendor/overview"}]}