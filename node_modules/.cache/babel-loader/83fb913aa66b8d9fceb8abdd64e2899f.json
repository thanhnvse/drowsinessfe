{"remainingRequest":"D:\\capstone\\DrowsinessFrontEnd\\node_modules\\thread-loader\\dist\\cjs.js!D:\\capstone\\DrowsinessFrontEnd\\node_modules\\babel-loader\\lib\\index.js!D:\\capstone\\DrowsinessFrontEnd\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\capstone\\DrowsinessFrontEnd\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\capstone\\DrowsinessFrontEnd\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\capstone\\DrowsinessFrontEnd\\src\\App.vue","mtime":1625294387560},{"path":"D:\\capstone\\DrowsinessFrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\DrowsinessFrontEnd\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\DrowsinessFrontEnd\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\capstone\\DrowsinessFrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\capstone\\DrowsinessFrontEnd\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovY2Fwc3RvbmUvRHJvd3NpbmVzc0Zyb250RW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgJy4vYXNzZXRzL2Nzcy9zdHlsZS5jc3MnOwppbXBvcnQgcHVzaE5vdGlmaWNhdGlvbk1peGlucyBmcm9tICcuL2NvbXBvbmVudHMvbWl4aW5zL3B1c2hOb3RpZmljYXRpb24nOwppbXBvcnQgc25hY2tCYXJNaXhpbiBmcm9tICcuL2NvbXBvbmVudHMvbWl4aW5zL3NuYWNrQmFyJzsKaW1wb3J0IHByb2Nlc3NGQ01Gb3JlZ3JvdW5kIGZyb20gJy4vY29tcG9uZW50cy9taXhpbnMvcHJvY2Vzc0ZDTUZvcmVncm91bmQnOyAvLyBpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscy91dGlscyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgbWl4aW5zOiBbcHVzaE5vdGlmaWNhdGlvbk1peGlucywgc25hY2tCYXJNaXhpbiwgcHJvY2Vzc0ZDTUZvcmVncm91bmRdLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZWZyZXNoaW5nOiBmYWxzZSwKICAgICAgcmVnaXN0cmF0aW9uOiBudWxsLAogICAgICB1cGRhdGVFeGlzdHM6IGZhbHNlLAogICAgICByZWZyZXNoRmlyZWJhc2VUb2tlbklkOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICBjb25zb2xlLmxvZygnZ2V0IGZjbSB0b2tlbiBhdCBhcHAudnVlJyk7CgogICAgICBfdGhpcy5kb0dldE1lc3NhZ2luZ1Rva2VuKCk7CiAgICB9KTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N3VXBkYXRlZCcsIHRoaXMucmVmcmVzaEFwcCwgewogICAgICBvbmNlOiB0cnVlCiAgICB9KTsKCiAgICBpZiAobmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIpIHsKICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udHJvbGxlcmNoYW5nZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXMucmVmcmVzaGluZykgcmV0dXJuOwogICAgICAgIF90aGlzLnJlZnJlc2hpbmcgPSB0cnVlOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSk7CiAgICB9IC8vIEZyb20geW91ciBjbGllbnQgcGFnZXM6CgoKICAgIHZhciBjaGFubmVsID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoJ3lvaG8tc3ctbWVzc2FnZXMnKTsKICAgIGNoYW5uZWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQnLCBldmVudC5kYXRhKTsKCiAgICAgIF90aGlzLnJlY2VpdmVOZXdNZXNzYWdlKGV2ZW50LmRhdGEpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoewogICAgZ2V0VXNlcjogJ3VzZXIvZ2V0VXNlcicKICB9KSksIHt9LCB7CiAgICByZWZyZXNoQXBwOiBmdW5jdGlvbiByZWZyZXNoQXBwKGUpIHsKICAgICAgdGhpcy5zaG93U25hY2tCYXIoJ8SQYW5nIHThuqNpIGLhuqNuIGPhuq1wIG5o4bqtdCBt4bubaScsIHsKICAgICAgICBjb2xvcjogJ2dyZWVuJwogICAgICB9KTsKICAgICAgdGhpcy5yZWdpc3RyYXRpb24gPSBlLmRldGFpbDsKCiAgICAgIGlmICghdGhpcy5yZWdpc3RyYXRpb24gfHwgIXRoaXMucmVnaXN0cmF0aW9uLndhaXRpbmcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMucmVnaXN0cmF0aW9uLndhaXRpbmcucG9zdE1lc3NhZ2UoJ3NraXBXYWl0aW5nJyk7CiAgICB9CiAgfSksCiAgY29tcHV0ZWQ6IHt9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,wBAAA;AACA,OAAA,sBAAA,MAAA,sCAAA;AACA,OAAA,aAAA,MAAA,8BAAA;AACA,OAAA,oBAAA,MAAA,0CAAA,C,CACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,MAAA,EAAA,CAAA,sBAAA,EAAA,aAAA,EAAA,oBAAA,CAFA;AAGA,EAAA,UAAA,EAAA,EAHA;AAIA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA,IAFA;AAGA,MAAA,YAAA,EAAA,KAHA;AAIA,MAAA,sBAAA,EAAA;AAJA,KAAA;AAAA,GAJA;AAUA,EAAA,OAVA,qBAUA;AAAA;;AACA,SAAA,OAAA,GAAA,IAAA,CAAA,YAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,0BAAA;;AACA,MAAA,KAAA,CAAA,mBAAA;AACA,KAHA;AAIA,IAAA,QAAA,CAAA,gBAAA,CAAA,WAAA,EAAA,KAAA,UAAA,EAAA;AAAA,MAAA,IAAA,EAAA;AAAA,KAAA;;AACA,QAAA,SAAA,CAAA,aAAA,EAAA;AACA,MAAA,SAAA,CAAA,aAAA,CAAA,gBAAA,CAAA,kBAAA,EAAA,YAAA;AACA,YAAA,KAAA,CAAA,UAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,IAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,MAAA;AACA,OAJA;AAKA,KAZA,CAaA;;;AACA,QAAA,OAAA,GAAA,IAAA,gBAAA,CAAA,kBAAA,CAAA;AACA,IAAA,OAAA,CAAA,gBAAA,CAAA,SAAA,EAAA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,KAAA,CAAA,IAAA;;AACA,MAAA,KAAA,CAAA,iBAAA,CAAA,KAAA,CAAA,IAAA;AACA,KAHA;AAIA,GA7BA;AA8BA,EAAA,OAAA,kCACA,UAAA,CAAA;AACA,IAAA,OAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,UAJA,sBAIA,CAJA,EAIA;AACA,WAAA,YAAA,CAAA,2BAAA,EAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA;AACA,WAAA,YAAA,GAAA,CAAA,CAAA,MAAA;;AACA,UAAA,CAAA,KAAA,YAAA,IAAA,CAAA,KAAA,YAAA,CAAA,OAAA,EAAA;AACA;AACA;;AACA,WAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA,aAAA;AACA;AAXA,IA9BA;AA2CA,EAAA,QAAA,EAAA;AA3CA,CAAA","sourcesContent":["<template>\n  <div v-if=\"!refreshFirebaseTokenId\">\n    <router-view></router-view>\n    <v-snackbar\n      v-model=\"snackBarMixin.show\"\n      :multi-line=\"snackBarMixin.multiLine\"\n      :timeout=\"snackBarMixin.timeout\"\n      :absolute=\"snackBarMixin.absolute\"\n      :color=\"snackBarMixin.color\"\n    >\n      {{ snackBarMixin.message }}\n    </v-snackbar>\n  </div>\n</template>\n<script>\nimport { mapActions } from 'vuex';\nimport './assets/css/style.css';\nimport pushNotificationMixins from './components/mixins/pushNotification';\nimport snackBarMixin from './components/mixins/snackBar';\nimport processFCMForeground from './components/mixins/processFCMForeground';\n// import utils from './utils/utils';\n\nexport default {\n  name: 'App',\n  mixins: [pushNotificationMixins, snackBarMixin, processFCMForeground],\n  components: {},\n  data: () => ({\n    refreshing: false,\n    registration: null,\n    updateExists: false,\n    refreshFirebaseTokenId: false,\n  }),\n  created() {\n    this.getUser().then(() => {\n      console.log('get fcm token at app.vue');\n      this.doGetMessagingToken();\n    });\n    document.addEventListener('swUpdated', this.refreshApp, { once: true });\n    if (navigator.serviceWorker) {\n      navigator.serviceWorker.addEventListener('controllerchange', () => {\n        if (this.refreshing) return;\n        this.refreshing = true;\n        window.location.reload();\n      });\n    }\n    // From your client pages:\n    const channel = new BroadcastChannel('yoho-sw-messages');\n    channel.addEventListener('message', (event) => {\n      console.log('Received', event.data);\n      this.receiveNewMessage(event.data);\n    });\n  },\n  methods: {\n    ...mapActions({\n      getUser: 'user/getUser',\n    }),\n    refreshApp(e) {\n      this.showSnackBar('Đang tải bản cập nhật mới', { color: 'green' });\n      this.registration = e.detail;\n      if (!this.registration || !this.registration.waiting) {\n        return;\n      }\n      this.registration.waiting.postMessage('skipWaiting');\n    },\n  },\n  computed: {},\n};\n</script>\n"],"sourceRoot":"src"}]}